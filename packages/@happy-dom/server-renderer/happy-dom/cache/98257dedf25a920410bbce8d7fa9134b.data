"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[16477],{716477:function(e,t,n){n.d(t,{Lv:function(){return p5},Om:function(){return v_},bK:function(){return mM},ff:function(){return gr},me:function(){return vE},q:function(){return vT},rJ:function(){return l9},us:function(){return lL},wP:function(){return mT},xV:function(){return mF},xe:function(){return mP}});var r,a,i,o,u,c,s,l,d,f,p,h,v,g,m,y,b,w,k,S,x,C,R,I,q,O,A,E,F,T,D,M,P,j,_,V,U,L,Q,N,z,B,G,$,H,Y,W,K,J,Z,X,ee,et,en,er,ea,ei,eo=n(138683),eu=["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"],ec=["url"],es=["signal"],el=["url","accessToken","organizationId","authentication"],ed=["reducerPath"],ef=["url","token","trackingId"],ep=["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"],eh=["url","headers","params","responseHandler","validateStatus","timeout"],ev=["analyticsClientMiddleware"],eg=["view","location"],em=["url","accessToken","organizationId","trackingId","language","country","currency","clientId","context"],ey=["url","accessToken","organizationId","trackingId","language","country","currency","clientId","context"],eb=["facetId"],ew=["state"],ek=["numberOfResults"],eS=["numberOfResults"];function ex(e,t,n,r){var a=eC(eT(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof a?function(e){return a.apply(n,e)}:a}function eC(){return(eC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!({}).hasOwnProperty.call(e,t)&&null!==(e=eT(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(null,arguments)}function eR(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eF(e,t)}function eI(e){var t=eE();return function(){var n,r=eT(e);return n=t?Reflect.construct(r,arguments,eT(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eY(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eq(e)}(this,n)}}function eq(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){var t="function"==typeof Map?new Map:void 0;return(eO=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return eA(e,arguments,eT(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),eF(n,e)})(e)}function eA(e,t,n){if(eE())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&eF(a,n.prototype),a}function eE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eE=function(){return!!e})()}function eF(e,t){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(e){return(eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function eM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ez(r.key),r)}}function eP(e,t,n){return t&&eM(e.prototype,t),n&&eM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){eV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eV(e,t,n){return(t=ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e,t,n,r,a,i,o){try{var u=e[i](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function eL(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){eU(i,r,a,o,u,"next",e)}function u(e){eU(i,r,a,o,u,"throw",e)}o(void 0)})}}function eQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return u}}(e,t)||e$(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ez(e){var t=function(e,t){if("object"!=eY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eY(t)?t:t+""}function eB(e){return function(e){if(Array.isArray(e))return eH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e$(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eG(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=e$(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}),e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function e$(e,t){if(e){if("string"==typeof e)return eH(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(e,t):void 0}}function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eW=Object.create,eK=Object.defineProperty,eJ=Object.getOwnPropertyDescriptor,eZ=Object.getOwnPropertyNames,eX=Object.getPrototypeOf,e0=Object.prototype.hasOwnProperty,e1=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},e2=function(e,t,n,r){if(t&&"object"==eY(t)||"function"==typeof t){var a,i=eG(eZ(t));try{for(i.s();!(a=i.n()).done;)!function(){var i=a.value;e0.call(e,i)||i===n||eK(e,i,{get:function(){return t[i]},enumerable:!(r=eJ(t,i))||r.enumerable})}()}catch(e){i.e(e)}finally{i.f()}}return e},e4=function(e,t,n){return n=null!=e?eW(eX(e)):{},e2(!t&&e&&e.__esModule?n:eK(n,"default",{value:e,enumerable:!0}),e)},e3=function(e,t,n){var r;return r="symbol"!=eY(t)?t+"":t,r in e?eK(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},e5=e1(function(e){var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};e.getSanitizedOptions=function(e){var r=t(t({},n),e);return r.numOfAttempts<1&&(r.numOfAttempts=1),r}}),e6=e1(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fullJitter=function(e){return Math.round(Math.random()*e)}}),e8=e1(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.noJitter=function(e){return e}}),e7=e1(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=e6(),n=e8();e.JitterFactory=function(e){return"full"===e.jitter?t.fullJitter:n.noJitter}}),e9=e1(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=e7();e.Delay=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return t.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}()}),te=e1(function(e){var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,u)}c((r=r.apply(e,t||[])).next())})},a=e&&e.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};Object.defineProperty(e,"__esModule",{value:!0}),e.SkipFirstDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.apply=function(){return r(this,void 0,void 0,function(){return a(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(e9().Delay)}),tt=e1(function(e){var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(e9().Delay)}),tn=e1(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=te(),n=tt();e.DelayFactory=function(e,r){var a,i=(a=e).delayFirstAttempt?new n.AlwaysDelay(a):new t.SkipFirstDelay(a);return i.setAttemptNumber(r),i}}),tr=e1(function(e){var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,u)}c((r=r.apply(e,t||[])).next())})},n=e&&e.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};Object.defineProperty(e,"__esModule",{value:!0});var r=e5(),a=tn();e.backOff=function(e,a){return void 0===a&&(a={}),t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,new i(e,r.getSanitizedOptions(a)).execute()];case 1:return[2,t.sent()]}})})};var i=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return t(this,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return t(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()}),ta=e1(function(e,t){var n,r;n=e,r=function(){var e="millisecond",t="second",n="minute",r="hour",a="week",i="month",o="quarter",u="year",c="date",s="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p="en",h={};h[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};var v="$isDayjsObject",g=function(e){return e instanceof w||!(!e||!e[v])},m=function e(t,n,r){var a;if(!t)return p;if("string"==typeof t){var i=t.toLowerCase();h[i]&&(a=i),n&&(h[i]=n,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var u=t.name;h[u]=t,a=u}return!r&&a&&(p=a),a||!r&&p},y=function(e,t){if(g(e))return e.clone();var n="object"==eY(t)?t:{};return n.date=e,n.args=arguments,new w(n)},b={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,i),o=n-a<0,u=t.clone().add(r+(o?-1:1),i);return+(-(r+(n-a)/(o?a-u:u-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(s){return({M:i,y:u,w:a,d:"day",D:c,h:r,m:n,s:t,ms:e,Q:o})[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};b.l=m,b.i=g,b.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function f(e){this.$L=m(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return this.$d.toString()!==s},p.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return y(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<y(e)},p.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,o){var s=this,l=!!b.u(o)||o,d=b.p(e),f=function(e,t){var n=b.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return l?n:n.endOf("day")},p=function(e,t){return b.w(s.toDate()[e].apply(s.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},h=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case u:return l?f(1,0):f(31,11);case i:return l?f(1,v):f(0,v+1);case a:var y=this.$locale().weekStart||0,w=(h<y?h+7:h)-y;return f(l?g-w:g+(6-w),v);case"day":case c:return p(m+"Hours",0);case r:return p(m+"Minutes",1);case n:return p(m+"Seconds",2);case t:return p(m+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(a,o){var s,l=b.p(a),d="set"+(this.$u?"UTC":""),f=((s={}).day=d+"Date",s[c]=d+"Date",s[i]=d+"Month",s[u]=d+"FullYear",s[r]=d+"Hours",s[n]=d+"Minutes",s[t]=d+"Seconds",s[e]=d+"Milliseconds",s)[l],p="day"===l?this.$D+(o-this.$W):o;if(l===i||l===u){var h=this.clone().set(c,1);h.$d[f](p),h.init(),this.$d=h.set(c,Math.min(this.$D,h.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[b.p(e)]()},p.add=function(e,o){var c,s=this;e=Number(e);var l=b.p(o),d=function(t){var n=y(s);return b.w(n.date(n.date()+Math.round(t*e)),s)};if(l===i)return this.set(i,this.$M+e);if(l===u)return this.set(u,this.$y+e);if("day"===l)return d(1);if(l===a)return d(7);var f=((c={})[n]=6e4,c[r]=36e5,c[t]=1e3,c)[l]||1,p=this.$d.getTime()+e*f;return b.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||s;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=b.z(this),i=this.$H,o=this.$m,u=this.$M,c=n.weekdays,l=n.months,f=n.meridiem,p=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},h=function(e){return b.s(i%12||12,e,"0")},v=f||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return b.s(t.$y,4,"0");case"M":return u+1;case"MM":return b.s(u+1,2,"0");case"MMM":return p(n.monthsShort,u,l,3);case"MMMM":return p(l,u);case"D":return t.$D;case"DD":return b.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(n.weekdaysMin,t.$W,c,2);case"ddd":return p(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return b.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(i,o,!0);case"A":return v(i,o,!1);case"m":return String(o);case"mm":return b.s(o,2,"0");case"s":return String(t.$s);case"ss":return b.s(t.$s,2,"0");case"SSS":return b.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,c,s){var l,d=this,f=b.p(c),p=y(e),h=(p.utcOffset()-this.utcOffset())*6e4,v=this-p,g=function(){return b.m(d,p)};switch(f){case u:l=g()/12;break;case i:l=g();break;case o:l=g()/3;break;case a:l=(v-h)/6048e5;break;case"day":l=(v-h)/864e5;break;case r:l=v/36e5;break;case n:l=v/6e4;break;case t:l=v/1e3;break;default:l=v}return s?l:b.a(l)},p.daysInMonth=function(){return this.endOf(i).$D},p.$locale=function(){return h[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=m(e,t,!0);return r&&(n.$L=r),n},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),k=w.prototype;return y.prototype=k,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W","day"],["$M",i],["$y",u],["$D",c]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,w,y),e.$i=!0),y},y.locale=m,y.isDayjs=g,y.unix=function(e){return y(1e3*e)},y.en=h[p],y.Ls=h,y.p={},y},"object"==eY(e)&&"u">eY(t)?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"?globalThis:n||self).dayjs=r()}),ti=e1(function(e,t){var n,r;n=e,r=function(){var e="month",t="quarter";return function(n,r){var a=r.prototype;a.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var i=a.add;a.add=function(n,r){return n=Number(n),this.$utils().p(r)===t?this.add(3*n,e):i.bind(this)(n,r)};var o=a.startOf;a.startOf=function(n,r){var a=this.$utils(),i=!!a.u(r)||r;if(a.p(n)===t){var u=this.quarter()-1;return i?this.month(3*u).startOf(e).startOf("day"):this.month(3*u+2).endOf(e).endOf("day")}return o.bind(this)(n,r)}}},"object"==eY(e)&&"u">eY(t)?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"?globalThis:n||self).dayjs_plugin_quarterOfYear=r()}),to=e1(function(e,t){var n,r;n=e,r=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,a=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},u=function(e){return(e*=1)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},s=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e||"Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],l=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=o.meridiem;if(r){for(var a=1;a<=24;a+=1)if(e.indexOf(r(a,0,t))>-1){n=a>12;break}}else n=e===(t?"pm":"PM");return n},f={A:[i,function(e){this.afternoon=d(e,!1)}],a:[i,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*e}],SS:[r,function(e){this.milliseconds=10*e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[a,c("seconds")],ss:[a,c("seconds")],m:[a,c("minutes")],mm:[a,c("minutes")],H:[a,c("hours")],h:[a,c("hours")],HH:[a,c("hours")],hh:[a,c("hours")],D:[a,c("day")],DD:[r,c("day")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[a,c("week")],ww:[r,c("week")],M:[a,c("month")],MM:[r,c("month")],MMM:[i,function(e){var t=l("months"),n=(l("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(n<1)throw Error();this.month=n%12||n}],MMMM:[i,function(e){var t=l("months").indexOf(e)+1;if(t<1)throw Error();this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(e){this.year=u(e)}],YYYY:[/\d{4}/,c("year")],Z:s,ZZ:s};return function(n,r,a){a.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(u=n.parseTwoDigitYear);var i=r.prototype,c=i.parse;i.parse=function(n){var r=n.date,i=n.utc,u=n.args;this.$u=i;var s=u[1];if("string"==typeof s){var l=!0===u[2],d=!0===u[3],p=u[2];d&&(p=u[2]),o=this.$locale(),!l&&p&&(o=a.Ls[p]),this.$d=function(n,r,a,i){try{if(["x","X"].indexOf(r)>-1)return new Date(("X"===r?1e3:1)*n);var u=(function(n){var r,a;r=n,a=o&&o.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,r){var i=r&&r.toUpperCase();return n||a[r]||e[r]||a[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})).match(t),u=i.length,c=0;c<u;c+=1){var s=i[c],l=f[s],d=l&&l[0],p=l&&l[1];i[c]=p?{regex:d,parser:p}:s.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<u;n+=1){var a=i[n];if("string"==typeof a)r+=a.length;else{var o=a.regex,c=a.parser,s=e.slice(r),l=o.exec(s)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}})(r)(n),c=u.year,s=u.month,l=u.day,d=u.hours,p=u.minutes,h=u.seconds,v=u.milliseconds,g=u.zone,m=u.week,y=new Date,b=l||(c||s?1:y.getDate()),w=c||y.getFullYear(),k=0;c&&!s||(k=s>0?s-1:y.getMonth());var S,x=d||0,C=p||0,R=h||0,I=v||0;return g?new Date(Date.UTC(w,k,b,x,C,R,I+60*g.offset*1e3)):a?new Date(Date.UTC(w,k,b,x,C,R,I)):(S=new Date(w,k,b,x,C,R,I),m&&(S=i(S).week(m).toDate()),S)}catch(e){return new Date("")}}(r,s,i,a),this.init(),p&&!0!==p&&(this.$L=this.locale(p).$L),(l||d)&&r!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var h=s.length,v=1;v<=h;v+=1){u[1]=s[v-1];var g=a.apply(this,u);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}v===h&&(this.$d=new Date(""))}else c.call(this,n)}}},"object"==eY(e)&&"u">eY(t)?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=r()}),tu=e1(function(e,t){var n=/(^|; )Coveo-Pendragon=([^;]*)/;t.exports=function(){var e;return(null==(e=n.exec(document.cookie))?void 0:e.pop())||null}}),tc=e1(function(e,t){var n,r;n=e,r=function(){var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,r,a){var i,o=function(e,n,r){void 0===r&&(r={});var a,i,o,u,c=new Date(e);return(void 0===(a=r)&&(a={}),(u=t[o=n+"|"+(i=a.timeZoneName||"short")])||(u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),t[o]=u),u).formatToParts(c)},u=function(t,n){for(var r=o(t,n),i=[],u=0;u<r.length;u+=1){var c=r[u],s=c.type,l=c.value,d=e[s];d>=0&&(i[d]=parseInt(l,10))}var f=i[3],p=i[0]+"-"+i[1]+"-"+i[2]+" "+(24===f?0:f)+":"+i[4]+":"+i[5]+":000",h=+t;return(a.utc(p).valueOf()-(h-=h%1e3))/6e4},c=r.prototype;c.tz=function(e,t){void 0===e&&(e=i);var n,r=this.utcOffset(),o=this.toDate(),u=o.toLocaleString("en-US",{timeZone:e}),c=Math.round((o-new Date(u))/1e3/60),s=-(15*Math.round(o.getTimezoneOffset()/15))-c;if(Number(s)){if(n=a(u,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(s,!0),t){var l=n.utcOffset();n=n.add(r-l,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},c.offsetName=function(e){var t=this.$x.$timezone||a.tz.guess(),n=o(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return n&&n.value};var s=c.startOf;c.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return s.call(this,e,t);var n=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return s.call(n,e,t).tz(this.$x.$timezone,!0)},a.tz=function(e,t,n){var r=n&&t,o=n||t||i,c=u(+a(),o);if("string"!=typeof e)return a(e).tz(o);var s=function(e,t,n){var r=e-60*t*1e3,a=u(r,n);if(t===a)return[r,t];var i=u(r-=60*(a-t)*1e3,n);return a===i?[r,a]:[e-60*Math.min(a,i)*1e3,Math.max(a,i)]}(a.utc(e,r).valueOf(),c,o),l=s[0],d=s[1],f=a(l).utcOffset(d);return f.$x.$timezone=o,f},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(e){i=e}}},"object"==eY(e)&&"u">eY(t)?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"?globalThis:n||self).dayjs_plugin_timezone=r()}),ts=e1(function(e,t){var n,r;n=e,r=function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,a,i){var o=a.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new a(t)},o.utc=function(t){var n=i(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},o.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var u=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),u.call(this,e)};var c=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var s=o.utcOffset;o.utcOffset=function(r,a){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?s.call(this):this.$offset;if("string"==typeof r&&null===(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var a=(""+r[0]).match(n)||["-",0,0],i=a[0],o=60*a[1]+ +a[2];return 0===o?0:"+"===i?o:-o}(r)))return this;var o=16>=Math.abs(r)?60*r:r,u=this;if(a)return u.$offset=o,u.$u=0===r,u;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(o+c,e)).$offset=o,u.$x.$localOffset=c}else u=this.utc();return u};var l=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var d=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=o.diff;o.diff=function(e,t,n){if(e&&this.$u===e.$u)return f.call(this,e,t,n);var r=this.local(),a=i(e).local();return f.call(r,a,t,n)}}},"object"==eY(e)&&"u">eY(t)?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"?globalThis:n||self).dayjs_plugin_utc=r()}),tl=e1(function(e,t){function n(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}t.exports=function(e,t,r){var a=r&&r.stringify||n;if("object"==eY(e)&&null!==e){var i=t.length+1;if(1===i)return e;var o=Array(i);o[0]=a(e);for(var u=1;u<i;u++)o[u]=a(t[u]);return o.join(" ")}if("string"!=typeof e)return e;var c=t.length;if(0===c)return e;for(var s="",l=0,d=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(l>=c||null==t[l])break;d<p&&(s+=e.slice(d,p)),s+=Number(t[l]),d=p+2,p++;break;case 105:if(l>=c||null==t[l])break;d<p&&(s+=e.slice(d,p)),s+=Math.floor(Number(t[l])),d=p+2,p++;break;case 79:case 111:case 106:if(l>=c||void 0===t[l])break;d<p&&(s+=e.slice(d,p));var h=eY(t[l]);if("string"===h){s+="'"+t[l]+"'",d=p+2,p++;break}if("function"===h){s+=t[l].name||"<anonymous>",d=p+2,p++;break}s+=a(t[l]),d=p+2,p++;break;case 115:if(l>=c)break;d<p&&(s+=e.slice(d,p)),s+=String(t[l]),d=p+2,p++;break;case 37:d<p&&(s+=e.slice(d,p)),s+="%",d=p+2,p++,l--}++l}++p}return -1===d?e:(d<f&&(s+=e.slice(d)),s)}}),td=e1(function(e,t){var n=tl();t.exports=s;var r=function(){function e(e){return"u">eY(e)&&e}try{return("undefined"==typeof globalThis?"undefined":eY(globalThis))<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function a(e,t){return"silent"===e?1/0:t.levels.values[e]}var i=Symbol("pino.logFuncs"),o=Symbol("pino.hierarchy"),u={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(e,t){var n={logger:t,parent:e[o]};t[o]=n}function s(e){(e=e||{}).browser=e.browser||{};var t,n,o,p,h,v,b=e.browser.transmit;if(b&&"function"!=typeof b.send)throw Error("pino: transmit option must have a send function");var w=e.browser.write||r;e.browser.write&&(e.browser.asObject=!0);var k=e.serializers||{},S=(h=e.browser.serialize,Array.isArray(h)?h.filter(function(e){return"!stdSerializers.err"!==e}):!0===h&&Object.keys(k)),x=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1);var C=Object.keys(e.customLevels||{}),R=["error","fatal","warn","info","debug","trace"].concat(C);"function"==typeof w&&R.forEach(function(e){w[e]=w}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");var I=e.level||"info",q=Object.create(w);q.log||(q.log=g),v={},R.forEach(function(e){v[e]=w[e]?w[e]:r[e]||r[u[e]||"log"]||g}),q[i]=v,c({},q),Object.defineProperty(q,"levelVal",{get:function(){return a(this.level,this)}}),Object.defineProperty(q,"level",{get:function(){return this._level},set:function(e){var t=this;if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,l(this,O,q,"error"),l(this,O,q,"fatal"),l(this,O,q,"warn"),l(this,O,q,"info"),l(this,O,q,"debug"),l(this,O,q,"trace"),C.forEach(function(e){l(t,O,q,e)})}});var O={transmit:b,serialize:S,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:R,timestamp:"function"==typeof(t=e).timestamp?t.timestamp:!1===t.timestamp?m:y,messageKey:e.messageKey||"msg",onChild:e.onChild||g};function A(t,n,r){if(!n)throw Error("missing bindings for child Pino");r=r||{},S&&n.serializers&&(r.serializers=n.serializers);var a=r.serializers;if(S&&a){var i=Object.assign({},k,a),o=!0===e.browser.serialize?Object.keys(i):S;delete n.serializers,d([n],o,i,this._stdErrSerialize)}function u(e){this._childLevel=(0|e._childLevel)+1,this.bindings=n,i&&(this.serializers=i,this._serialize=o),b&&(this._logEvent=f([].concat(e._logEvent.bindings,n)))}u.prototype=this;var s=new u(this);return c(this,s),s.child=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return A.call.apply(A,[this,t].concat(n))},s.level=r.level||this.level,t.onChild(s),s}return n=e.customLevels||{},q.levels={values:Object.assign({},s.levels.values,n),labels:Object.assign({},s.levels.labels,(p={},Object.keys(o=n).forEach(function(e){p[o[e]]=e}),p))},q.level=I,q.setMaxListeners=q.getMaxListeners=q.emit=q.addListener=q.on=q.prependListener=q.once=q.prependOnceListener=q.removeListener=q.removeAllListeners=q.listeners=q.listenerCount=q.eventNames=q.write=q.flush=g,q.serializers=k,q._serialize=S,q._stdErrSerialize=x,q.child=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.call.apply(A,[this,O].concat(t))},b&&(q._logEvent=f()),q}function l(e,t,u,c){if(Object.defineProperty(e,c,{value:a(e.level,u)>a(c,u)?g:u[i][c],writable:!0,enumerable:!0,configurable:!0}),e[c]===g){if(!t.transmit)return;var s,l,p,h,v,m,y,b=a(t.transmit.level||e.level,u);if(a(c,u)<b)return}e[c]=(s=e,l=t,p=u,h=c,v=s[i][h],function(){for(var e=l.timestamp(),t=Array(arguments.length),i=Object.getPrototypeOf&&Object.getPrototypeOf(this)===r?r:this,o=0;o<t.length;o++)t[o]=arguments[o];var u=!1;if(l.serialize&&(d(t,this._serialize,this.serializers,this._stdErrSerialize),u=!0),l.asObject||l.formatters?v.call(i,function(e,t,r,a,i){var o=i.formatters||{},u=o.level,c=o.log,s=r.slice(),l=s[0],d={};(a&&(d.time=a),u)?Object.assign(d,u(t,e.levels.values[t])):d.level=e.levels.values[t];var f=(0|e._childLevel)+1;if(f<1&&(f=1),null!==l&&"object"==eY(l)){for(;f--&&"object"==eY(s[0]);)Object.assign(d,s.shift());l=s.length?n(s.shift(),s):void 0}else"string"==typeof l&&(l=n(s.shift(),s));return void 0!==l&&(d[i.messageKey]=l),(void 0===c?function(e){return e}:c)(d)}(this,h,t,e,l)):v.apply(i,t),l.transmit){var c=l.transmit.level||s._level,g=a(c,p),m=a(h,p);if(m<g)return;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.send,i=t.ts,o=t.methodLevel,u=t.methodValue,c=t.val,s=e._logEvent.bindings;r||d(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(e){return -1===s.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=u,a(o,e._logEvent,c),e._logEvent=f(s)}(this,{ts:e,methodLevel:h,methodValue:m,transmitLevel:c,transmitValue:p.levels.values[l.transmit.level||s._level],send:l.transmit.send,val:a(s._level,p)},t,u)}});var w=function(e){var t=[];e.bindings&&t.push(e.bindings);for(var n=e[o];n.parent;)(n=n.parent).logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==w.length&&(e[c]=(m=w,y=e[c],function(){return y.apply(this,[].concat(eB(m),Array.prototype.slice.call(arguments)))}))}function d(e,t,n,r){for(var a in e)if(r&&e[a]instanceof Error)e[a]=s.stdSerializers.err(e[a]);else if("object"==eY(e[a])&&!Array.isArray(e[a])&&t)for(var i in e[a])t.indexOf(i)>-1&&i in n&&(e[a][i]=n[i](e[a][i]))}function f(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}function h(){return{}}function v(e){return e}function g(){}function m(){return!1}function y(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:h,res:h,err:p,errWithCause:p},s.stdTimeFunctions=Object.assign({},{nullTime:m,epochTime:y,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),t.exports.default=s,t.exports.pino=s}),tf={},tp={escape:function(){return tS},getHighlightedSuggestion:function(){return tw},highlightString:function(){return tb}};for(var th in tp)eK(tf,th,{get:tp[th],enumerable:!0});var tv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return e+Math.random().toString(36).substring(2,2+t)};function tg(e){return""===e.trim()}var tm=new Set(["1",1,"yes",!0]);function ty(e){if("object"!=eY(e)||!e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function tb(e){if(tg(e.openingDelimiter)||tg(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if((0,eo.le)(e.content)||tg(e.content))return e.content;if(0===e.highlights.length)return tS(e.content);for(var t=e.content.length,n="",r=0,a=0;a<e.highlights.length;a++){var i=e.highlights[a],o=i.offset,u=o+i.length;if(u>t)break;n+=tS(e.content.slice(r,o)),n+=e.openingDelimiter,n+=tS(e.content.slice(o,u)),n+=e.closingDelimiter,r=u}return r!==t&&(n+=tS(e.content.slice(r))),n}function tw(e,t){return(e=tS(e)).replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,function(e,n,r,a){return n?tk(n,t.notMatchDelimiters):r?tk(r,t.exactMatchDelimiters):a?tk(a,t.correctionDelimiters):e})}function tk(e,t){return t?t.open+e+t.close:e}function tS(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return r.test(e)?e.replace(a,function(e){return t[e]}):e}function tx(){return(tx=eL(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader();case 1:return e.next=3,r.read();case 3:if((a=e.sent).done){e.next=7;break}n(a.value);case 5:e.next=1;break;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tC(){return{data:"",event:"",id:"",retry:void 0}}var tR="text/event-stream",tI="last-event-id";function tq(){return("undefined"==typeof window?"undefined":eY(window))<"u"}function tO(e,t){var n=t.signal,r=t.headers,a=t.onopen,i=t.onmessage,o=t.onclose,u=t.onerror,c=t.openWhenHidden,s=t.fetch,l=eN(t,eu);return new Promise(function(t,d){var f=e_({},r);function p(){var e;null!=(e=h)&&e.abort(),document.hidden||w()}f.accept||(f.accept=tR),!c&&tq()&&document.addEventListener("visibilitychange",p);var h,v,g=1e3;function m(){var e;tq()&&document.removeEventListener("visibilitychange",p),clearTimeout(v),null==(e=h)||e.abort()}null==n||n.addEventListener("abort",function(){m(),t()});var y=null!=s?s:fetch,b=null!=a?a:tA;function w(){return k.apply(this,arguments)}function k(){return(k=eL(regeneratorRuntime.mark(function n(){var r,a,c,s,p,k;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h=AbortController?new AbortController:null,n.prev=1,n.next=4,y(e,e_(e_({},l),{},{headers:f,signal:null==(r=h)?void 0:r.signal}));case 4:return a=n.sent,n.next=7,b(a);case 7:return n.next=9,function(e,t){return tx.apply(this,arguments)}(a.body,function(e){var t,n,r,a=!1;return function(i){void 0===t?(t=i,n=0,r=-1):t=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(t,i);for(var o=t.length,u=0;n<o;){a&&(10===t[n]&&(u=++n),a=!1);for(var c=-1;n<o&&-1===c;++n)switch(t[n]){case 58:-1===r&&(r=n-u);break;case 13:a=!0,c=n;break;case 10:c=n}if(-1===c)break;e(t.subarray(u,c),r),u=n,r=-1}u===o?t=void 0:0!==u&&(t=t.subarray(u),n-=u)}}(function(e,t,n){var r=tC(),a=new TextDecoder;return function(i,o){if(0===i.length)null!=n&&n(r),r=tC();else if(o>0){var u=a.decode(i.subarray(0,o)),c=o+(32===i[o+1]?2:1),s=a.decode(i.subarray(c));switch(u){case"data":r.data=r.data?r.data+"\n"+s:s;break;case"event":r.event=s;break;case"id":e(r.id=s);break;case"retry":!function(e,t,n){var r=parseInt(e,10);isNaN(r)||n(t.retry=r)}(s,r,t)}}}}(function(e){e?f[tI]=e:delete f[tI]},function(e){g=e},i)));case 9:null!=o&&o(),m(),t(),n.next=17;break;case 14:if(n.prev=14,n.t0=n.catch(1),!(null!=(c=h)&&null!=(s=c.signal)&&s.aborted))try{k=null!=(p=null==u?void 0:u(n.t0))?p:g,clearTimeout(v),v=setTimeout(w,k)}catch(e){m(),d(e)}case 17:case"end":return n.stop()}},n,null,[[1,14]])}))).apply(this,arguments)}w()})}function tA(e){var t=e.headers.get("content-type");if(!(null!=t&&t.startsWith(tR)))throw Error("Expected content-type to be ".concat(tR,", Actual: ").concat(t))}var tE=function(){function e(t){eD(this,e),e3(this,"_basePath"),e3(this,"_params",{}),this._basePath=t}return eP(e,[{key:"addParam",value:function(e,t){this._params=e_(e_({},this.params),{},eV({},e,t))}},{key:"basePath",get:function(){return this._basePath}},{key:"params",get:function(){return this._params}},{key:"hasParams",get:function(){return Object.entries(this._params).length}},{key:"href",get:function(){return this.hasParams?"".concat(this.basePath,"?").concat(Object.entries(this.params).map(function(e){var t=eQ(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&")):this.basePath}}]),e}(),tF=function(e){eR(n,e);var t=eI(n);function n(){return eD(this,n),t.apply(this,arguments)}return eP(n)}(eO(Error)),tT=function(e){eR(n,e);var t=eI(n);function n(e){var r;return eD(this,n),(r=t.call(this,e.message)).payload=e,r}return eP(n)}(eO(Error)),tD=function(){function e(){eD(this,e),e3(this,"timeouts",new Set)}return eP(e,[{key:"add",value:function(e){this.timeouts.add(e)}},{key:"remove",value:function(e){clearTimeout(e),this.timeouts.delete(e)}},{key:"isActive",value:function(e){return this.timeouts.has(e)}}]),e}(),tM=function(){function e(t){eD(this,e),e3(this,"logger"),this.logger=t.logger}return eP(e,[{key:"streamGeneratedAnswer",value:function(e,t){var n=this,r=e.url,a=e.organizationId,i=e.streamId,o=e.accessToken,u=t.write,c=t.abort,s=t.close,l=t.resetAnswer,d=new tD;if(!i)return void this.logger.error("No stream ID found");var f,p=0,h=function(){f&&!d.isActive(f)&&(null!=g&&g.abort(),l(),m())},v=function(){d.remove(f),clearTimeout(f),f=setTimeout(h,5e3),d.add(f)},g=new AbortController,m=function(){return tO(new tE("".concat(r,"/rest/organizations/").concat(a,"/machinelearning/streaming/").concat(i)).href,{method:"GET",fetch:fetch,headers:{Authorization:"Bearer ".concat(o),accept:"*/*"},openWhenHidden:!0,signal:null==g?void 0:g.signal,onopen:function(e){return eL(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.ok&&"text/event-stream"===e.headers.get("content-type"))){t.next=2;break}return t.abrupt("return");case 2:throw e.status>=400&&e.status<500&&429!==e.status?new tT({message:"Error opening stream",code:e.status}):new tF;case 3:case"end":return t.stop()}},t)}))()},onmessage:function(e){if(null==g||!g.signal.aborted){var t=JSON.parse(e.data);if("ERROR"===t.finishReason){d.remove(f),null!=g&&g.abort(),c({message:t.errorMessage,code:t.statusCode});return}u(t),p=0,"COMPLETED"===t.finishReason?(d.remove(f),s()):v()}},onerror:function(e){if(!(null!=g&&g.signal.aborted)){if(d.remove(f),e instanceof tT)throw null!=g&&g.abort(),c(e),e;if(++p>3){n.logger.info("Maximum retry exceeded.");var t={message:"Failed to complete stream.",code:1};throw null!=g&&g.abort(),c(t),new tT(t)}n.logger.info("Retrying...(".concat(p,"/").concat(3,")")),l()}}})};return m(),g}}]),e}(),tP=e4(tr(),1);Symbol.for("recommendation-internal-options");var tj=Error("Failed to load reducers."),t_=function(e){eR(n,e);var t=eI(n);function n(){var e;return eD(this,n),(e=t.call(this)).name="ExpiredToken",e.message="The token being used to perform the request is expired.",e}return eP(n)}(eO(Error)),tV=function(e){eR(n,e);var t=eI(n);function n(e,r){var a;return eD(this,n),e3(eq(a=t.call(this)),"statusCode"),a.name="Disconnected",a.message="Client could not connect to the following URL: ".concat(e),a.statusCode=null!=r?r:0,a}return eP(n)}(eO(Error));function tU(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}var tL=function(){var e,t;function n(){eD(this,n)}return eP(n,null,[{key:"call",value:(e=eL(regeneratorRuntime.mark(function e(t){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){var t=e.url,n=e.method,r=e.requestParams,a=e.contentType,i=e.accessToken,o=e.signal,u="POST"===e.method||"PUT"===e.method,c=function(e,t){return"application/x-www-form-urlencoded"===t?"object"==eY(e)&&e&&Object.values(e).every(tU)?function(e){var t=[];for(var n in e){var r=encodeURIComponent(n),a=encodeURIComponent(e[n]);t.push("".concat(r,"=").concat(a))}return t.join("&")}(e):"":JSON.stringify(e)}(r,a);return e_(e_({url:t,method:n,headers:e_({"Content-Type":a,Authorization:"Bearer ".concat(i)},e.headers)},u&&{body:c}),{},{signal:o})}(t),a=t.logger,e.next=4,n.preprocessRequest(r,t);case 4:return i=e.sent,a.info(i,"Platform request"),o=i.url,u=eN(i,ec),c=function(){var e=eL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o,u);case 2:if(429!==(t=e.sent).status){e.next=5;break}throw t;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=7,e.next=10,(0,tP.backOff)(c,{retry:function(e){var t=e&&429===e.status;return t&&a.info("Platform retrying request"),t}});case 10:s=e.sent,e.t0=s.status,e.next=419===e.t0||401===e.t0?14:404===e.t0?15:16;break;case 14:throw a.info("Platform renewing token"),new t_;case 15:throw new tV(o,s.status);case 16:return e.abrupt("return",(a.info({response:s,requestInfo:i},"Platform response"),s));case 17:e.next=22;break;case 19:return e.prev=19,e.t1=e.catch(7),e.abrupt("return","Failed to fetch"===e.t1.message?new tV(o):e.t1);case 22:case"end":return e.stop()}},e,null,[[7,19]])})),function(t){return e.apply(this,arguments)})},{key:"preprocessRequest",value:(t=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.origin,a=n.preprocessRequest,i=n.logger,o=n.requestMetadata,t.signal,u=ty(eN(t,es)),e.prev=1,e.next=4,a(t,r,o);case 4:return c=e.sent,e.abrupt("return",e_(e_({},t),c));case 8:e.prev=8,e.t0=e.catch(1),i.error(e.t0,"Platform request preprocessing failed. Returning default request options.");case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e,n){return t.apply(this,arguments)})}]),n}();function tQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prod",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"platform";return"https://".concat(e).concat("platform"===n?"":".".concat(n),".org").concat("prod"===t?"":t,".coveo.com")}function tN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prod";return"".concat(tQ(e,t),"/rest/search/v2")}var tz=function(e){return e},tB=function(e){return e},tG=function(e){return e},t$=function(e){return e};function tH(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function tY(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],generateAutomaticFacets:{facets:[]},queryCorrections:[],triggers:[],questionAnswer:tH(),pipeline:"",splitTestRun:"",termsToHighlight:{},phrasesToHighlight:{},extendedResults:{}},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:"",questionAnswer:tH(),extendedResults:{}}}function tW(e){return e.url,e.accessToken,e.organizationId,e.authentication,eN(e,el)}var tK=function(e){var t=e.response;return t.body?tJ(e):tZ(t)},tJ=function(e){return void 0!==e.body.exception?tX(e):void 0!==e.body.statusCode?e.body:{message:"unknown",statusCode:0,type:"unknown"}},tZ=function(e){var t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return e_(e_({},t),{},{message:"Client side error: ".concat(t.message||""),statusCode:400,type:"ClientError"})},tX=function(e){return{message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}},t0=function(){var e;function t(){eD(this,t),e3(this,"currentAbortController",null)}return eP(t,[{key:"enqueue",value:(e=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.currentAbortController,a=this.currentAbortController=new AbortController,r&&(n.warnOnAbort&&n.logger.warn("Cancelling current pending search query"),r.abort()),e.prev=2,e.next=5,t(null!=(i=null==a?void 0:a.signal)?i:null);case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,this.currentAbortController===a&&(this.currentAbortController=null),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[2,,6,9]])})),function(t,n){return e.apply(this,arguments)})}]),t}(),t1=function(e,t,n,r){var a=new tE("".concat(e.url).concat(r));return a.addParam("organizationId",e.organizationId),e.authentication&&a.addParam("authentication",e.authentication),{accessToken:e.accessToken,method:t,contentType:n,url:a.href,origin:"searchApiFetch"}},t2=function(e,t){var n=new tE("".concat(e.url).concat(t));return n.addParam("access_token",e.accessToken),n.addParam("organizationId",e.organizationId),n.addParam("uniqueId",e.uniqueId),e.authentication&&n.addParam("authentication",e.authentication),void 0!==e.q&&n.addParam("q",e.q),void 0!==e.enableNavigation&&n.addParam("enableNavigation","".concat(e.enableNavigation)),void 0!==e.requestedOutputSize&&n.addParam("requestedOutputSize","".concat(e.requestedOutputSize)),n.href},t4=(rW=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"POST","application/x-www-form-urlencoded","/html")),{},{requestParams:tW(t),requestMetadata:{method:"html"}},n));case 2:if(!((r=e.sent)instanceof Error)){e.next=5;break}throw r;case 5:return a=((r.headers.get("content-type")||"").split(";").find(function(e){return -1!==e.indexOf("charset=")})||"").split("=")[1]||"UTF-8",e.next=8,r.arrayBuffer();case 8:return i=e.sent,o=new TextDecoder(a).decode(i),e.abrupt("return","string"==typeof o?{success:o}:{error:tK({response:r,body:o})});case 11:case"end":return e.stop()}},e)})),function(e,t){return rW.apply(this,arguments)});function t3(e,t){if(t&&"AbortError"===e.name)return{error:{statusCode:e.code,type:e.name,message:e.message,ignored:!0}};if(e instanceof tV)return{error:{statusCode:e.statusCode,type:e.name,message:e.message}};throw e}var t5=function(){var e,t,n,r,a,i,o;function u(e){eD(this,u),this.options=e,e3(this,"apiCallsQueues",{unknown:new t0,mainSearch:new t0,facetValues:new t0,foldingCollection:new t0,instantResults:new t0})}return eP(u,[{key:"plan",value:(e=eL(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"POST","application/json","/plan")),{},{requestParams:tW(t),requestMetadata:{method:"plan"}},this.options));case 2:if(!((n=e.sent)instanceof Error)){e.next=5;break}return e.abrupt("return",t3(n));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",void 0!==r.preprocessingOutput?{success:r}:{error:tK({response:n,body:r})});case 9:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"querySuggest",value:(t=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"POST","application/json","/querySuggest")),{},{requestMetadata:{method:"querySuggest"},requestParams:tW(t)},this.options));case 2:if(!((n=e.sent)instanceof Error)){e.next=5;break}return e.abrupt("return",t3(n));case 5:return e.next=7,n.json();case 7:if(r=e.sent,a={response:n,body:r},void 0===r.completions){e.next=16;break}return e.next=12,this.options.postprocessQuerySuggestResponseMiddleware(a);case 12:e.t1=e.sent.body,e.t0={success:e.t1},e.next=17;break;case 16:e.t0={error:tK(a)};case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"search",value:(n=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null!=(u=null==n?void 0:n.origin)?u:"unknown",e.next=3,this.apiCallsQueues[r].enqueue(function(e){return tL.call(e_(e_(e_({},t1(t,"POST","application/json","")),{},{requestParams:tW(t),requestMetadata:{method:"search",origin:null==n?void 0:n.origin}},c.options),{},{signal:null!=e?e:void 0}))},{logger:this.options.logger,warnOnAbort:!(null!=n&&n.disableAbortWarning)});case 3:if(!((a=e.sent)instanceof Error)){e.next=6;break}return e.abrupt("return",t3(a,null==n?void 0:n.disableAbortWarning));case 6:return e.next=8,a.json();case 8:if(i=e.sent,o={response:a,body:i},!t7(i)){e.next=18;break}return o.body=t9(i),e.next=14,this.options.postprocessSearchResponseMiddleware(o);case 14:e.t1=e.sent.body,e.t0={success:e.t1},e.next=19;break;case 18:e.t0={error:tK(o)};case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"facetSearch",value:(r=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"POST","application/json","/facet")),{},{requestParams:tW(t),requestMetadata:{method:"facetSearch"}},this.options));case 2:if(!((n=e.sent)instanceof Error)){e.next=5;break}throw n;case 5:return e.next=7,n.json();case 7:return r=e.sent,a={response:n,body:r},e.next=11,this.options.postprocessFacetSearchResponseMiddleware(a);case 11:return e.abrupt("return",e.sent.body);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"recommendations",value:(a=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"POST","application/json","")),{},{requestParams:tW(t),requestMetadata:{method:"recommendations"}},this.options));case 2:if(!((n=e.sent)instanceof Error)){e.next=5;break}throw n;case 5:return e.next=7,n.json();case 7:if(!t7(r=e.sent)){e.next=15;break}return(a={response:n,body:r}).body=t9(r),e.next=13,this.options.postprocessSearchResponseMiddleware(a);case 13:return e.t0=e.sent.body,e.abrupt("return",{success:e.t0});case 15:return e.abrupt("return",{error:tK({response:n,body:r})});case 16:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"html",value:(i=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t4(t,e_({},this.options)));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"fieldDescriptions",value:(o=eL(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tL.call(e_(e_({},t1(t,"GET","application/json","/fields")),{},{requestParams:{},requestMetadata:{method:"fieldDescriptions"}},this.options));case 2:if(!((n=e.sent)instanceof Error)){e.next=5;break}throw n;case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",void 0!==r.fields?{success:r}:{error:tK({response:n,body:r})});case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}]),u}(),t6=function(e){return void 0!==e.success},t8=function(e){return void 0!==e.error};function t7(e){return void 0!==e.results}function t9(e){var t=tH();return(0,eo.le)(e.questionAnswer)?e.questionAnswer=t:e.questionAnswer=e_(e_({},t),e.questionAnswer),e}var ne=new eo.Gm({required:!0,emptyAllowed:!1}),nt=new eo.Gm({required:!1,emptyAllowed:!1}),nn=new eo.Gm({required:!0,emptyAllowed:!0}),nr=new eo.Gm({required:!1,emptyAllowed:!0}),na=new eo.Ms({each:ne,required:!0}),ni=new eo.Gm({required:!1,emptyAllowed:!1,regex:/^\d+\.\d+\.\d+$/}),no=function(e){return{message:e.message,name:e.name,stack:e.stack}},nu=function(e,t){if("required"in t)return{payload:new eo.V_({value:t}).validate({value:e}).value};var n=new eo.ld({options:{required:!0},values:t}).validate(e);if(n)throw new eo.kR(n);return{payload:e}},nc=function(e,t){try{return nu(e,t)}catch(t){return{payload:e,error:no(t)}}},ns=function(e,t,n,r){return nd(e,t,n,"Check the initialState of ".concat(r),"Controller initialization error")},nl=function(e,t,n,r){return nd(e,t,n,"Check the options of ".concat(r),"Controller initialization error")},nd=function(e,t,n,r,a){try{return t.validate(n,r)}catch(t){throw e.logger.error(t,a),t}};function nf(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var np="function"==typeof Symbol&&Symbol.observable||"@@observable",nh=function(){return Math.random().toString(36).substring(7).split("").join(".")},nv={INIT:"@@redux/INIT".concat(nh()),REPLACE:"@@redux/REPLACE".concat(nh()),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION".concat(nh())}};function ng(e){if("object"!=eY(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function nm(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var i,o=Object.keys(n);try{Object.keys(n).forEach(function(e){var t=n[e];if(eY(t(void 0,{type:nv.INIT}))>"u")throw Error(nf(12));if(eY(t(void 0,{type:nv.PROBE_UNKNOWN_ACTION()}))>"u")throw Error(nf(13))})}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;for(var r=!1,a={},u=0;u<o.length;u++){var c=o[u],s=n[c],l=e[c],d=s(l,t);if(eY(d)>"u")throw t&&t.type,Error(nf(14));a[c]=d,r=r||d!==l}return(r=r||o.length!==Object.keys(e).length)?a:e}}function ny(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function nb(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r){var a=e(n,r),i=function(){throw Error(nf(15))},o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[e].concat(n))}},u=t.map(function(e){return e(o)});return i=ny.apply(void 0,eB(u))(a.dispatch),e_(e_({},a),{},{dispatch:i})}}}function nw(e){return ng(e)&&"type"in e&&"string"==typeof e.type}var nk=Symbol.for("immer-nothing"),nS=Symbol.for("immer-draftable"),nx=Symbol.for("immer-state");function nC(e){throw Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var nR=Object.getPrototypeOf;function nI(e){return!!e&&!!e[nx]}function nq(e){var t;return!!e&&(nA(e)||Array.isArray(e)||!!e[nS]||!!(null!=(t=e.constructor)&&t[nS])||nP(e)||nj(e))}var nO=Object.prototype.constructor.toString();function nA(e){if(!e||"object"!=eY(e))return!1;var t=nR(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nO}function nE(e,t){0===nF(e)?Reflect.ownKeys(e).forEach(function(n){t(n,e[n],e)}):e.forEach(function(n,r){return t(r,n,e)})}function nF(e){var t=e[nx];return t?t.type_:Array.isArray(e)?1:nP(e)?2:3*!!nj(e)}function nT(e,t){return 2===nF(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nD(e,t){return 2===nF(e)?e.get(t):e[t]}function nM(e,t,n){var r=nF(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function nP(e){return e instanceof Map}function nj(e){return e instanceof Set}function n_(e){return e.copy_||e.base_}function nV(e,t){if(nP(e))return new Map(e);if(nj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);var n=nA(e);if(!0!==t&&("class_only"!==t||n)){var r=nR(e);return null!==r&&n?e_({},e):Object.assign(Object.create(r),e)}var a=Object.getOwnPropertyDescriptors(e);delete a[nx];for(var i=Reflect.ownKeys(a),o=0;o<i.length;o++){var u=i[o],c=a[u];!1===c.writable&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[u]})}return Object.create(nR(e),a)}function nU(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return nQ(e)||nI(e)||!nq(e)||(nF(e)>1&&(e.set=e.add=e.clear=e.delete=nL),Object.freeze(e),t&&Object.entries(e).forEach(function(e){var t=eQ(e,2);return nU((t[0],t[1]),!0)})),e}function nL(){nC(2)}function nQ(e){return Object.isFrozen(e)}var nN={};function nz(e){var t=nN[e];return t||nC(0,e),t}function nB(e,t){t&&(nz("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nG(e){n$(e),e.drafts_.forEach(nY),e.drafts_=null}function n$(e){e===rJ&&(rJ=e.parent_)}function nH(e){return rJ={drafts_:[],parent_:rJ,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nY(e){var t=e[nx];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function nW(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[nx].modified_&&(nG(t),nC(4)),nq(e)&&(e=nK(t,e),t.parent_||nZ(t,e)),t.patches_&&nz("Patches").generateReplacementPatches_(n[nx].base_,e,t.patches_,t.inversePatches_)):e=nK(t,n,[]),nG(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nk?e:void 0}function nK(e,t,n){if(nQ(t))return t;var r=t[nx];if(!r)return nE(t,function(a,i){return nJ(e,r,t,a,i,n)}),t;if(r.scope_!==e)return t;if(!r.modified_)return nZ(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var a=r.copy_,i=a,o=!1;3===r.type_&&(i=new Set(a),a.clear(),o=!0),nE(i,function(t,i){return nJ(e,r,a,t,i,n,o)}),nZ(e,a,!1),n&&e.patches_&&nz("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function nJ(e,t,n,r,a,i,o){if(nI(a)){var u=nK(e,a,i&&t&&3!==t.type_&&!nT(t.assigned_,r)?i.concat(r):void 0);if(nM(n,r,u),!nI(u))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(nq(a)&&!nQ(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;nK(e,a),(!t||!t.scope_.parent_)&&"symbol"!=eY(r)&&Object.prototype.propertyIsEnumerable.call(n,r)&&nZ(e,a)}}function nZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nU(t,n)}var nX={get:function(e,t){if(t===nx)return e;var n,r,a,i=n_(e);if(!nT(i,t)){return n=e,(a=n2(i,t))?"value"in a?a.value:null==(r=a.get)?void 0:r.call(n.draft_):void 0}var o=i[t];return e.finalized_||!nq(o)?o:o===n1(e.base_,t)?(n3(e),e.copy_[t]=n5(o,e)):o},has:function(e,t){return t in n_(e)},ownKeys:function(e){return Reflect.ownKeys(n_(e))},set:function(e,t,n){var r=n2(n_(e),t);if(null!=r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var a=n1(n_(e),t),i=null==a?void 0:a[nx];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if((n===a?0!==n||1/n==1/a:n!=n&&a!=a)&&(void 0!==n||nT(e.base_,t)))return!0;n3(e),n4(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==n1(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,n3(e),n4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=n_(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty:function(){nC(11)},getPrototypeOf:function(e){return nR(e.base_)},setPrototypeOf:function(){nC(12)}},n0={};function n1(e,t){var n=e[nx];return(n?n_(n):e)[t]}function n2(e,t){if(t in e)for(var n=nR(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=nR(n)}}function n4(e){e.modified_||(e.modified_=!0,e.parent_&&n4(e.parent_))}function n3(e){e.copy_||(e.copy_=nV(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function n5(e,t){var n,r,a,i,o,u,c,s=nP(e)?nz("MapSet").proxyMap_(e,t):nj(e)?nz("MapSet").proxySet_(e,t):(a=r={type_:+!!(n=Array.isArray(e)),scope_:t?t.scope_:rJ,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=nX,n&&(a=[r],i=n0),u=(o=Proxy.revocable(a,i)).revoke,r.draft_=c=o.proxy,r.revoke_=u,c);return(t?t.scope_:rJ).drafts_.push(s),s}nE(nX,function(e,t){n0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),n0.deleteProperty=function(e,t){return n0.set.call(this,e,t,void 0)},n0.set=function(e,t,n){return nX.set.call(this,e[0],t,n,e[0])};var n6=new(function(){function e(t){var n=this;eD(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a,i=t;return t=e,function(){for(var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length,o=Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return n.produce(r,function(n){var r;return(r=t).call.apply(r,[e,n].concat(o))})}}if("function"!=typeof t&&nC(6),void 0!==r&&"function"!=typeof r&&nC(7),nq(e)){var o=nH(n),u=n5(e,void 0),c=!0;try{a=t(u),c=!1}finally{c?nG(o):n$(o)}return nB(o,r),nW(a,o)}if(e&&"object"==eY(e))nC(1,e);else{if(void 0===(a=t(e))&&(a=e),a===nk&&(a=void 0),n.autoFreeze_&&nU(a,!0),r){var s=[],l=[];nz("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}},this.produceWithPatches=function(e,t){var r,a;return"function"==typeof e?function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return n.produceWithPatches(t,function(t){return e.apply(void 0,[t].concat(a))})}:[n.produce(e,t,function(e,t){r=e,a=t}),r,a]},"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof(null==t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}return eP(e,[{key:"createDraft",value:function(e){nq(e)||nC(8),nI(e)&&(nI(t=e)||nC(10,t),e=function e(t){if(!nq(t)||nQ(t))return t;var n,r=t[nx];if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=nV(t,r.scope_.immer_.useStrictShallowCopy_)}else n=nV(t,!0);return nE(n,function(t,r){nM(n,t,e(r))}),r&&(r.finalized_=!1),n}(t));var t,n=nH(this),r=n5(e,void 0);return r[nx].isManual_=!0,n$(n),r}},{key:"finishDraft",value:function(e,t){var n=e&&e[nx];n&&n.isManual_||nC(9);var r=n.scope_;return nB(r,t),nW(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=nz("Patches").applyPatches_;return nI(e)?a(e,t):this.produce(e,function(e){return a(e,t)})}}]),e}()),n8=n6.produce,n7=n6.produceWithPatches.bind(n6),n9=(n6.setAutoFreeze.bind(n6),n6.setUseStrictShallowCopy.bind(n6),n6.applyPatches.bind(n6));n6.createDraft.bind(n6),n6.finishDraft.bind(n6);var re=function(e){return Array.isArray(e)?e:[e]};Symbol(),Object.getPrototypeOf({});var rt=function(){function e(t){eD(this,e),this.value=t}return eP(e,[{key:"deref",value:function(){return this.value}}]),e}(),rn=("undefined"==typeof WeakRef?"undefined":eY(WeakRef))<"u"?WeakRef:rt;function rr(){return{s:0,v:void 0,o:null,p:null}}function ra(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=rr(),a=n.resultEqualityCheck,i=0;function o(){for(var n=r,o=arguments.length,u=0;u<o;u++){var c=arguments[u];if("function"==typeof c||"object"==eY(c)&&null!==c){var s=n.o;null===s&&(n.o=s=new WeakMap);var l=s.get(c);void 0===l?(n=rr(),s.set(c,n)):n=l}else{var d=n.p;null===d&&(n.p=d=new Map);var f=d.get(c);void 0===f?(n=rr(),d.set(c,n)):n=f}}var p,h=n;if(1===n.s)p=n.v;else if(p=e.apply(null,arguments),i++,a){var v,g,m,y=null!=(v=null==(g=t)||null==(m=g.deref)?void 0:m.call(g))?v:t;null!=y&&a(y,p)&&(p=y,0!==i&&i--),t="object"==eY(p)&&null!==p||"function"==typeof p?new rn(p):p}return h.s=1,h.v=p,p}return o.clearCache=function(){r=rr(),o.resetResultsCount()},o.resultsCount=function(){return i},o.resetResultsCount=function(){i=0},o}var ri=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a="function"==typeof e?{memoize:e,memoizeOptions:n}:e,i=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=0,u=0,c={},s=n.pop();"object"==eY(s)&&(c=s,s=n.pop()),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(eY(e));if("function"!=typeof e)throw TypeError(t)}(s,"createSelector expects an output function after the inputs, but received: [".concat(eY(s),"]"));var l=e_(e_({},a),c),d=l.memoize,f=l.memoizeOptions,p=l.argsMemoize,h=void 0===p?ra:p,v=l.argsMemoizeOptions,g=(l.devModeChecks,re(void 0===f?[]:f)),m=re(void 0===v?[]:v),y=(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(function(e){return"function"==typeof e})){var n=e.map(function(e){return"function"==typeof e?"function ".concat(e.name||"unnamed","()"):eY(e)}).join(", ");throw TypeError("".concat(t,"[").concat(n,"]"))}}(e=Array.isArray(n[0])?n[0]:n,"createSelector expects all input-selectors to be functions, but received the following types: "),e),b=d.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(eB(g)));return Object.assign(h.apply(void 0,[function(){u++;var e=function(e,t){for(var n=[],r=e.length,a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return i=b.apply(null,e)}].concat(eB(m))),{resultFunc:s,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:function(){return u},resetDependencyRecomputations:function(){u=0},lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){o=0},memoize:d,argsMemoize:h})};return Object.assign(i,{withTypes:function(){return i}}),i}(ra),ro=Object.assign(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(eY(e));if("object"!=eY(e))throw TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(eY(e)));var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})},{withTypes:function(){return ro}});function ru(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}var rc=ru(),rs=("undefined"==typeof window?"undefined":eY(window))<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==eY(arguments[0])?ny:ny.apply(null,arguments)};function rl(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw Error(rG(0));return e_(e_({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return"".concat(e)},n.type=e,n.match=function(t){return nw(t)&&t.type===e},n}("undefined"==typeof window?"undefined":eY(window))<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var rd=function(e){eR(n,e);var t=eI(n);function n(){var e;eD(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return Object.setPrototypeOf(eq(e=t.call.apply(t,[this].concat(a))),n.prototype),e}return eP(n,[{key:"concat",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return ex(n,"concat",this,1).apply(this,t)}},{key:"prepend",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?eA(n,eB(t[0].concat(this))):eA(n,eB(t.concat(this)))}}],[{key:Symbol.species,get:function(){return n}}]),n}(eO(Array));function rf(e){return nq(e)?n8(e,function(){}):e}function rp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var rh="RTK_autoBatch",rv=function(){return function(e){return{payload:e,meta:eV({},rh,!0)}}},rg=function(e){return function(t){setTimeout(t,e)}},rm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return function(t){return function(){var n=t.apply(void 0,arguments),r=!0,a=!1,i=!1,o=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?("undefined"==typeof window?"undefined":eY(window))<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rg(10):"callback"===e.type?e.queueNotification:rg(e.timeout),c=function(){i=!1,a&&(a=!1,o.forEach(function(e){return e()}))};return Object.assign({},n,{subscribe:function(e){var t=n.subscribe(function(){return r&&e()});return o.add(e),function(){t(),o.delete(e)}},dispatch:function(e){try{var t;return(a=!(r=!(null!=e&&null!=(t=e.meta)&&t[rh])))&&(i||(i=!0,u(c))),n.dispatch(e)}finally{r=!0}}})}}};function ry(e){var t,n={},r=[],a={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(!r)throw Error(rG(28));if(r in n)throw Error(rG(29));return n[r]=t,a},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[n,r,t]}function rb(e,t){var n,r=eQ(ry(t),3),a=r[0],i=r[1],o=r[2];if("function"==typeof e)n=function(){return rf(e())};else{var u=rf(e);n=function(){return u}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,r=[a[t.type]].concat(eB(i.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer})));return 0===r.filter(function(e){return!!e}).length&&(r=[o]),r.reduce(function(e,n){if(n)if(nI(e)){var r=n(e,t);return void 0===r?e:r}else{if(nq(e))return n8(e,function(e){return n(e,t)});var a=n(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}return e},e)}return c.getInitialState=n,c}var rw=function(e,t){return e&&"function"==typeof e.match?e.match(t):e(t)};function rk(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some(function(t){return rw(t,e)})}}function rS(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.every(function(t){return rw(t,e)})}}function rx(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function rC(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function rR(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return rx(e,["pending"])}:rC(t)?rk.apply(void 0,eB(t.map(function(e){return e.pending}))):rR()(t[0])}function rI(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return rx(e,["rejected"])}:rC(t)?rk.apply(void 0,eB(t.map(function(e){return e.rejected}))):rI()(t[0])}function rq(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length||rC(t)?rS(rI.apply(void 0,t),function(e){return e&&e.meta&&e.meta.rejectedWithValue}):rq()(t[0])}function rO(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return rx(e,["fulfilled"])}:rC(t)?rk.apply(void 0,eB(t.map(function(e){return e.fulfilled}))):rO()(t[0])}function rA(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return rx(e,["pending","fulfilled","rejected"])}:rC(t)?rk.apply(void 0,eB(t.flatMap(function(e){return[e.pending,e.rejected,e.fulfilled]}))):rA()(t[0])}var rE=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},rF=["name","message","stack","code"],rT=eP(function e(t,n){eD(this,e),e3(this,"_type"),this.payload=t,this.meta=n}),rD=eP(function e(t,n){eD(this,e),e3(this,"_type"),this.payload=t,this.meta=n}),rM=function(e){if("object"==eY(e)&&null!==e){for(var t={},n=0;n<rF.length;n++){var r=rF[n];"string"==typeof e[r]&&(t[r]=e[r])}return t}return{message:String(e)}},rP=function(){function e(e,t,n){var r=rl(e+"/fulfilled",function(e,t,n,r){return{payload:e,meta:e_(e_({},r||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})}}),a=rl(e+"/pending",function(e,t,n){return{payload:void 0,meta:e_(e_({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})}}),i=rl(e+"/rejected",function(e,t,r,a,i){return{payload:a,error:(n&&n.serializeError||rM)(e||"Rejected"),meta:e_(e_({},i||{}),{},{arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}});return Object.assign(function(e){return function(o,u,c){var s,l,d=null!=n&&n.idGenerator?n.idGenerator(e):rE(),f=new AbortController;function p(e){l=e,f.abort()}var h=eL(regeneratorRuntime.mark(function h(){var v,g,m,y,b;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:var w;if(h.prev=0,h.t0=null!==(w=y=null==n||null==(g=n.condition)?void 0:g.call(n,e,{getState:u,extra:c}))&&"object"==eY(w)&&"function"==typeof w.then,!h.t0){h.next=7;break}return h.next=6,y;case 6:y=h.sent;case 7:if(!(!1===y||f.signal.aborted)){h.next=9;break}throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};case 9:return b=new Promise(function(e,t){s=function(){t({name:"AbortError",message:l||"Aborted"})},f.signal.addEventListener("abort",s)}),o(a(d,e,null==n||null==(m=n.getPendingMeta)?void 0:m.call(n,{requestId:d,arg:e},{getState:u,extra:c}))),h.next=13,Promise.race([b,Promise.resolve(t(e,{dispatch:o,getState:u,extra:c,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new rT(e,t)},fulfillWithValue:function(e,t){return new rD(e,t)}})).then(function(t){if(t instanceof rT)throw t;return t instanceof rD?r(t.payload,d,e,t.meta):r(t,d,e)})]);case 13:v=h.sent,h.next=19;break;case 16:h.prev=16,h.t1=h.catch(0),v=h.t1 instanceof rT?i(null,d,e,h.t1.payload,h.t1.meta):i(h.t1,d,e);case 19:return h.prev=19,s&&f.signal.removeEventListener("abort",s),h.finish(19);case 22:return h.abrupt("return",(n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||o(v),v));case 23:case"end":return h.stop()}},h,null,[[0,16,19,22]])}))();return Object.assign(h,{abort:p,requestId:d,arg:e,unwrap:function(){return h.then(rj)}})}},{pending:a,rejected:i,fulfilled:r,settled:rk(i,r),typePrefix:e})}return e.withTypes=function(){return e},e}();function rj(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var r_=Symbol.for("rtk-slice-createasyncthunk");eV({},r_,rP);var rV=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.creators,r=null==n||null==(e=n.asyncThunk)?void 0:e[r_];return function(e){var t=e.name,n=e.reducerPath,a=void 0===n?t:n;if(!t)throw Error(rG(11));"undefined"==typeof process||eY(process);var i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return e_({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=function(){return e},{reducer:function(e){return Object.assign(eV({},e.name,function(){return e.apply(void 0,arguments)})[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer:function(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),u={},c={},s={},l=[],d={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(!n)throw Error(rG(12));if(n in c)throw Error(rG(13));return c[n]=t,d},addMatcher:function(e,t){return l.push({matcher:e,reducer:t}),d},exposeAction:function(e,t){return s[e]=t,d},exposeCaseReducer:function(e,t){return u[e]=t,d}};function f(){var t=eQ("function"==typeof e.extraReducers?ry(e.extraReducers):[e.extraReducers],3),n=t[0],r=t[1],a=void 0===r?[]:r,i=t[2],o=void 0===i?void 0:i,u=e_(e_({},void 0===n?{}:n),c);return rb(e.initialState,function(e){for(var t in u)e.addCase(t,u[t]);var n,r=eG(l);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addMatcher(i.matcher,i.reducer)}}catch(e){r.e(e)}finally{r.f()}var c,s=eG(a);try{for(s.s();!(c=s.n()).done;){var d=c.value;e.addMatcher(d.matcher,d.reducer)}}catch(e){s.e(e)}finally{s.f()}o&&e.addDefaultCase(o)})}o.forEach(function(n){var a=i[n],o={reducerName:n,type:"".concat(t,"/").concat(n),createNotation:"function"==typeof e.reducers};"asyncThunk"===a._reducerDefinitionType?function(e,t,n,r){var a=e.type,i=e.reducerName;if(!r)throw Error(rG(18));var o=t.payloadCreator,u=t.fulfilled,c=t.pending,s=t.rejected,l=t.settled,d=r(a,o,t.options);n.exposeAction(i,d),u&&n.addCase(d.fulfilled,u),c&&n.addCase(d.pending,c),s&&n.addCase(d.rejected,s),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(i,{fulfilled:u||rU,pending:c||rU,rejected:s||rU,settled:l||rU})}(o,a,d,r):function(e,t,n){var r,a,i=e.type,o=e.reducerName,u=e.createNotation;if("reducer"in t){if(u&&"reducerWithPrepare"!==t._reducerDefinitionType)throw Error(rG(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(o,r).exposeAction(o,a?rl(i,a):rl(i))}(o,a,d)});var p,h=function(e){return e},v=new Map;function g(e,t){return p||(p=f()),p(e,t)}function m(){return p||(p=f()),p.getInitialState()}function y(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){var r=e[t];return eY(r)>"u"&&n&&(r=m()),r}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=rp(v,n,function(){return new WeakMap});return rp(r,t,function(){for(var r={},a=0,i=Object.entries(null!=(o=e.selectors)?o:{});a<i.length;a++){var o,u=eQ(i[a],2),c=u[0],s=u[1];r[c]=function(e,t,n,r){function a(a){for(var i=t(a),o=arguments.length,u=Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];return eY(i)>"u"&&r&&(i=n()),e.apply(void 0,[i].concat(u))}return a.unwrapped=e,a}(s,t,m,n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}var b=e_(e_({name:t,reducer:g,actions:s,caseReducers:u,getInitialState:m},y(a)),{},{injectInto:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reducerPath,r=eN(t,ed),i=null!=n?n:a;return e.inject({reducerPath:i,reducer:g},r),e_(e_({},b),y(i,!0))}});return b}}();function rU(){}var rL="listener";"".concat(rL,"-").concat("cancelled"),"".concat(rL,"-").concat("completed");var rQ=Object.assign,rN="listenerMiddleware",rz=rQ(rl("".concat(rN,"/add")),{withTypes:function(){return rz}}),rB=(rl("".concat(rN,"/removeAll")),rQ(rl("".concat(rN,"/remove")),{withTypes:function(){return rB}}));function rG(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}Symbol.for("rtk-state-proxy-original");for(var r$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,rH=[],rY=0;rY<256;++rY)rH.push((rY+256).toString(16).slice(1));var rW,rK,rJ,rZ,rX=new Uint8Array(16),r0=("undefined"==typeof crypto?"undefined":eY(crypto))<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r1="1.0.0";function r2(e,t,n,r){var a=n.getReferrer,i=n.getLocation,o=n.getUserAgent,u={trackingId:t.trackingId},c=r.getClientId();return Object.freeze({type:e,config:u,ts:Date.now(),source:(t.source||[]).concat(["relay@".concat(r1)]),clientId:c,userAgent:o(),referrer:a(),location:i()})}function r4(e){var t=e.url,n=e.token,r=e.trackingId,a=eN(e,ef);return Object.freeze(e_(e_({url:t,token:n,trackingId:r},!!a.mode&&{mode:a.mode}),!!a.source&&{source:a.source}))}var r3=(al="coveo_",ad=function(e){var t=e.split(".").slice(-2);return 2==t.length?t.join("."):""},{getItem:function(e){var t,n="".concat(al).concat(e,"="),r=eG(document.cookie.split(";"));try{for(r.s();!(t=r.n()).done;){var a=t.value.replace(/^\s+/,"");if(0===a.lastIndexOf(n,0))return a.substring(n.length,a.length)}}catch(e){r.e(e)}finally{r.f()}return null},setItem:function(e,t,n){var r=ad(window.location.hostname),a=";expires=".concat(new Date(new Date().getTime()+n).toUTCString());document.cookie="".concat(al).concat(e,"=").concat(t).concat(a).concat(r?";domain=".concat(r):"",";path=/;SameSite=Lax")},removeItem:function(e){this.setItem(e,"",-1)}}),r5="3.23.0",r6=ri(function(e){return e.source},function(e){return Object.entries(e).map(function(e){var t=eQ(e,2),n=t[0],r=t[1];return"".concat(n,"@").concat(r)}).concat("@coveo/headless@".concat(r5))}),r8=ri(function(e){return e.configuration.organizationId},function(e){return e.configuration.environment},function(e){return e.configuration.accessToken},function(e){return e.configuration.analytics},function(e){return r6(e.configuration.analytics)},function(e,t,n,r,a){var i=r.trackingId,o=r.apiBaseUrl;return function(e){var t,n=(t=r4(e),{get:function(){return t},update:function(e){t=r4(e_(e_({},t),e))}}),r=function(){var e=[];function t(t){var n=t.type,r=t.callback;return e.findIndex(function(e){return e.type===n&&e.callback===r})}function n(n,r){var a;r?(a=t({type:n,callback:r}))>=0&&e.splice(a,1):function(t){if("*"===t)e.length=0;else for(var n=e.length-1;n>=0;n--)e[n].type===t&&e.splice(n,1)}(n)}return{add:function(r){return 0>t(r)&&e.push(r),function(){return n(r.type,r.callback)}},call:function(t){e.forEach(function(e){var n;if(n=t.meta.type,"*"===e.type||n===e.type)try{e.callback(t)}catch(e){console.error(e)}})},remove:n}}(),a={get:function(){return Object.freeze("disabled"!==n.get().mode&&function(){try{return("undefined"==typeof window?"undefined":eY(window))=="object"}catch(e){return!1}}()&&function(){try{var e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return e instanceof DOMException&&"QuotaExceededError"===e.name&&localStorage&&0!==localStorage.length}}()?{runtime:"browser",send:function(e,t,n){var r,a=navigator.sendBeacon("".concat(e,"?access_token=").concat(t),new Blob([JSON.stringify([n])],{type:"application/json"}));if((r=("undefined"==typeof window?"undefined":eY(window))<"u",{sendMessage:function(e){r&&window.postMessage(e,"*")}}).sendMessage({kind:"EVENT_PROTOCOL",event:n,url:e,token:t}),!a)throw Error("Failed to send the event(s) because the payload size exceeded the maximum allowed size (32 KB). Please contact support if the problem persists.")},getReferrer:function(){var e;return""===(e=document.referrer)?null:e},getLocation:function(){return window.location.href},getUserAgent:function(){return navigator.userAgent},generateUUID:function(){return function(e,t,n){if(r0&&!e)return r0();var r,a,i,o,u=null!=(r=null!=(a=(e=e||{}).random)?a:null==(i=(o=e).rng)?void 0:i.call(o))?r:function(){if(!rZ){if(("undefined"==typeof crypto?"undefined":eY(crypto))>"u"||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rZ=crypto.getRandomValues.bind(crypto)}return rZ(rX)}();if(u.length<16)throw Error("Random bytes length must be >= 16");return u[6]=15&u[6]|64,u[8]=63&u[8]|128,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(rH[e[t+0]]+rH[e[t+1]]+rH[e[t+2]]+rH[e[t+3]]+"-"+rH[e[t+4]]+rH[e[t+5]]+"-"+rH[e[t+6]]+rH[e[t+7]]+"-"+rH[e[t+8]]+rH[e[t+9]]+"-"+rH[e[t+10]]+rH[e[t+11]]+rH[e[t+12]]+rH[e[t+13]]+rH[e[t+14]]+rH[e[t+15]]).toLowerCase()}(u)}()},storage:{getItem:function(e){return r3.getItem(e)||localStorage.getItem(e)},removeItem:function(e){r3.removeItem(e),localStorage.removeItem(e)},setItem:function(e,t){localStorage.setItem(e,t),r3.setItem(e,t,31556952e3)}}}:{runtime:"null",send:function(){},getReferrer:function(){return null},getLocation:function(){return null},getUserAgent:function(){return null},generateUUID:function(){return""},storage:{getItem:function(){return null},removeItem:function(){},setItem:function(){}}})}},i={getClientId:function(){var e,t="visitorId",n=a.get(),r=n.storage,i=r.getItem(t),o=i&&"string"==typeof(e=i)&&r$.test(e)?i:n.generateUUID();return r.setItem(t,o),o}};return{emit:function(e,t){var o,u,c,s,l,d,f,p=n.get(),h=a.get(),v=e_(e_({},t),{},{meta:r2(e,p,h,i)});return u=(o={config:p,environment:h,event:v,listenerManager:r}).config,c=o.environment,s=o.event,l=o.listenerManager,d=u.url,f=u.token,void("disabled"!==u.mode&&(l.call(s),c.send(d,f,s)))},getMeta:function(e){return r2(e,n.get(),a.get(),i)},on:function(e,t){return r.add({type:e,callback:t})},off:function(e,t){return r.remove(e,t)},updateConfig:function(e){return n.update(e)},version:r1}}({mode:r.enabled?"emit":"disabled",url:null!=o?o:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prod";return"".concat(tQ(e,t,"analytics"),"/rest/organizations/").concat(e,"/events/v1")}(e,t),token:n,trackingId:i,source:a})});function r7(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function r9(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,u)}c((r=r.apply(e,t||[])).next())})}function ae(){return("undefined"==typeof window?"undefined":eY(window))<"u"}function at(){return("undefined"==typeof navigator?"undefined":eY(navigator))<"u"}function an(){return("undefined"==typeof document?"undefined":eY(document))<"u"}function ar(){try{return("undefined"==typeof localStorage?"undefined":eY(localStorage))<"u"}catch(e){return!1}}function aa(){return at()&&navigator.cookieEnabled}(af=ap||(ap={})).search="search",af.click="click",af.custom="custom",af.view="view",af.collect="collect";var ai=[ap.click,ap.custom,ap.search,ap.view],ao=function(e,t){return -1!==ai.indexOf(e)?Object.assign({language:an()?document.documentElement.lang:"unknown",userAgent:at()?navigator.userAgent:"unknown"},t):t},au=function(){function e(){eD(this,e)}return eP(e,null,[{key:"set",value:function(e,t,n){var r,a,i;n&&(r=new Date).setTime(r.getTime()+n),-1===(i=window.location.hostname).indexOf(".")?ac(e,t,r):ac(e,t,r,(a=i.split("."))[a.length-2]+"."+a[a.length-1])}},{key:"get",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r];if(0===(a=a.replace(/^\s+/,"")).lastIndexOf(t,0))return a.substring(t.length,a.length)}return null}},{key:"erase",value:function(t){e.set(t,"",-1)}}]),e}();function ac(e,t,n,r){document.cookie="".concat(e,"=").concat(t)+(n?";expires=".concat(n.toUTCString()):"")+(r?";domain=".concat(r):"")+";path=/;SameSite=Lax"}var as=function(){function e(){eD(this,e)}return eP(e,[{key:"getItem",value:function(t){return au.get("".concat(e.prefix).concat(t))}},{key:"removeItem",value:function(t){au.erase("".concat(e.prefix).concat(t))}},{key:"setItem",value:function(t,n,r){au.set("".concat(e.prefix).concat(t),n,r)}}]),e}();as.prefix="coveo_";var al,ad,af,ap,ah,av=function(){function e(){eD(this,e),this.cookieStorage=new as}return eP(e,[{key:"getItem",value:function(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}},{key:"removeItem",value:function(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}},{key:"setItem",value:function(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t,31556926e3)}}]),e}(),ag=function(){function e(){eD(this,e)}return eP(e,[{key:"getItem",value:function(e){return null}},{key:"removeItem",value:function(e){}},{key:"setItem",value:function(e,t){}}]),e}(),am="__coveo.analytics.history",ay=function(){function e(t){eD(this,e),this.store=t||(ar()?localStorage:aa()?new as:!function(){try{return("undefined"==typeof sessionStorage?"undefined":eY(sessionStorage))<"u"}catch(e){return!1}}()?new ag:sessionStorage)}return eP(e,[{key:"addElement",value:function(e){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));var t=this.getHistoryWithInternalTime();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}},{key:"addElementAsync",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e)),t.next=3,this.getHistoryWithInternalTimeAsync();case 3:null!=(n=t.sent)?this.isValidEntry(e)&&this.setHistory([e].concat(n)):this.setHistory([e]);case 5:case"end":return t.stop()}},t,this)}))}},{key:"getHistory",value:function(){var e=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(e))}},{key:"getHistoryAsync",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHistoryWithInternalTimeAsync();case 2:return t=e.sent,e.abrupt("return",this.stripEmptyQueries(this.stripInternalTime(t)));case 4:case"end":return e.stop()}},e,this)}))}},{key:"getHistoryWithInternalTime",value:function(){try{var e=this.store.getItem(am);return e&&"string"==typeof e?JSON.parse(e):[]}catch(e){return[]}}},{key:"getHistoryWithInternalTimeAsync",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.store.getItem(am);case 3:return t=e.sent,e.abrupt("return",t?JSON.parse(t):[]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"setHistory",value:function(e){try{this.store.setItem(am,JSON.stringify(e.slice(0,20)))}catch(e){}}},{key:"clear",value:function(){try{this.store.removeItem(am)}catch(e){}}},{key:"getMostRecentElement",value:function(){var e=this.getHistoryWithInternalTime();return Array.isArray(e)?e.sort(function(e,t){return(t.internalTime||0)-(e.internalTime||0)})[0]:null}},{key:"cropQueryElement",value:function(e){return e.name&&e.value&&"query"===e.name.toLowerCase()&&(e.value=e.value.slice(0,75)),e}},{key:"isValidEntry",value:function(e){var t=this.getMostRecentElement();return!t||t.value!=e.value||(e.internalTime||0)-(t.internalTime||0)>6e4}},{key:"stripInternalTime",value:function(e){return Array.isArray(e)?e.map(function(e){return{name:e.name,time:e.time,value:e.value}}):[]}},{key:"stripEmptyQuery",value:function(e){var t=e.name,n=e.time,r=e.value;return t&&"string"==typeof r&&"query"===t.toLowerCase()&&""===r.trim()?{name:t,time:n}:e}},{key:"stripEmptyQueries",value:function(e){var t=this;return e.map(function(e){return t.stripEmptyQuery(e)})}}]),e}(),ab=Object.freeze({__proto__:null,HistoryStore:ay,MAX_NUMBER_OF_HISTORY_ELEMENTS:20,MAX_VALUE_SIZE:75,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:6e4,STORE_KEY:am,default:ay}),aw=function(e,t){return r9(void 0,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==ap.view){n.next=6;break}return n.next=3,ak(t.contentIdValue);case 3:n.t0=Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t),n.next=7;break;case 6:n.t0=t;case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}},n)}))},ak=function(e){return r9(void 0,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new ay,r={name:"PageView",value:e,time:new Date().toISOString()},t.next=3,n.addElementAsync(r);case 3:case"end":return t.stop()}},t)}))},aS=new Uint8Array(16),ax=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aC(e){return"string"==typeof e&&ax.test(e)}for(var aR=[],aI=0;aI<256;++aI)aR.push((aI+256).toString(16).slice(1));function aq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(aR[e[t+0]]+aR[e[t+1]]+aR[e[t+2]]+aR[e[t+3]]+"-"+aR[e[t+4]]+aR[e[t+5]]+"-"+aR[e[t+6]]+aR[e[t+7]]+"-"+aR[e[t+8]]+aR[e[t+9]]+"-"+aR[e[t+10]]+aR[e[t+11]]+aR[e[t+12]]+aR[e[t+13]]+aR[e[t+14]]+aR[e[t+15]]).toLowerCase()}var aO=("undefined"==typeof crypto?"undefined":eY(crypto))<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function aA(e,t,n){if(aO&&!t&&!e)return aO();var r=(e=e||{}).random||(e.rng||function(){if(!ah&&!(ah=("undefined"==typeof crypto?"undefined":eY(crypto))<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ah(aS)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return aq(r)}function aE(e,t){return e<<t|e>>>32-t}var aF=function(e,t,n){function r(e,t,r,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof t&&(t=function(e){if(!aC(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,n[11]=t/0x100000000&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(t)),(null==(i=t)?void 0:i.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i,o=new Uint8Array(16+e.length);if(o.set(t),o.set(e,t.length),(o=n(o))[6]=15&o[6]|80,o[8]=63&o[8]|128,r){a=a||0;for(var u=0;u<16;++u)r[a+u]=o[u];return r}return aq(o)}try{r.name="v5"}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}(0,0,function(e){var t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],n=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=Math.ceil((e.length/4+2)/16),o=Array(i),u=0;u<i;++u){for(var c=new Uint32Array(16),s=0;s<16;++s)c[s]=e[64*u+4*s]<<24|e[64*u+4*s+1]<<16|e[64*u+4*s+2]<<8|e[64*u+4*s+3];o[u]=c}o[i-1][14]=(e.length-1)*8/0x100000000,o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8|0;for(var l=0;l<i;++l){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=o[l][f];for(var p=16;p<80;++p)d[p]=aE(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var h=n[0],v=n[1],g=n[2],m=n[3],y=n[4],b=0;b<80;++b){var w=Math.floor(b/20),k=aE(h,5)+function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}(w,v,g,m)+y+t[w]+d[b]>>>0;y=m,m=g,g=aE(v,30)>>>0,v=h,h=k}n[0]=n[0]+h>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+m>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}),aT="2.30.45",aD=function(e){return"".concat(e.protocol,"//").concat(e.hostname).concat(0===e.pathname.indexOf("/")?e.pathname:"/".concat(e.pathname)).concat(e.search)},aM={pageview:"pageview",event:"event"},aP=eP(function e(t){var n=t.client,r=t.uuidGenerator,a=void 0===r?aA:r;eD(this,e),this.client=n,this.uuidGenerator=a}),aj=function(e){eR(n,e);var t=eI(n);function n(e){var r,a=e.client,i=e.uuidGenerator,o=void 0===i?aA:i;return eD(this,n),(r=t.call(this,{client:a,uuidGenerator:o})).actionData={},r.pageViewId=o(),r.nextPageViewId=r.pageViewId,r.currentLocation=aD(window.location),r.lastReferrer=an()?document.referrer:"",r.addHooks(),r}return eP(n,[{key:"getApi",value:function(e){return"setAction"===e?this.setAction:null}},{key:"setAction",value:function(e,t){this.action=e,this.actionData=t}},{key:"clearData",value:function(){this.clearPluginData(),this.action=void 0,this.actionData={}}},{key:"getLocationInformation",value:function(e,t){return Object.assign({hitType:e},this.getNextValues(e,t))}},{key:"updateLocationInformation",value:function(e,t){this.updateLocationForNextPageView(e,t)}},{key:"getDefaultContextInformation",value:function(e){var t={title:an()?document.title:"",encoding:an()?document.characterSet:"UTF-8"},n={screenResolution:"".concat(screen.width,"x").concat(screen.height),screenColor:"".concat(screen.colorDepth,"-bit")},r={language:navigator.language,userAgent:navigator.userAgent};return Object.assign(Object.assign(Object.assign(Object.assign({},{time:Date.now(),eventId:this.uuidGenerator()}),n),r),t)}},{key:"updateLocationForNextPageView",value:function(e,t){var n=this.getNextValues(e,t),r=n.pageViewId,a=n.referrer,i=n.location;this.lastReferrer=a,this.pageViewId=r,this.currentLocation=i,e===aM.pageview&&(this.nextPageViewId=this.uuidGenerator(),this.hasSentFirstPageView=!0)}},{key:"getNextValues",value:function(e,t){return{pageViewId:e===aM.pageview?this.nextPageViewId:this.pageViewId,referrer:e===aM.pageview&&this.hasSentFirstPageView?this.currentLocation:this.lastReferrer,location:e===aM.pageview?this.getCurrentLocationFromPayload(t):this.currentLocation}}},{key:"getCurrentLocationFromPayload",value:function(e){return e.page?"".concat(this.currentLocation.split("/").slice(0,3).join("/")).concat(e.page.replace(/^\/?(.*)$/,"/$1")):aD(window.location)}}]),n}(aP),a_=function(){function e(t,n){if(eD(this,e),!aC(t))throw Error("Not a valid uuid");this.clientId=t,this.creationDate=Math.floor(n/1e3)}return eP(e,[{key:"toString",value:function(){return this.clientId.replace(/-/g,"")+"."+this.creationDate.toString()}},{key:"expired",get:function(){var t=Math.floor(Date.now()/1e3)-this.creationDate;return t<0||t>e.expirationTime}},{key:"validate",value:function(e,t){return!this.expired&&this.matchReferrer(e,t)}},{key:"matchReferrer",value:function(e,t){try{var n=new URL(e);return t.some(function(e){return RegExp(e.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(n.host)})}catch(e){return!1}}}],[{key:"fromString",value:function(t){var n=t.split(".");if(2!==n.length)return null;var r=eQ(n,2),a=r[0],i=r[1];if(32!==a.length||isNaN(parseInt(i)))return null;var o=a.substring(0,8)+"-"+a.substring(8,12)+"-"+a.substring(12,16)+"-"+a.substring(16,20)+"-"+a.substring(20,32);return aC(o)?new e(o,1e3*Number.parseInt(i)):null}}]),e}();a_.cvo_cid="cvo_cid",a_.expirationTime=120,function(e){eR(n,e);var t=eI(n);function n(e){var r=e.client,a=e.uuidGenerator;return eD(this,n),t.call(this,{client:r,uuidGenerator:void 0===a?aA:a})}return eP(n,[{key:"getApi",value:function(e){switch(e){case"decorate":return this.decorate;case"acceptFrom":return this.acceptFrom;default:return null}}},{key:"decorate",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.getCurrentVisitorId){t.next=2;break}throw Error("Could not retrieve current clientId");case 2:return t.prev=2,n=new URL(e),t.next=6,this.client.getCurrentVisitorId();case 6:return r=t.sent,t.abrupt("return",(n.searchParams.set(a_.cvo_cid,new a_(r,Date.now()).toString()),n.toString()));case 10:throw t.prev=10,t.t0=t.catch(2),Error("Invalid URL provided");case 13:case"end":return t.stop()}},t,this,[[2,10]])}))}},{key:"acceptFrom",value:function(e){this.client.setAcceptedLinkReferrers(e)}}]),n}(aP).Id="link";var aV=Object.keys;function aU(e){return null!==e&&"object"==eY(e)&&!Array.isArray(e)}var aL={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},aQ=eB(aV(aL).map(function(e){return aL[e]})).join("|"),aN=new RegExp("^(".concat(aQ,"$)")),az=[function(e){return aN.test(e)}],aB={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},aG={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},a$={action:"pa",list:"pal",listSource:"pls"},aH={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},aY={id:"quoteId",affiliation:"quoteAffiliation"},aW={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},aK={add:a$,bookmark_add:a$,bookmark_remove:a$,click:a$,checkout:a$,checkout_option:a$,detail:a$,impression:a$,remove:a$,refund:Object.assign(Object.assign({},a$),aH),purchase:Object.assign(Object.assign({},a$),aH),quickview:a$,quote:Object.assign(Object.assign({},a$),aY),review:Object.assign(Object.assign({},a$),aW)},aJ=aV(aB).map(function(e){return aB[e]}),aZ=aV(aG).map(function(e){return aG[e]}),aX=aV(a$).map(function(e){return a$[e]}),a0=aV(aH).map(function(e){return aH[e]}),a1=aV(aW).map(function(e){return aW[e]}),a2=aV(aY).map(function(e){return aY[e]}),a4=[].concat(eB(aJ),["custom"]).join("|"),a3=[].concat(eB(aZ),["custom"]).join("|"),a5="(pr[0-9]+)",a6="(il[0-9]+pi[0-9]+)",a8=new RegExp("^".concat(a5,"(").concat(a4,")$")),a7=new RegExp("^(".concat(a6,"(").concat(a3,"))|(il[0-9]+nm)$")),a9=new RegExp("^(".concat(aX.join("|"),")$")),ie=new RegExp("^(".concat(a0.join("|"),")$")),it=new RegExp("^".concat(a5,"custom$")),ir=new RegExp("^".concat(a6,"custom$")),ia=new RegExp("^(".concat([].concat(["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],eB(a1),eB(a2)).join("|"),")$")),ii=[function(e){return a7.test(e)},function(e){return a8.test(e)},function(e){return a9.test(e)},function(e){return ie.test(e)},function(e){return ia.test(e)}],io=[it,ir],iu=Object.assign(Object.assign({},Object.assign(Object.assign(Object.assign(Object.assign({},{anonymizeIp:"aip"}),{eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"}),{hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"}),["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale","trackingId"].reduce(function(e,t){return Object.assign(Object.assign({},e),eV({},t,t))},{}))),{svcAction:"svc_action",svcActionData:"svc_action_data"}),ic=function(e){var t=!!e.action&&aK[e.action]||{};return aV(e).reduce(function(n,r){var a=t[r]||iu[r]||r;return Object.assign(Object.assign({},n),eV({},a,e[r]))},{})},is=aV(iu).map(function(e){return iu[e]}),il=function(e){return -1!==is.indexOf(e)},id=function(e){return"custom"===e},ip=function(e){var t;return[].concat(io).every(function(n){var r;return!(t=null==(r=n.exec(e))?void 0:r[1])}),t},ih=function(){function e(t){eD(this,e),this.opts=t}return eP(e,[{key:"sendEvent",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isAvailable()){n.next=2;break}throw Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');case 2:return a=(r=this.opts).baseUrl,i=r.preprocessRequest,n.next=7,this.getQueryParamsForEventType(e);case 7:return o=n.sent,n.next=10,this.preProcessRequestAsPotentialJSONString("".concat(a,"/analytics/").concat(e,"?").concat(o),t,i);case 10:c=(u=n.sent).url,s=u.payload,l=new Blob([this.encodeForEventType(e,s)],{type:"application/x-www-form-urlencoded"}),navigator.sendBeacon(c,l);case 16:case"end":return n.stop()}},n,this)}))}},{key:"isAvailable",value:function(){return"sendBeacon"in navigator}},{key:"deleteHttpCookieVisitorId",value:function(){return Promise.resolve()}},{key:"preProcessRequestAsPotentialJSONString",value:function(e,t,n){return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,i,o,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e,i=t,!n){r.next=9;break}return r.next=4,n({url:e,body:JSON.stringify(t)},"analyticsBeacon");case 4:u=(o=r.sent).url,c=o.body,a=u||e;try{i=JSON.parse(c)}catch(e){console.error("Unable to process the request body as a JSON string",e)}case 9:return r.abrupt("return",{payload:i,url:a});case 10:case"end":return r.stop()}},r)}))}},{key:"encodeForEventType",value:function(e,t){return this.isEventTypeLegacy(e)?this.encodeEventToJson(e,t):this.encodeEventToJson(e,t,this.opts.token)}},{key:"getQueryParamsForEventType",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=this.opts).token,a=n.visitorIdProvider,t.next=5,a.getCurrentVisitorId();case 5:return i=t.sent,t.abrupt("return",[r&&this.isEventTypeLegacy(e)?"access_token=".concat(r):"",i?"visitorId=".concat(i):"","discardVisitInfo=true"].filter(function(e){return!!e}).join("&"));case 7:case"end":return t.stop()}},t,this)}))}},{key:"isEventTypeLegacy",value:function(e){return -1!==[ap.click,ap.custom,ap.search,ap.view].indexOf(e)}},{key:"encodeEventToJson",value:function(e,t,n){var r="".concat(e,"Event=").concat(encodeURIComponent(JSON.stringify(t)));return n&&(r="access_token=".concat(encodeURIComponent(n),"&").concat(r)),r}}]),e}(),iv=function(){function e(){eD(this,e)}return eP(e,[{key:"sendEvent",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},e)}))}},{key:"deleteHttpCookieVisitorId",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},e)}))}}]),e}(),ig=globalThis.fetch,im=function(){function e(t){eD(this,e),this.opts=t}return eP(e,[{key:"sendEvent",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,i,o,u,c,s,l,d,f,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(r=this.opts).baseUrl,i=r.visitorIdProvider,o=r.preprocessRequest,!this.shouldAppendVisitorId(e)){n.next=10;break}return n.next=7,this.getVisitorIdParam();case 7:n.t0=n.sent,n.next=11;break;case 10:n.t0="";case 11:if(u=n.t0,c={url:"".concat(a,"/analytics/").concat(e).concat(u),credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},n.t1=Object,n.t2=Object.assign({},c),!o){n.next=21;break}return n.next=18,o(c,"analyticsFetch");case 18:n.t3=n.sent,n.next=22;break;case 21:n.t3={};case 22:return n.t4=n.t3,l=(s=n.t1.assign.call(n.t1,n.t2,n.t4)).url,d=r7(s,["url"]),n.prev=26,n.next=29,ig(l,d);case 29:f=n.sent,n.next=36;break;case 32:return n.prev=32,n.t5=n.catch(26),console.error("An error has occured when sending the event.",n.t5),n.abrupt("return");case 36:if(!f.ok){n.next=43;break}return n.next=39,f.json();case 39:return p=n.sent,n.abrupt("return",(p.visitorId&&i.setCurrentVisitorId(p.visitorId),p));case 43:try{f.json()}catch(e){}throw console.error('An error has occured when sending the "'.concat(e,'" event.'),f,t),Error('An error has occurred when sending the "'.concat(e,'" event. Check the console logs for more details.'));case 45:case"end":return n.stop()}},n,this,[[26,32]])}))}},{key:"deleteHttpCookieVisitorId",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.opts.baseUrl,n="".concat(t,"/analytics/visit"),e.next=3,ig(n,{headers:this.getHeaders(),method:"DELETE"});case 3:case"end":return e.stop()}},e,this)}))}},{key:"shouldAppendVisitorId",value:function(e){return -1!==[ap.click,ap.custom,ap.search,ap.view].indexOf(e)}},{key:"getVisitorIdParam",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.opts.visitorIdProvider,e.next=3,t.getCurrentVisitorId();case 3:return n=e.sent,e.abrupt("return",n?"?visitor=".concat(n):"");case 5:case"end":return e.stop()}},e,this)}))}},{key:"getHeaders",value:function(){var e=this.opts.token;return Object.assign(Object.assign({},e?{Authorization:"Bearer ".concat(e)}:{}),{"Content-Type":"application/json"})}}]),e}(),iy=function(){function e(t,n){var r=this;eD(this,e),ar()&&aa()?this.storage=new av:ar()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new ag),this.client=new im(t),this.beaconClient=new ih(t),window.addEventListener("beforeunload",function(){var e,t=eG(n());try{for(t.s();!(e=t.n()).done;){var a=e.value,i=a.eventType,o=a.payload;r.beaconClient.sendEvent(i,o)}}catch(e){t.e(e)}finally{t.f()}})}return eP(e,[{key:"getClientDependingOnEventType",value:function(e){return"click"===e&&this.beaconClient.isAvailable()?this.beaconClient:this.client}}]),e}(),ib=function(){function e(t,n){eD(this,e),this.storage=n||new ag,this.client=new im(t)}return eP(e,[{key:"getClientDependingOnEventType",value:function(e){return this.client}}]),e}(),iw=function(){function e(){eD(this,e),this.storage=new ag,this.client=new iv}return eP(e,[{key:"getClientDependingOnEventType",value:function(e){return this.client}}]),e}(),ik=["1",1,"yes",!0];function iS(){var e=[];return ae()&&e.push(window.doNotTrack),at()&&e.push(navigator.doNotTrack,navigator.msDoNotTrack,navigator.globalPrivacyControl),e.some(function(e){return -1!==ik.indexOf(e)})}var ix,iC="https://analytics.cloud.coveo.com/rest/ua",iR=function(){function e(t){if(eD(this,e),this.acceptedLinkReferrers=[],!t)throw Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),t),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[aw,ao].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};var n={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};iS()?this.runtime=new iw:this.runtime=this.options.runtimeEnvironment||this.initRuntime(n),this.addEventTypeMapping(ap.view,{newEventType:ap.view,addClientIdParameter:!0}),this.addEventTypeMapping(ap.click,{newEventType:ap.click,addClientIdParameter:!0}),this.addEventTypeMapping(ap.custom,{newEventType:ap.custom,addClientIdParameter:!0}),this.addEventTypeMapping(ap.search,{newEventType:ap.search,addClientIdParameter:!0})}return eP(e,[{key:"defaultOptions",get:function(){return{endpoint:iC,isCustomEndpoint:!1,token:"",version:"v15",beforeSendHooks:[],afterSendHooks:[]}}},{key:"version",get:function(){return aT}},{key:"initRuntime",value:function(e){var t=this;return ae()&&an()?new iy(e,function(){var e=eB(t.bufferedRequests);return t.bufferedRequests=[],e}):(("undefined"==typeof navigator?"undefined":eY(navigator))<"u"&&"ReactNative"==navigator.product&&console.warn("\n        We've detected you're using React Native but have not provided the corresponding runtime, \n        for an optimal experience please use the \"coveo.analytics/react-native\" subpackage.\n        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native\n    "),new ib(e))}},{key:"storage",get:function(){return this.runtime.storage}},{key:"determineVisitorId",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t1=ae()&&this.extractClientIdFromLink(window.location.href),e.t1){e.next=6;break}return e.next=5,this.storage.getItem("visitorId");case 5:e.t1=e.sent;case 6:if(e.t0=e.t1,e.t0){e.next=9;break}e.t0=aA();case 9:return e.abrupt("return",e.t0);case 12:return e.prev=12,e.t2=e.catch(0),e.abrupt("return",(console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e.t2),aA()));case 15:case"end":return e.stop()}},e,this,[[0,12]])}))}},{key:"getCurrentVisitorId",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.visitorId){e.next=6;break}return e.next=3,this.determineVisitorId();case 3:return t=e.sent,e.next=6,this.setCurrentVisitorId(t);case 6:return e.abrupt("return",this.visitorId);case 7:case"end":return e.stop()}},e,this)}))}},{key:"setCurrentVisitorId",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.visitorId=e,t.next=3,this.storage.setItem("visitorId",e);case 3:case"end":return t.stop()}},t,this)}))}},{key:"setClientId",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!aC(e)){n.next=4;break}this.setCurrentVisitorId(e.toLowerCase()),n.next=7;break;case 4:if(t){n.next=6;break}throw Error("Cannot generate uuid client id without a specific namespace string.");case 6:this.setCurrentVisitorId(aF(e,aF(t,"38824e1f-37f5-42d3-8372-a4b8fa9df946")));case 7:case"end":return n.stop()}},n,this)}))}},{key:"getParameters",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolveParameters.apply(this,[e].concat(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}},{key:"getPayload",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolveParameters.apply(this,[e].concat(n));case 2:return r=t.sent,t.next=5,this.resolvePayloadForParameters(e,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}))}},{key:"currentVisitorId",get:function(){return"string"!=typeof(this.visitorId||this.storage.getItem("visitorId"))&&this.setCurrentVisitorId(aA()),this.visitorId},set:function(e){this.visitorId=e,this.storage.setItem("visitorId",e)}},{key:"extractClientIdFromLink",value:function(e){if(iS())return null;try{var t=new URL(e).searchParams.get(a_.cvo_cid);if(null==t)return null;var n=a_.fromString(t);return n&&an()&&n.validate(document.referrer,this.acceptedLinkReferrers)?n.clientId:null}catch(e){}return null}},{key:"resolveParameters",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,a,i,o,u,c,s,l,d,f=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=void 0===(a=(r=this.eventTypeMapping[e]||{}).variableLengthArgumentsNames)?[]:a,u=void 0!==(o=r.addVisitorIdParameter)&&o,s=void 0!==(c=r.usesMeasurementProtocol)&&c,d=void 0!==(l=r.addClientIdParameter)&&l,t.next=3,[function(e){return i.length>0?f.parseVariableArgumentsPayload(i,e):e[0]},function(e){return r9(f,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Object,t.t1=Object.assign({},e),!u){t.next=8;break}return t.next=5,this.getCurrentVisitorId();case 5:t.t2=t.sent,t.next=9;break;case 8:t.t2="";case 9:return t.t3=t.t2,t.t4={visitorId:t.t3},t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t4));case 12:case"end":return t.stop()}},t,this)}))},function(e){return r9(f,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=10;break}return t.t1=Object,t.t2=Object.assign({},e),t.next=5,this.getCurrentVisitorId();case 5:t.t3=t.sent,t.t4={clientId:t.t3},t.t0=t.t1.assign.call(t.t1,t.t2,t.t4),t.next=11;break;case 10:t.t0=e;case 11:return t.abrupt("return",t.t0);case 12:case"end":return t.stop()}},t,this)}))},function(e){return s?f.ensureAnonymousUserWhenUsingApiKey(e):e},function(t){return f.beforeSendHooks.reduce(function(t,n){return r9(f,void 0,void 0,regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return a=r.sent,r.next=5,n(e,a);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r)}))},t)}].reduce(function(e,t){return r9(f,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e;case 2:return r=n.sent,n.next=5,t(r);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n)}))},Promise.resolve(n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"resolvePayloadForParameters",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=void 0!==(r=(this.eventTypeMapping[e]||{}).usesMeasurementProtocol)&&r,n.next=3,[function(e){return i.setTrackingIdIfTrackingIdNotPresent(e)},function(t){return i.removeEmptyPayloadValues(t,e)},function(t){return i.validateParams(t,e)},function(e){return a?ic(e):e},function(e){return a?i.removeUnknownParameters(e):e},function(e){return a?i.processCustomParameters(e):i.mapCustomParametersToCustomData(e)}].reduce(function(e,t){return r9(i,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e;case 2:return r=n.sent,n.next=5,t(r);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n)}))},Promise.resolve(t));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,a,i,o,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===(r=(this.eventTypeMapping[e]||{}).newEventType)?e:r,t.next=5,this.resolveParameters.apply(this,[e].concat(n));case 5:return i=t.sent,t.next=8,this.resolvePayloadForParameters(e,i);case 8:return o=t.sent,t.abrupt("return",{eventType:a,payload:o,log:function(t){return r9(u,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bufferedRequests.push({eventType:a,payload:Object.assign(Object.assign({},o),t)}),n.next=3,Promise.all(this.afterSendHooks.map(function(n){return n(e,Object.assign(Object.assign({},i),t))}));case 3:return n.next=5,this.deferExecution();case 5:return n.next=7,this.sendFromBuffer();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}))}});case 10:case"end":return t.stop()}},t,this)}))}},{key:"sendEvent",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeEvent.apply(this,[e].concat(n));case 2:return t.t0={},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"deferExecution",value:function(){return new Promise(function(e){return setTimeout(e,0)})}},{key:"sendFromBuffer",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.bufferedRequests.shift())){e.next=4;break}return n=t.eventType,r=t.payload,e.abrupt("return",this.runtime.getClientDependingOnEventType(n).sendEvent(n,r));case 4:case"end":return e.stop()}},e,this)}))}},{key:"clear",value:function(){this.storage.removeItem("visitorId"),new ay().clear()}},{key:"deleteHttpOnlyVisitorId",value:function(){this.runtime.client.deleteHttpCookieVisitorId()}},{key:"makeSearchEvent",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeEvent(ap.search,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"sendSearchEvent",value:function(e){var t=e.searchQueryUid,n=r7(e,["searchQueryUid"]);return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeSearchEvent(n);case 2:return e.t0={searchQueryUid:t},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeClickEvent",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeEvent(ap.click,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"sendClickEvent",value:function(e){var t=e.searchQueryUid,n=r7(e,["searchQueryUid"]);return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeClickEvent(n);case 2:return e.t0={searchQueryUid:t},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeCustomEvent",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeEvent(ap.custom,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"sendCustomEvent",value:function(e){var t=e.lastSearchQueryUid,n=r7(e,["lastSearchQueryUid"]);return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCustomEvent(n);case 2:return e.t0={lastSearchQueryUid:t},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeViewEvent",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.makeEvent(ap.view,e));case 1:case"end":return t.stop()}},t,this)}))}},{key:"sendViewEvent",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeViewEvent(e);case 2:return t.t0={},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"getVisit",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/analytics/visit"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",(this.visitorId=t.visitorId,t));case 6:case"end":return e.stop()}},e,this)}))}},{key:"getHealth",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/analytics/monitoring/health"));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"registerBeforeSendEventHook",value:function(e){this.beforeSendHooks.push(e)}},{key:"registerAfterSendEventHook",value:function(e){this.afterSendHooks.push(e)}},{key:"addEventTypeMapping",value:function(e,t){this.eventTypeMapping[e]=t}},{key:"setAcceptedLinkReferrers",value:function(e){if(Array.isArray(e)&&e.every(function(e){return"string"==typeof e}))this.acceptedLinkReferrers=e;else throw Error("Parameter should be an array of domain strings")}},{key:"parseVariableArgumentsPayload",value:function(e,t){for(var n={},r=0,a=t.length;r<a;r++){var i=t[r];if("string"==typeof i)n[e[r]]=i;else if("object"==eY(i))return Object.assign(Object.assign({},n),i)}return n}},{key:"isKeyAllowedEmpty",value:function(e,t){return -1!==(eV({},ap.search,["queryText"])[e]||[]).indexOf(t)}},{key:"removeEmptyPayloadValues",value:function(e,t){var n=this;return Object.keys(e).filter(function(r){var a;return n.isKeyAllowedEmpty(t,r)||(a=e[r],"u">eY(a)&&null!==a&&""!==a)}).reduce(function(t,n){return Object.assign(Object.assign({},t),eV({},n,e[n]))},{})}},{key:"removeUnknownParameters",value:function(e){return Object.keys(e).filter(function(e){if([].concat(ii,az,[il,id]).some(function(t){return t(e)}))return!0;console.log(e,"is not processed by coveoua")}).reduce(function(t,n){return Object.assign(Object.assign({},t),eV({},n,e[n]))},{})}},{key:"processCustomParameters",value:function(e){var t=e.custom,n=r7(e,["custom"]),r={};t&&aU(t)&&(r=this.lowercaseKeys(t));var a=aV(n).reduce(function(e,t){var r,a,i=ip(t);return i?Object.assign(Object.assign({},e),(r=i,aV(a=n[t]).reduce(function(e,t){return Object.assign(Object.assign({},e),eV({},"".concat(r).concat(t),a[t]))},{}))):Object.assign(Object.assign({},e),eV({},t,n[t]))},{});return Object.assign(Object.assign({},r),a)}},{key:"mapCustomParametersToCustomData",value:function(e){var t=e.custom,n=r7(e,["custom"]);if(!(t&&aU(t)))return e;var r=this.lowercaseKeys(t);return Object.assign(Object.assign({},n),{customData:Object.assign(Object.assign({},r),e.customData)})}},{key:"lowercaseKeys",value:function(e){var t=Object.keys(e),n={};return t.forEach(function(t){n[t.toLowerCase()]=e[t]}),n}},{key:"validateParams",value:function(e,t){var n=e.anonymizeIp,r=r7(e,["anonymizeIp"]);return void 0!==n&&-1==["0","false","undefined","null","{}","[]",""].indexOf("".concat(n).toLowerCase())&&(r.anonymizeIp=1),(t==ap.view||t==ap.click||t==ap.search||t==ap.custom)&&(r.originLevel3=this.limit(r.originLevel3,1024)),t==ap.view&&(r.location=this.limit(r.location,1024)),("pageview"==t||"event"==t)&&(r.referrer=this.limit(r.referrer,2048),r.location=this.limit(r.location,2048),r.page=this.limit(r.page,2048)),r}},{key:"ensureAnonymousUserWhenUsingApiKey",value:function(e){var t,n=e.userId,r=r7(e,["userId"]);return(null==(t=this.options.token)?void 0:t.startsWith("xx"))&&!n?(r.userId="anonymous",r):e}},{key:"setTrackingIdIfTrackingIdNotPresent",value:function(e){var t=e.trackingId,n=r7(e,["trackingId"]);return t?e:(n.hasOwnProperty("custom")&&aU(n.custom)&&(n.custom.hasOwnProperty("context_website")||n.custom.hasOwnProperty("siteName"))&&(n.trackingId=n.custom.context_website||n.custom.siteName),n.hasOwnProperty("customData")&&aU(n.customData)&&(n.customData.hasOwnProperty("context_website")||n.customData.hasOwnProperty("siteName"))&&(n.trackingId=n.customData.context_website||n.customData.siteName),n)}},{key:"limit",value:function(e,t){return"string"==typeof e?function(e,t){if(t<0||e.length<=t)return e;var n=e.indexOf("%",t-2);for(n<0||n>t?n=t:t=n;n>2&&"%"==e.charAt(n-3);){var r=Number.parseInt(e.substring(n-2,n),16);if((128&r)!=128)break;if(n-=3,(192&r)!=128){t-n>=3*((248&r)==240?4:(240&r)==224?3:(224&r)==192?2:1)&&(n=t);break}}return e.substring(0,n)}(e,t):e}},{key:"baseUrl",get:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iC,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v15",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=e.replace(/\/$/,""),n)return"".concat(e,"/").concat(t);var r=e.endsWith("/rest")||e.endsWith("/rest/ua");return"".concat(e).concat(r?"":"/rest","/").concat(t)}(this.options.endpoint,this.options.version,this.options.isCustomEndpoint)}}]),e}();(r=ix||(ix={})).contextChanged="contextChanged",r.expandToFullUI="expandToFullUI",r.openUserActions="openUserActions",r.showPrecedingSessions="showPrecedingSessions",r.showFollowingSessions="showFollowingSessions",r.clickViewedDocument="clickViewedDocument",r.clickPageView="clickPageView",r.createArticle="createArticle",(a=en||(en={})).interfaceLoad="interfaceLoad",a.interfaceChange="interfaceChange",a.didyoumeanAutomatic="didyoumeanAutomatic",a.didyoumeanClick="didyoumeanClick",a.resultsSort="resultsSort",a.searchboxSubmit="searchboxSubmit",a.searchboxClear="searchboxClear",a.searchboxAsYouType="searchboxAsYouType",a.breadcrumbFacet="breadcrumbFacet",a.breadcrumbResetAll="breadcrumbResetAll",a.documentQuickview="documentQuickview",a.documentOpen="documentOpen",a.omniboxAnalytics="omniboxAnalytics",a.omniboxFromLink="omniboxFromLink",a.searchFromLink="searchFromLink",a.triggerNotify="notify",a.triggerExecute="execute",a.triggerQuery="query",a.undoTriggerQuery="undoQuery",a.triggerRedirect="redirect",a.pagerResize="pagerResize",a.pagerNumber="pagerNumber",a.pagerNext="pagerNext",a.pagerPrevious="pagerPrevious",a.pagerScrolling="pagerScrolling",a.staticFilterClearAll="staticFilterClearAll",a.staticFilterSelect="staticFilterSelect",a.staticFilterDeselect="staticFilterDeselect",a.facetClearAll="facetClearAll",a.facetSearch="facetSearch",a.facetSelect="facetSelect",a.facetSelectAll="facetSelectAll",a.facetDeselect="facetDeselect",a.facetExclude="facetExclude",a.facetUnexclude="facetUnexclude",a.facetUpdateSort="facetUpdateSort",a.facetShowMore="showMoreFacetResults",a.facetShowLess="showLessFacetResults",a.queryError="query",a.queryErrorBack="errorBack",a.queryErrorClear="errorClearQuery",a.queryErrorRetry="errorRetry",a.recommendation="recommendation",a.recommendationInterfaceLoad="recommendationInterfaceLoad",a.recommendationOpen="recommendationOpen",a.likeSmartSnippet="likeSmartSnippet",a.dislikeSmartSnippet="dislikeSmartSnippet",a.expandSmartSnippet="expandSmartSnippet",a.collapseSmartSnippet="collapseSmartSnippet",a.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",a.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",a.sendSmartSnippetReason="sendSmartSnippetReason",a.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",a.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",a.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",a.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",a.openSmartSnippetSource="openSmartSnippetSource",a.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",a.openSmartSnippetInlineLink="openSmartSnippetInlineLink",a.openSmartSnippetSuggestionInlineLink="openSmartSnippetSuggestionInlineLink",a.recentQueryClick="recentQueriesClick",a.clearRecentQueries="clearRecentQueries",a.recentResultClick="recentResultClick",a.clearRecentResults="clearRecentResults",a.noResultsBack="noResultsBack",a.showMoreFoldedResults="showMoreFoldedResults",a.showLessFoldedResults="showLessFoldedResults",a.copyToClipboard="copyToClipboard",a.caseSendEmail="Case.SendEmail",a.feedItemTextPost="FeedItem.TextPost",a.caseAttach="caseAttach",a.caseDetach="caseDetach",a.retryGeneratedAnswer="retryGeneratedAnswer",a.likeGeneratedAnswer="likeGeneratedAnswer",a.dislikeGeneratedAnswer="dislikeGeneratedAnswer",a.openGeneratedAnswerSource="openGeneratedAnswerSource",a.generatedAnswerStreamEnd="generatedAnswerStreamEnd",a.generatedAnswerSourceHover="generatedAnswerSourceHover",a.generatedAnswerCopyToClipboard="generatedAnswerCopyToClipboard",a.generatedAnswerHideAnswers="generatedAnswerHideAnswers",a.generatedAnswerShowAnswers="generatedAnswerShowAnswers",a.generatedAnswerExpand="generatedAnswerExpand",a.generatedAnswerCollapse="generatedAnswerCollapse",a.generatedAnswerFeedbackSubmit="generatedAnswerFeedbackSubmit",a.rephraseGeneratedAnswer="rephraseGeneratedAnswer",a.generatedAnswerFeedbackSubmitV2="generatedAnswerFeedbackSubmitV2",a.generatedAnswerCitationClick="generatedAnswerCitationClick";var iI=(eV(rK={},en.triggerNotify,"queryPipelineTriggers"),eV(rK,en.triggerExecute,"queryPipelineTriggers"),eV(rK,en.triggerQuery,"queryPipelineTriggers"),eV(rK,en.triggerRedirect,"queryPipelineTriggers"),eV(rK,en.queryError,"errors"),eV(rK,en.queryErrorBack,"errors"),eV(rK,en.queryErrorClear,"errors"),eV(rK,en.queryErrorRetry,"errors"),eV(rK,en.pagerNext,"getMoreResults"),eV(rK,en.pagerPrevious,"getMoreResults"),eV(rK,en.pagerNumber,"getMoreResults"),eV(rK,en.pagerResize,"getMoreResults"),eV(rK,en.pagerScrolling,"getMoreResults"),eV(rK,en.facetSearch,"facet"),eV(rK,en.facetShowLess,"facet"),eV(rK,en.facetShowMore,"facet"),eV(rK,en.recommendation,"recommendation"),eV(rK,en.likeSmartSnippet,"smartSnippet"),eV(rK,en.dislikeSmartSnippet,"smartSnippet"),eV(rK,en.expandSmartSnippet,"smartSnippet"),eV(rK,en.collapseSmartSnippet,"smartSnippet"),eV(rK,en.openSmartSnippetFeedbackModal,"smartSnippet"),eV(rK,en.closeSmartSnippetFeedbackModal,"smartSnippet"),eV(rK,en.sendSmartSnippetReason,"smartSnippet"),eV(rK,en.expandSmartSnippetSuggestion,"smartSnippetSuggestions"),eV(rK,en.collapseSmartSnippetSuggestion,"smartSnippetSuggestions"),eV(rK,en.showMoreSmartSnippetSuggestion,"smartSnippetSuggestions"),eV(rK,en.showLessSmartSnippetSuggestion,"smartSnippetSuggestions"),eV(rK,en.clearRecentQueries,"recentQueries"),eV(rK,en.recentResultClick,"recentlyClickedDocuments"),eV(rK,en.clearRecentResults,"recentlyClickedDocuments"),eV(rK,en.showLessFoldedResults,"folding"),eV(rK,en.caseDetach,"case"),eV(rK,en.likeGeneratedAnswer,"generatedAnswer"),eV(rK,en.dislikeGeneratedAnswer,"generatedAnswer"),eV(rK,en.openGeneratedAnswerSource,"generatedAnswer"),eV(rK,en.generatedAnswerStreamEnd,"generatedAnswer"),eV(rK,en.generatedAnswerSourceHover,"generatedAnswer"),eV(rK,en.generatedAnswerCopyToClipboard,"generatedAnswer"),eV(rK,en.generatedAnswerHideAnswers,"generatedAnswer"),eV(rK,en.generatedAnswerShowAnswers,"generatedAnswer"),eV(rK,en.generatedAnswerExpand,"generatedAnswer"),eV(rK,en.generatedAnswerCollapse,"generatedAnswer"),eV(rK,en.generatedAnswerFeedbackSubmit,"generatedAnswer"),eV(rK,en.generatedAnswerFeedbackSubmitV2,"generatedAnswer"),eV(rK,ix.expandToFullUI,"interface"),eV(rK,ix.openUserActions,"User Actions"),eV(rK,ix.showPrecedingSessions,"User Actions"),eV(rK,ix.showFollowingSessions,"User Actions"),eV(rK,ix.clickViewedDocument,"User Actions"),eV(rK,ix.clickPageView,"User Actions"),eV(rK,ix.createArticle,"createArticle"),rK),iq=function(){function e(){eD(this,e),this.runtime=new iw,this.currentVisitorId=""}return eP(e,[{key:"getPayload",value:function(){return Promise.resolve()}},{key:"getParameters",value:function(){return Promise.resolve()}},{key:"makeEvent",value:function(e){return Promise.resolve({eventType:e,payload:null,log:function(){return Promise.resolve()}})}},{key:"sendEvent",value:function(){return Promise.resolve()}},{key:"makeSearchEvent",value:function(){return this.makeEvent(ap.search)}},{key:"sendSearchEvent",value:function(){return Promise.resolve()}},{key:"makeClickEvent",value:function(){return this.makeEvent(ap.click)}},{key:"sendClickEvent",value:function(){return Promise.resolve()}},{key:"makeCustomEvent",value:function(){return this.makeEvent(ap.custom)}},{key:"sendCustomEvent",value:function(){return Promise.resolve()}},{key:"makeViewEvent",value:function(){return this.makeEvent(ap.view)}},{key:"sendViewEvent",value:function(){return Promise.resolve()}},{key:"getVisit",value:function(){return Promise.resolve({id:"",visitorId:""})}},{key:"getHealth",value:function(){return Promise.resolve({status:""})}},{key:"registerBeforeSendEventHook",value:function(){}},{key:"registerAfterSendEventHook",value:function(){}},{key:"addEventTypeMapping",value:function(){}},{key:"version",get:function(){return aT}}]),e}(),iO=function(e){var t,n=e.map(function(e){return e.replace(/;/g,"")});return function e(t){var n=t.join(";");return n.length<=256?n:e(t.slice(1))}((t="",n.filter(function(e){var n=e!==t;return t=e,n})))};function iA(e){var t="string"==typeof e.partialQueries?e.partialQueries:iO(e.partialQueries),n="string"==typeof e.suggestions?e.suggestions:iO(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:n})}var iE=function(){function e(t,n){eD(this,e),this.opts=t,this.provider=n;var r=!1===t.enableAnalytics||iS();this.coveoAnalyticsClient=r?new iq:new iR(t)}return eP(e,[{key:"disable",value:function(){this.coveoAnalyticsClient=new iq}},{key:"enable",value:function(){this.coveoAnalyticsClient=new iR(this.opts)}},{key:"makeInterfaceLoad",value:function(){return this.makeSearchEvent(en.interfaceLoad)}},{key:"logInterfaceLoad",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeInterfaceLoad();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeRecommendationInterfaceLoad",value:function(){return this.makeSearchEvent(en.recommendationInterfaceLoad)}},{key:"logRecommendationInterfaceLoad",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeRecommendationInterfaceLoad();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeRecommendation",value:function(){return this.makeCustomEvent(en.recommendation)}},{key:"logRecommendation",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeRecommendation();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeRecommendationOpen",value:function(e,t){return this.makeClickEvent(en.recommendationOpen,e,t)}},{key:"logRecommendationOpen",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeRecommendationOpen(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeStaticFilterClearAll",value:function(e){return this.makeSearchEvent(en.staticFilterClearAll,e)}},{key:"logStaticFilterClearAll",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeStaticFilterClearAll(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeStaticFilterSelect",value:function(e){return this.makeSearchEvent(en.staticFilterSelect,e)}},{key:"logStaticFilterSelect",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeStaticFilterSelect(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeStaticFilterDeselect",value:function(e){return this.makeSearchEvent(en.staticFilterDeselect,e)}},{key:"logStaticFilterDeselect",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeStaticFilterDeselect(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFetchMoreResults",value:function(){return this.makeCustomEvent(en.pagerScrolling,{type:"getMoreResults"})}},{key:"logFetchMoreResults",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeFetchMoreResults();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeInterfaceChange",value:function(e){return this.makeSearchEvent(en.interfaceChange,e)}},{key:"logInterfaceChange",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeInterfaceChange(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeDidYouMeanAutomatic",value:function(){return this.makeSearchEvent(en.didyoumeanAutomatic)}},{key:"logDidYouMeanAutomatic",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeDidYouMeanAutomatic();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeDidYouMeanClick",value:function(){return this.makeSearchEvent(en.didyoumeanClick)}},{key:"logDidYouMeanClick",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeDidYouMeanClick();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeResultsSort",value:function(e){return this.makeSearchEvent(en.resultsSort,e)}},{key:"logResultsSort",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeResultsSort(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeSearchboxSubmit",value:function(){return this.makeSearchEvent(en.searchboxSubmit)}},{key:"logSearchboxSubmit",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeSearchboxSubmit();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeSearchboxClear",value:function(){return this.makeSearchEvent(en.searchboxClear)}},{key:"logSearchboxClear",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeSearchboxClear();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeSearchboxAsYouType",value:function(){return this.makeSearchEvent(en.searchboxAsYouType)}},{key:"logSearchboxAsYouType",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeSearchboxAsYouType();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeBreadcrumbFacet",value:function(e){return this.makeSearchEvent(en.breadcrumbFacet,e)}},{key:"logBreadcrumbFacet",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeBreadcrumbFacet(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeBreadcrumbResetAll",value:function(){return this.makeSearchEvent(en.breadcrumbResetAll)}},{key:"logBreadcrumbResetAll",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeBreadcrumbResetAll();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeDocumentQuickview",value:function(e,t){return this.makeClickEvent(en.documentQuickview,e,t)}},{key:"logDocumentQuickview",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeDocumentQuickview(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeDocumentOpen",value:function(e,t){return this.makeClickEvent(en.documentOpen,e,t)}},{key:"logDocumentOpen",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeDocumentOpen(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeOmniboxAnalytics",value:function(e){return this.makeSearchEvent(en.omniboxAnalytics,iA(e))}},{key:"logOmniboxAnalytics",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeOmniboxAnalytics(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeOmniboxFromLink",value:function(e){return this.makeSearchEvent(en.omniboxFromLink,iA(e))}},{key:"logOmniboxFromLink",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeOmniboxFromLink(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeSearchFromLink",value:function(){return this.makeSearchEvent(en.searchFromLink)}},{key:"logSearchFromLink",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeSearchFromLink();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeTriggerNotify",value:function(e){return this.makeCustomEvent(en.triggerNotify,e)}},{key:"logTriggerNotify",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeTriggerNotify(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeTriggerExecute",value:function(e){return this.makeCustomEvent(en.triggerExecute,e)}},{key:"logTriggerExecute",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeTriggerExecute(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeTriggerQuery",value:function(){return this.makeCustomEvent(en.triggerQuery,{query:this.provider.getSearchEventRequestPayload().queryText},"queryPipelineTriggers")}},{key:"logTriggerQuery",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeTriggerQuery();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeUndoTriggerQuery",value:function(e){return this.makeSearchEvent(en.undoTriggerQuery,e)}},{key:"logUndoTriggerQuery",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeUndoTriggerQuery(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeTriggerRedirect",value:function(e){return this.makeCustomEvent(en.triggerRedirect,Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText}))}},{key:"logTriggerRedirect",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeTriggerRedirect(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makePagerResize",value:function(e){return this.makeCustomEvent(en.pagerResize,e)}},{key:"logPagerResize",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makePagerResize(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makePagerNumber",value:function(e){return this.makeCustomEvent(en.pagerNumber,e)}},{key:"logPagerNumber",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makePagerNumber(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makePagerNext",value:function(e){return this.makeCustomEvent(en.pagerNext,e)}},{key:"logPagerNext",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makePagerNext(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makePagerPrevious",value:function(e){return this.makeCustomEvent(en.pagerPrevious,e)}},{key:"logPagerPrevious",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makePagerPrevious(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makePagerScrolling",value:function(){return this.makeCustomEvent(en.pagerScrolling)}},{key:"logPagerScrolling",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makePagerScrolling();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeFacetClearAll",value:function(e){return this.makeSearchEvent(en.facetClearAll,e)}},{key:"logFacetClearAll",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetClearAll(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetSearch",value:function(e){return this.makeSearchEvent(en.facetSearch,e)}},{key:"logFacetSearch",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetSearch(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetSelect",value:function(e){return this.makeSearchEvent(en.facetSelect,e)}},{key:"logFacetSelect",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetSelect(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetDeselect",value:function(e){return this.makeSearchEvent(en.facetDeselect,e)}},{key:"logFacetDeselect",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetDeselect(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetExclude",value:function(e){return this.makeSearchEvent(en.facetExclude,e)}},{key:"logFacetExclude",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetExclude(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetUnexclude",value:function(e){return this.makeSearchEvent(en.facetUnexclude,e)}},{key:"logFacetUnexclude",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetUnexclude(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetSelectAll",value:function(e){return this.makeSearchEvent(en.facetSelectAll,e)}},{key:"logFacetSelectAll",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetSelectAll(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetUpdateSort",value:function(e){return this.makeSearchEvent(en.facetUpdateSort,e)}},{key:"logFacetUpdateSort",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetUpdateSort(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetShowMore",value:function(e){return this.makeCustomEvent(en.facetShowMore,e)}},{key:"logFacetShowMore",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetShowMore(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeFacetShowLess",value:function(e){return this.makeCustomEvent(en.facetShowLess,e)}},{key:"logFacetShowLess",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeFacetShowLess(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeQueryError",value:function(e){return this.makeCustomEvent(en.queryError,e)}},{key:"logQueryError",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeQueryError(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeQueryErrorBack",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCustomEvent(en.queryErrorBack);case 2:return t=e.sent,e.abrupt("return",{description:t.description,log:function(){return r9(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.log({searchUID:this.provider.getSearchUID()});case 2:return e.abrupt("return",this.logSearchEvent(en.queryErrorBack));case 3:case"end":return e.stop()}},e,this)}))}});case 4:case"end":return e.stop()}},e,this)}))}},{key:"logQueryErrorBack",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeQueryErrorBack();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeQueryErrorRetry",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCustomEvent(en.queryErrorRetry);case 2:return t=e.sent,e.abrupt("return",{description:t.description,log:function(){return r9(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.log({searchUID:this.provider.getSearchUID()});case 2:return e.abrupt("return",this.logSearchEvent(en.queryErrorRetry));case 3:case"end":return e.stop()}},e,this)}))}});case 4:case"end":return e.stop()}},e,this)}))}},{key:"logQueryErrorRetry",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeQueryErrorRetry();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeQueryErrorClear",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCustomEvent(en.queryErrorClear);case 2:return t=e.sent,e.abrupt("return",{description:t.description,log:function(){return r9(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.log({searchUID:this.provider.getSearchUID()});case 2:return e.abrupt("return",this.logSearchEvent(en.queryErrorClear));case 3:case"end":return e.stop()}},e,this)}))}});case 4:case"end":return e.stop()}},e,this)}))}},{key:"logQueryErrorClear",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeQueryErrorClear();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeLikeSmartSnippet",value:function(){return this.makeCustomEvent(en.likeSmartSnippet)}},{key:"logLikeSmartSnippet",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeLikeSmartSnippet();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeDislikeSmartSnippet",value:function(){return this.makeCustomEvent(en.dislikeSmartSnippet)}},{key:"logDislikeSmartSnippet",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeDislikeSmartSnippet();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeExpandSmartSnippet",value:function(){return this.makeCustomEvent(en.expandSmartSnippet)}},{key:"logExpandSmartSnippet",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeExpandSmartSnippet();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeCollapseSmartSnippet",value:function(){return this.makeCustomEvent(en.collapseSmartSnippet)}},{key:"logCollapseSmartSnippet",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCollapseSmartSnippet();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeOpenSmartSnippetFeedbackModal",value:function(){return this.makeCustomEvent(en.openSmartSnippetFeedbackModal)}},{key:"logOpenSmartSnippetFeedbackModal",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeOpenSmartSnippetFeedbackModal();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeCloseSmartSnippetFeedbackModal",value:function(){return this.makeCustomEvent(en.closeSmartSnippetFeedbackModal)}},{key:"logCloseSmartSnippetFeedbackModal",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCloseSmartSnippetFeedbackModal();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeSmartSnippetFeedbackReason",value:function(e,t){return this.makeCustomEvent(en.sendSmartSnippetReason,{reason:e,details:t})}},{key:"logSmartSnippetFeedbackReason",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeSmartSnippetFeedbackReason(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeExpandSmartSnippetSuggestion",value:function(e){return this.makeCustomEvent(en.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}},{key:"logExpandSmartSnippetSuggestion",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeExpandSmartSnippetSuggestion(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeCollapseSmartSnippetSuggestion",value:function(e){return this.makeCustomEvent(en.collapseSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}},{key:"logCollapseSmartSnippetSuggestion",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeCollapseSmartSnippetSuggestion(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeShowMoreSmartSnippetSuggestion",value:function(e){return this.makeCustomEvent(en.showMoreSmartSnippetSuggestion,e)}},{key:"logShowMoreSmartSnippetSuggestion",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeShowMoreSmartSnippetSuggestion(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeShowLessSmartSnippetSuggestion",value:function(e){return this.makeCustomEvent(en.showLessSmartSnippetSuggestion,e)}},{key:"logShowLessSmartSnippetSuggestion",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeShowLessSmartSnippetSuggestion(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeOpenSmartSnippetSource",value:function(e,t){return this.makeClickEvent(en.openSmartSnippetSource,e,t)}},{key:"logOpenSmartSnippetSource",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeOpenSmartSnippetSource(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeOpenSmartSnippetSuggestionSource",value:function(e,t){return this.makeClickEvent(en.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}},{key:"makeCopyToClipboard",value:function(e,t){return this.makeClickEvent(en.copyToClipboard,e,t)}},{key:"logCopyToClipboard",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeCopyToClipboard(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"logOpenSmartSnippetSuggestionSource",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeOpenSmartSnippetSuggestionSource(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeOpenSmartSnippetInlineLink",value:function(e,t){return this.makeClickEvent(en.openSmartSnippetInlineLink,e,{contentIDKey:t.contentIDKey,contentIDValue:t.contentIDValue},t)}},{key:"logOpenSmartSnippetInlineLink",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeOpenSmartSnippetInlineLink(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeOpenSmartSnippetSuggestionInlineLink",value:function(e,t){return this.makeClickEvent(en.openSmartSnippetSuggestionInlineLink,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}},{key:"logOpenSmartSnippetSuggestionInlineLink",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeOpenSmartSnippetSuggestionInlineLink(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeRecentQueryClick",value:function(){return this.makeSearchEvent(en.recentQueryClick)}},{key:"logRecentQueryClick",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeRecentQueryClick();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeClearRecentQueries",value:function(){return this.makeCustomEvent(en.clearRecentQueries)}},{key:"logClearRecentQueries",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeClearRecentQueries();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeRecentResultClick",value:function(e,t){return this.makeCustomEvent(en.recentResultClick,{info:e,identifier:t})}},{key:"logRecentResultClick",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeRecentResultClick(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeClearRecentResults",value:function(){return this.makeCustomEvent(en.clearRecentResults)}},{key:"logClearRecentResults",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeClearRecentResults();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeNoResultsBack",value:function(){return this.makeSearchEvent(en.noResultsBack)}},{key:"logNoResultsBack",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeNoResultsBack();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeShowMoreFoldedResults",value:function(e,t){return this.makeClickEvent(en.showMoreFoldedResults,e,t)}},{key:"logShowMoreFoldedResults",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeShowMoreFoldedResults(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeShowLessFoldedResults",value:function(){return this.makeCustomEvent(en.showLessFoldedResults)}},{key:"logShowLessFoldedResults",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeShowLessFoldedResults();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeEventDescription",value:function(e,t){var n;return{actionCause:t,customData:null==(n=e.payload)?void 0:n.customData}}},{key:"makeCustomEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iI[e];return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.coveoAnalyticsClient.getParameters,a=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),r.t0=Object,r.t1=Object,r.t2={},r.next=7,this.getBaseEventRequest(a);case 7:return r.t3=r.sent,r.t4=r.t1.assign.call(r.t1,r.t2,r.t3),r.t5={eventType:n,eventValue:e},i=r.t0.assign.call(r.t0,r.t4,r.t5),r.next=13,this.coveoAnalyticsClient.makeCustomEvent(i);case 13:return o=r.sent,r.abrupt("return",{description:this.makeEventDescription(o,e),log:function(e){var t=e.searchUID;return o.log({lastSearchQueryUid:t})}});case 15:case"end":return r.stop()}},r,this)}))}},{key:"logCustomEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iI[e];return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.makeCustomEvent(e,t,n);case 2:return r.t0={searchUID:this.provider.getSearchUID()},r.abrupt("return",r.sent.log(r.t0));case 4:case"end":return r.stop()}},r,this)}))}},{key:"makeCustomEventWithType",value:function(e,t,n){return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=Object.assign(Object.assign({},this.provider.getBaseMetadata()),n),r.t0=Object,r.t1=Object,r.t2={},r.next=6,this.getBaseEventRequest(a);case 6:return r.t3=r.sent,r.t4=r.t1.assign.call(r.t1,r.t2,r.t3),r.t5={eventType:t,eventValue:e},i=r.t0.assign.call(r.t0,r.t4,r.t5),r.next=12,this.coveoAnalyticsClient.makeCustomEvent(i);case 12:return o=r.sent,r.abrupt("return",{description:this.makeEventDescription(o,e),log:function(e){var t=e.searchUID;return o.log({lastSearchQueryUid:t})}});case 14:case"end":return r.stop()}},r,this)}))}},{key:"logCustomEventWithType",value:function(e,t,n){return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.makeCustomEventWithType(e,t,n);case 2:return r.t0={searchUID:this.provider.getSearchUID()},r.abrupt("return",r.sent.log(r.t0));case 4:case"end":return r.stop()}},r,this)}))}},{key:"logSearchEvent",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeSearchEvent(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeSearchEvent",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getBaseSearchEventRequest(e,t);case 2:return r=n.sent,n.next=5,this.coveoAnalyticsClient.makeSearchEvent(r);case 5:return a=n.sent,n.abrupt("return",{description:this.makeEventDescription(a,e),log:function(e){var t=e.searchUID;return a.log({searchQueryUid:t})}});case 7:case"end":return n.stop()}},n,this)}))}},{key:"makeClickEvent",value:function(e,t,n,r){return r9(this,void 0,void 0,regeneratorRuntime.mark(function a(){var i,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=Object,a.t1=Object,a.t2=Object.assign({},t),a.next=5,this.getBaseEventRequest(Object.assign(Object.assign({},n),r));case 5:return a.t3=a.sent,a.t4=a.t1.assign.call(a.t1,a.t2,a.t3),a.t5={queryPipeline:this.provider.getPipeline(),actionCause:e},i=a.t0.assign.call(a.t0,a.t4,a.t5),a.next=11,this.coveoAnalyticsClient.makeClickEvent(i);case 11:return o=a.sent,a.abrupt("return",{description:this.makeEventDescription(o,e),log:function(e){var t=e.searchUID;return o.log({searchQueryUid:t})}});case 13:case"end":return a.stop()}},a,this)}))}},{key:"logClickEvent",value:function(e,t,n,r){return r9(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.makeClickEvent(e,t,n,r);case 2:return a.t0={searchUID:this.provider.getSearchUID()},a.abrupt("return",a.sent.log(a.t0));case 4:case"end":return a.stop()}},a,this)}))}},{key:"getBaseSearchEventRequest",value:function(e,t){var n,r;return r9(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=Object,a.t1=Object,a.t2=Object,a.t3={},a.next=6,this.getBaseEventRequest(Object.assign(Object.assign({},t),null==(r=(n=this.provider).getGeneratedAnswerMetadata)?void 0:r.call(n)));case 6:return a.t4=a.sent,a.t5=a.t2.assign.call(a.t2,a.t3,a.t4),a.t6=this.provider.getSearchEventRequestPayload(),a.t7=a.t1.assign.call(a.t1,a.t5,a.t6),a.t8={queryPipeline:this.provider.getPipeline(),actionCause:e},a.abrupt("return",a.t0.assign.call(a.t0,a.t7,a.t8));case 12:case"end":return a.stop()}},a,this)}))}},{key:"getBaseEventRequest",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e),t.t0=Object,t.t1=Object.assign(Object.assign({},this.getOrigins()),this.getSplitTestRun()),t.t2=n,t.t3=this.provider.getLanguage(),t.t4=this.provider.getFacetState?this.provider.getFacetState():[],t.t5=this.provider.getIsAnonymous(),t.next=9,this.getClientId();case 9:return t.t6=t.sent,t.t7={customData:t.t2,language:t.t3,facetState:t.t4,anonymous:t.t5,clientId:t.t6},t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t7));case 12:case"end":return t.stop()}},t,this)}))}},{key:"getOrigins",value:function(){var e,t;return{originContext:null==(t=(e=this.provider).getOriginContext)?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}},{key:"getClientId",value:function(){return this.coveoAnalyticsClient instanceof iR?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}},{key:"getSplitTestRun",value:function(){var e=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",t=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return Object.assign(Object.assign({},e&&{splitTestRunName:e}),t&&{splitTestRunVersion:t})}},{key:"makeLikeGeneratedAnswer",value:function(e){return this.makeCustomEvent(en.likeGeneratedAnswer,e)}},{key:"logLikeGeneratedAnswer",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeLikeGeneratedAnswer(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeDislikeGeneratedAnswer",value:function(e){return this.makeCustomEvent(en.dislikeGeneratedAnswer,e)}},{key:"logDislikeGeneratedAnswer",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeDislikeGeneratedAnswer(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeOpenGeneratedAnswerSource",value:function(e){return this.makeCustomEvent(en.openGeneratedAnswerSource,e)}},{key:"logOpenGeneratedAnswerSource",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeOpenGeneratedAnswerSource(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerCitationClick",value:function(e,t){return this.makeClickEvent(en.generatedAnswerCitationClick,Object.assign(Object.assign({},e),{documentPosition:1}),{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}},{key:"logGeneratedAnswerCitationClick",value:function(e,t){return r9(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.makeGeneratedAnswerCitationClick(e,t);case 2:return n.t0={searchUID:this.provider.getSearchUID()},n.abrupt("return",n.sent.log(n.t0));case 4:case"end":return n.stop()}},n,this)}))}},{key:"makeGeneratedAnswerSourceHover",value:function(e){return this.makeCustomEvent(en.generatedAnswerSourceHover,e)}},{key:"logGeneratedAnswerSourceHover",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerSourceHover(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerCopyToClipboard",value:function(e){return this.makeCustomEvent(en.generatedAnswerCopyToClipboard,e)}},{key:"logGeneratedAnswerCopyToClipboard",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerCopyToClipboard(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerHideAnswers",value:function(e){return this.makeCustomEvent(en.generatedAnswerHideAnswers,e)}},{key:"logGeneratedAnswerHideAnswers",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerHideAnswers(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerShowAnswers",value:function(e){return this.makeCustomEvent(en.generatedAnswerShowAnswers,e)}},{key:"logGeneratedAnswerShowAnswers",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerShowAnswers(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerExpand",value:function(e){return this.makeCustomEvent(en.generatedAnswerExpand,e)}},{key:"logGeneratedAnswerExpand",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerExpand(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerCollapse",value:function(e){return this.makeCustomEvent(en.generatedAnswerCollapse,e)}},{key:"logGeneratedAnswerCollapse",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerCollapse(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerFeedbackSubmit",value:function(e){return this.makeCustomEvent(en.generatedAnswerFeedbackSubmit,e)}},{key:"logGeneratedAnswerFeedbackSubmit",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerFeedbackSubmit(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeGeneratedAnswerFeedbackSubmitV2",value:function(e){return this.makeCustomEvent(en.generatedAnswerFeedbackSubmitV2,e)}},{key:"logGeneratedAnswerFeedbackSubmitV2",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerFeedbackSubmitV2(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeRephraseGeneratedAnswer",value:function(e){return this.makeSearchEvent(en.rephraseGeneratedAnswer,e)}},{key:"logRephraseGeneratedAnswer",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeRephraseGeneratedAnswer(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}},{key:"makeRetryGeneratedAnswer",value:function(){return this.makeSearchEvent(en.retryGeneratedAnswer)}},{key:"logRetryGeneratedAnswer",value:function(){return r9(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeRetryGeneratedAnswer();case 2:return e.t0={searchUID:this.provider.getSearchUID()},e.abrupt("return",e.sent.log(e.t0));case 4:case"end":return e.stop()}},e,this)}))}},{key:"makeGeneratedAnswerStreamEnd",value:function(e){return this.makeCustomEvent(en.generatedAnswerStreamEnd,e)}},{key:"logGeneratedAnswerStreamEnd",value:function(e){return r9(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.makeGeneratedAnswerStreamEnd(e);case 2:return t.t0={searchUID:this.provider.getSearchUID()},t.abrupt("return",t.sent.log(t.t0));case 4:case"end":return t.stop()}},t,this)}))}}]),e}(),iF=Object.assign({},aM),iT=Object.keys(iF).map(function(e){return iF[e]}),iD=function(e){eR(n,e);var t=eI(n);function n(e){var r,a=e.client,i=e.uuidGenerator;return eD(this,n),(r=t.call(this,{client:a,uuidGenerator:void 0===i?aA:i})).ticket={},r}return eP(n,[{key:"getApi",value:function(e){var t=ex(n,"getApi",this,3)([e]);return null!==t?t:"setTicket"===e?this.setTicket:null}},{key:"addHooks",value:function(){this.addHooksForEvent(),this.addHooksForPageView(),this.addHooksForSVCEvents()}},{key:"setTicket",value:function(e){this.ticket=e}},{key:"clearPluginData",value:function(){this.ticket={}}},{key:"addHooksForSVCEvents",value:function(){var e=this;this.client.registerBeforeSendEventHook(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=r[0];return -1!==iT.indexOf(t)?e.addSVCDataToPayload(t,i):i}),this.client.registerAfterSendEventHook(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=r[0];return -1!==iT.indexOf(t)&&e.updateLocationInformation(t,i),i})}},{key:"addHooksForPageView",value:function(){this.client.addEventTypeMapping(iF.pageview,{newEventType:ap.collect,variableLengthArgumentsNames:["page"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})}},{key:"addHooksForEvent",value:function(){this.client.addEventTypeMapping(iF.event,{newEventType:ap.collect,variableLengthArgumentsNames:["eventCategory","eventAction","eventLabel","eventValue"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})}},{key:"addSVCDataToPayload",value:function(e,t){var n,r=Object.assign(Object.assign(Object.assign(Object.assign({},this.getLocationInformation(e,t)),this.getDefaultContextInformation(e)),this.action?{svcAction:this.action}:{}),Object.keys(null!=(n=this.actionData)?n:{}).length>0?{svcActionData:this.actionData}:{}),a=this.getTicketPayload();return this.clearData(),Object.assign(Object.assign(Object.assign({},a),r),t)}},{key:"getTicketPayload",value:function(){var e;return aV(e=this.ticket).filter(function(t){return void 0!==e[t]}).reduce(function(t,n){var r=aL[n]||n;return Object.assign(Object.assign({},t),eV({},r,e[n]))},{})}}]),n}(aj);iD.Id="svc",(i=er||(er={})).click="click",i.flowStart="flowStart",(o=ea||(ea={})).enterInterface="ticket_create_start",o.fieldUpdate="ticket_field_update",o.fieldSuggestionClick="ticket_classification_click",o.documentSuggestionClick="documentSuggestionClick",o.documentSuggestionQuickview="documentSuggestionQuickview",o.suggestionRate="suggestion_rate",o.nextCaseStep="ticket_next_stage",o.caseCancelled="ticket_cancel",o.caseSolved="ticket_cancel",o.caseCreated="ticket_create",(u=ei||(ei={})).quit="Quit",u.solved="Solved";var iM=function(){function e(t,n){eD(this,e),this.options=t,this.provider=n;var r,a=(null==(r=t.enableAnalytics)||r)&&!iS();this.coveoAnalyticsClient=a?new iR(t):new iq,this.svc=new iD({client:this.coveoAnalyticsClient})}return eP(e,[{key:"disable",value:function(){this.coveoAnalyticsClient=new iq,this.svc=new iD({client:this.coveoAnalyticsClient})}},{key:"enable",value:function(){this.coveoAnalyticsClient=new iR(this.options),this.svc=new iD({client:this.coveoAnalyticsClient})}},{key:"logEnterInterface",value:function(e){return this.svc.setAction(ea.enterInterface),this.svc.setTicket(e.ticket),this.sendFlowStartEvent()}},{key:"logUpdateCaseField",value:function(e){return this.svc.setAction(ea.fieldUpdate,{fieldName:e.fieldName}),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logSelectFieldSuggestion",value:function(e){return this.svc.setAction(ea.fieldSuggestionClick,e.suggestion),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logSelectDocumentSuggestion",value:function(e){return this.logClickEvent(ea.documentSuggestionClick,e.suggestion.suggestion,{contentIDKey:"permanentId",contentIDValue:e.suggestion.permanentId})}},{key:"logQuickviewDocumentSuggestion",value:function(e){return this.logClickEvent(ea.documentSuggestionQuickview,e.suggestion.suggestion,{contentIDKey:"permanentId",contentIDValue:e.suggestion.permanentId})}},{key:"logRateDocumentSuggestion",value:function(e){return this.svc.setAction(ea.suggestionRate,Object.assign({rate:e.rating},e.suggestion)),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logMoveToNextCaseStep",value:function(e){return this.svc.setAction(ea.nextCaseStep,{stage:null==e?void 0:e.stage}),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logCaseCancelled",value:function(e){return this.svc.setAction(ea.caseCancelled,{reason:ei.quit}),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logCaseSolved",value:function(e){return this.svc.setAction(ea.caseSolved,{reason:ei.solved}),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"logCaseCreated",value:function(e){return this.svc.setAction(ea.caseCreated),this.svc.setTicket(e.ticket),this.sendClickEvent()}},{key:"sendFlowStartEvent",value:function(){return this.coveoAnalyticsClient.sendEvent("event","svc",er.flowStart,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)}},{key:"sendClickEvent",value:function(){return this.coveoAnalyticsClient.sendEvent("event","svc",er.click,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)}},{key:"getBaseEventRequest",value:function(e){var t,n;return r9(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=Object.assign({},e),r.t0=Object,r.t1=Object.assign({},this.getOrigins()),r.t2=a,r.t3=null==(t=this.provider)?void 0:t.getLanguage(),r.t4=null==(n=this.provider)?void 0:n.getIsAnonymous(),r.next=8,this.getClientId();case 8:return r.t5=r.sent,r.t6={customData:r.t2,language:r.t3,anonymous:r.t4,clientId:r.t5},r.abrupt("return",r.t0.assign.call(r.t0,r.t1,r.t6));case 11:case"end":return r.stop()}},r,this)}))}},{key:"getClientId",value:function(){return this.coveoAnalyticsClient instanceof iR?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}},{key:"getOrigins",value:function(){var e,t,n,r,a;return{originContext:null==(t=null==(e=this.provider)?void 0:e.getOriginContext)?void 0:t.call(e),originLevel1:null==(n=this.provider)?void 0:n.getOriginLevel1(),originLevel2:null==(r=this.provider)?void 0:r.getOriginLevel2(),originLevel3:null==(a=this.provider)?void 0:a.getOriginLevel3()}}},{key:"logClickEvent",value:function(e,t,n,r){var a,i;return r9(this,void 0,void 0,regeneratorRuntime.mark(function o(){var u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=Object,o.t1=Object,o.t2=Object.assign({},t),o.next=5,this.getBaseEventRequest(Object.assign(Object.assign({},n),r));case 5:return o.t3=o.sent,o.t4=o.t1.assign.call(o.t1,o.t2,o.t3),o.t5={searchQueryUid:null!=(i=null==(a=this.provider)?void 0:a.getSearchUID())?i:"",actionCause:e},u=o.t0.assign.call(o.t0,o.t4,o.t5),o.abrupt("return",this.coveoAnalyticsClient.sendClickEvent(u));case 10:case"end":return o.stop()}},o,this)}))}}]),e}(),iP=function(){return"default"},ij=function(e){var t=e.configuration.search.locale.split("-")[0];return t&&2===t.length?t:"en"},i_=function(){function e(t){eD(this,e),this.getState=t,e3(this,"state"),this.state=t()}return eP(e,[{key:"getLanguage",value:function(){return ij(this.state)}},{key:"getBaseMetadata",value:function(){for(var e=this.state,t=e.context,n=e.configuration,r=(null==t?void 0:t.contextValues)||{},a={},i=0,o=Object.entries(r);i<o.length;i++){var u=eQ(o[i],2),c=u[0],s=u[1];a["context_".concat(c)]=s}return"legacy"===n.analytics.analyticsMode&&(a.coveoHeadlessVersion=r5),a}},{key:"getOriginContext",value:function(){return this.state.configuration.analytics.originContext}},{key:"getOriginLevel1",value:function(){return this.state.searchHub||iP()}},{key:"getOriginLevel2",value:function(){return this.state.configuration.analytics.originLevel2}},{key:"getOriginLevel3",value:function(){return this.state.configuration.analytics.originLevel3}},{key:"getIsAnonymous",value:function(){return this.state.configuration.analytics.anonymous}}]),e}(),iV=new ab.HistoryStore,iU=function(e,t){return"function"==typeof t?function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=ty(r[0]);try{return t.apply(t,r)}catch(t){return e.error(t,"Error in analytics preprocessRequest. Returning original request."),i}}:void 0},iL=function(e,t){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=ty(r[1]);try{return t.apply(t,r)}catch(t){return e.error(t,"Error in analytics hook. Returning original request."),i}}},iQ=function(e){eR(n,e);var t=eI(n);function n(){return eD(this,n),t.apply(this,arguments)}return eP(n,[{key:"getSearchUID",value:function(){var e,t;return null!=(e=null==(t=this.state.documentSuggestion)?void 0:t.status.lastResponseId)?e:""}}]),n}(i_);function iN(){return{desiredCount:5,numberOfValues:8,set:{}}}var iz=function(e,t){var n;return null==(n=e.search)?void 0:n.response.facets.find(function(e){return e.facetId===t})},iB=function(e,t){var n;return null==(n=e.facetSet[t])?void 0:n.request},iG=function(e,t){var n=iz(e,t);return n&&n.facetId in e.facetSet?n:void 0};function i$(e){var t=function(e){for(var t=eB(e),n=new Map;t.length>0;){var r=t.shift();if("selected"===r.state)return{activeValue:r,ancestryMap:n};if(n){var a,i=eG(r.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;n.set(o,r)}}catch(e){i.e(e)}finally{i.f()}}t.unshift.apply(t,eB(r.children))}return{}}(e),n=t.activeValue,r=t.ancestryMap;return n?function(e,t){var n=[];if(!e)return[];var r=e;do n.unshift(r),r=t.get(r);while(r);return n}(n,r):[]}var iH=function(e,t){var n;return null==(n=e.categoryFacetSet[t])?void 0:n.request},iY=function(e,t){var n,r=iH(e,t);return i$(null!=(n=null==r?void 0:r.currentValues)?n:[])},iW=function(e,t){var n=ot(t,e),r=n?n.field:"",a=oe(r,e);return{facetId:e,facetField:r,facetTitle:a}};function iK(e,t){var n=e.facetId,r=e.facetValue,a=iW(n,t),i=on(t,n);return e_(e_({},a),{},{facetValue:"hierarchical"===i?i6(t,n):r})}function iJ(e){var t,n,r,a,i;return{facetSet:null!=(t=e.facetSet)?t:{},categoryFacetSet:null!=(n=e.categoryFacetSet)?n:{},dateFacetSet:null!=(r=e.dateFacetSet)?r:{},numericFacetSet:null!=(a=e.numericFacetSet)?a:{},automaticFacetSet:null!=(i=e.automaticFacetSet)?i:iN()}}var iZ=function(e){var t=[];return i1(e).forEach(function(n,r){var a=on(e,n.facetId),i=i9(n,r+1);if(i0(n)){if(!iY(e,n.facetId).length)return;t.push(e_(e_(e_({},i),i8(e,n.facetId)),{},{facetType:a,state:"selected"}));return}n.currentValues.forEach(function(e,r){if("idle"!==e.state){var o=i4(e,r+1,a),u=iX(n)?i5(e):i3(e);t.push(e_(e_(e_({},i),o),u))}})}),i2(e).forEach(function(e,n){var r=i7(e,n+1);e.values.forEach(function(e,n){if("idle"!==e.state){var a=i4(e,n+1,"specific"),i=i5(e);t.push(e_(e_(e_({},r),a),i))}})}),t},iX=function(e){return"specific"===e.type},i0=function(e){return"hierarchical"===e.type},i1=function(e){return[].concat(eB(Object.values(e.facetSet)),eB(Object.values(e.categoryFacetSet)),eB(Object.values(e.dateFacetSet)),eB(Object.values(e.numericFacetSet))).map(function(e){return e.request})},i2=function(e){return eB(Object.values(e.automaticFacetSet.set)).map(function(e){return e.response})},i4=function(e,t,n){return{state:e.state,valuePosition:t,facetType:n}},i3=function(e){return{displayValue:"".concat(e.start,"..").concat(e.end),value:"".concat(e.start,"..").concat(e.end),start:e.start,end:e.end,endInclusive:e.endInclusive}},i5=function(e){return{displayValue:e.value,value:e.value}},i6=function(e,t){return iY(e,t).map(function(e){return e.value}).join(";")},i8=function(e,t){var n=i6(e,t);return{value:n,valuePosition:1,displayValue:n}},i7=function(e,t){return{title:oe(e.field,e.field),field:e.field,id:e.field,facetPosition:t}},i9=function(e,t){return{title:oe(e.field,e.facetId),field:e.field,id:e.facetId,facetPosition:t}},oe=function(e,t){return"".concat(e,"_").concat(t)},ot=function(e,t){var n,r,a,i,o;return(null==(n=e.facetSet[t])?void 0:n.request)||(null==(r=e.categoryFacetSet[t])?void 0:r.request)||(null==(a=e.dateFacetSet[t])?void 0:a.request)||(null==(i=e.numericFacetSet[t])?void 0:i.request)||(null==(o=e.automaticFacetSet.set[t])?void 0:o.response)},on=function(e,t){var n=ot(e,t);return n?n.type:"specific"},or=function(){return{q:"",enableQuerySyntax:!1}},oa=((c=oa||{}).Ascending="ascending",c.Descending="descending",c),oi=((s=oi||{}).Relevancy="relevancy",s.QRE="qre",s.Date="date",s.Field="field",s.NoSort="nosort",s),oo=function e(t){if((0,eo.kJ)(t))return t.map(function(t){return e(t)}).join(",");switch(t.by){case"relevancy":case"qre":case"nosort":return t.by;case"date":return"date ".concat(t.order);case"field":return"@".concat(t.field," ").concat(t.order);default:return""}};function ou(){return oo({by:"relevancy"})}new eo.ld({values:{by:new eo.af({enum:oi,required:!0}),order:new eo.af({enum:oa}),field:new eo.Gm}});var oc=function(e){eR(n,e);var t=eI(n);function n(){var e;return eD(this,n),e=t.apply(this,arguments),e3(eq(e),"getFacetRequest",function(t){var n,r,a,i,o,u,c,s,l,d;return(null==(n=e.state.facetSet)||null==(r=n[t])?void 0:r.request)||(null==(a=e.state.categoryFacetSet)||null==(i=a[t])?void 0:i.request)||(null==(o=e.state.dateFacetSet)||null==(u=o[t])?void 0:u.request)||(null==(c=e.state.numericFacetSet)||null==(s=c[t])?void 0:s.request)||(null==(l=e.state.automaticFacetSet)||null==(d=l.set[t])?void 0:d.response)}),e}return eP(n,[{key:"getFacetState",value:function(){return iZ(iJ(this.getState()))}},{key:"getPipeline",value:function(){var e;return this.state.pipeline||(null==(e=this.state.search)?void 0:e.response.pipeline)||n.fallbackPipelineName}},{key:"getSearchEventRequestPayload",value:function(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.resultURIs,numberOfResults:this.numberOfResults}}},{key:"getSearchUID",value:function(){var e,t,n=this.getState();return(null==(e=n.search)?void 0:e.searchResponseId)||(null==(t=n.search)?void 0:t.response.searchUid)||tY().response.searchUid}},{key:"getSplitTestRunName",value:function(){var e;return null==(e=this.state.search)?void 0:e.response.splitTestRun}},{key:"getSplitTestRunVersion",value:function(){var e,t=!!this.getSplitTestRunName(),r=(null==(e=this.state.search)?void 0:e.response.pipeline)||this.state.pipeline||n.fallbackPipelineName;return t?r:void 0}},{key:"getBaseMetadata",value:function(){var e,t,r,a=this.getState(),i=ex(n,"getBaseMetadata",this,3)([]),o=null==(e=a.search)||null==(t=e.response)||null==(r=t.extendedResults)?void 0:r.generativeQuestionAnsweringId;return o&&(i.generativeQuestionAnsweringId=o),i}},{key:"getFacetMetadata",value:function(e,t){var n,r,a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return e_(e_({},this.getBaseMetadata()),{},{facetId:e,facetField:a,facetValue:t,facetTitle:"".concat(a,"_").concat(e)})}},{key:"getFacetClearAllMetadata",value:function(e){var t,n,r=null!=(t=null==(n=this.getFacetRequest(e))?void 0:n.field)?t:"";return e_(e_({},this.getBaseMetadata()),{},{facetId:e,facetField:r,facetTitle:"".concat(r,"_").concat(e)})}},{key:"getFacetUpdateSortMetadata",value:function(e,t){var n,r,a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return e_(e_({},this.getBaseMetadata()),{},{facetId:e,facetField:a,criteria:t,facetTitle:"".concat(a,"_").concat(e)})}},{key:"getRangeBreadcrumbFacetMetadata",value:function(e,t){var n,r,a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return e_(e_({},this.getBaseMetadata()),{},{facetId:e,facetField:a,facetRangeEnd:t.end,facetRangeEndInclusive:t.endInclusive,facetRangeStart:t.start,facetTitle:"".concat(a,"_").concat(e)})}},{key:"getResultSortMetadata",value:function(){var e;return e_(e_({},this.getBaseMetadata()),{},{resultsSortBy:null!=(e=this.state.sortCriteria)?e:ou()})}},{key:"getStaticFilterToggleMetadata",value:function(e,t){return e_(e_({},this.getBaseMetadata()),{},{staticFilterId:e,staticFilterValue:t})}},{key:"getStaticFilterClearAllMetadata",value:function(e){return e_(e_({},this.getBaseMetadata()),{},{staticFilterId:e})}},{key:"getUndoTriggerQueryMetadata",value:function(e){return e_(e_({},this.getBaseMetadata()),{},{undoneQuery:e})}},{key:"getCategoryBreadcrumbFacetMetadata",value:function(e,t){var n,r,a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return e_(e_({},this.getBaseMetadata()),{},{categoryFacetId:e,categoryFacetField:a,categoryFacetPath:t,categoryFacetTitle:"".concat(a,"_").concat(e)})}},{key:"getOmniboxAnalyticsMetadata",value:function(e,t){var n=this.state.querySuggest&&this.state.querySuggest[e],r=n.completions.map(function(e){return e.expression}),a=n.partialQueries.length-1,i=n.partialQueries[a]||"",o=n.responseId;return e_(e_({},this.getBaseMetadata()),{},{suggestionRanking:r.indexOf(t),partialQuery:i,partialQueries:n.partialQueries.length>0?n.partialQueries:"",suggestions:r.length>0?r:"",querySuggestResponseId:o})}},{key:"getInterfaceChangeMetadata",value:function(){return e_(e_({},this.getBaseMetadata()),{},{interfaceChangeTo:this.state.configuration.analytics.originLevel2})}},{key:"getOmniboxFromLinkMetadata",value:function(e){return e_(e_({},this.getBaseMetadata()),e)}},{key:"getGeneratedAnswerMetadata",value:function(){var e,t=this.getState(),n={};return(null==(e=t.generatedAnswer)?void 0:e.isVisible)!==void 0&&(n.showGeneratedAnswer=t.generatedAnswer.isVisible),n}},{key:"resultURIs",get:function(){var e;return null==(e=this.results)?void 0:e.map(function(e){return{documentUri:e.uri,documentUriHash:e.raw.urihash}})}},{key:"results",get:function(){var e;return null==(e=this.state.search)?void 0:e.response.results}},{key:"queryText",get:function(){var e;return(null==(e=this.state.query)?void 0:e.q)||or().q}},{key:"responseTime",get:function(){var e;return(null==(e=this.state.search)?void 0:e.duration)||tY().duration}},{key:"numberOfResults",get:function(){var e;return(null==(e=this.state.search)?void 0:e.response.totalCountFiltered)||tY().response.totalCountFiltered}}]),n}(i_);e3(oc,"fallbackPipelineName","default");var os=function(){var e=iV.getHistory().reverse().find(function(e){return"PageView"===e.name&&e.value});return e?e.value:""};function ol(e){var t,n,r=function e(t){return t.childResults?t.childResults.flatMap(function(t){return[t].concat(eB(e(t)))}):[]}(e),a=[e].concat(eB(r)).filter(function(e){return e.parentResult}).map(function(e){return e.parentResult});return t=[e].concat(eB(r),eB(a)),n=function(e){return e.uniqueId},eB(t.reduce(function(e,t){var r=n(t);return e.has(r)||e.set(r,t),e},new Map).values())}var od=function(){return""},of=function(e,t,n){return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return op(1===a.length?e_(e_({},a[0]),{},{__legacy__getBuilder:t(a[0].__legacy__getBuilder),analyticsConfigurator:e,providerClass:n}):{prefix:a[0],__legacy__getBuilder:t(a[1]),__legacy__provider:a[2],analyticsConfigurator:e,providerClass:n})}},op=function(e){var t,n,r,a,i,o,u=e.prefix,c=e.__legacy__getBuilder,s=e.__legacy__provider,l=e.analyticsPayloadBuilder,d=e.analyticsType,f=e.analyticsConfigurator,p=e.providerClass;return null!=s||(s=function(e){return new p(e)}),t=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u,p,h,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.analyticsClientMiddleware,a=t.preprocessRequest,i=t.logger,o=[],u={log:function(){var e=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.state,r=0,a=o;case 2:if(!(r<a.length)){e.next=9;break}return i=a[r],e.next=6,i(n);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},p=n(),h=f({getState:n,logger:i,analyticsClientMiddleware:r,preprocessRequest:a,provider:s(n)}),e.next=7,c(h,n());case 7:return v=e.sent,u.description=null==v?void 0:v.description,o.push(function(){var e=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="legacy"===t.configuration.analytics.analyticsMode,!e.t0){e.next=4;break}return e.next=4,function(e,t,n,r,a){return oh.apply(this,arguments)}(v,s,t,i,h.coveoAnalyticsClient);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),g=r8(p).emit,e.abrupt("return",(o.push(function(){var e=eL(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("next"===t.configuration.analytics.analyticsMode&&d&&l)){e.next=4;break}return n=l(t),e.next=4,function(e,t,n){return oS.apply(this,arguments)}(g,d,n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),u));case 11:case"end":return e.stop()}},e)})),n=function(e){return t.apply(this,arguments)},Object.assign(i=(a=function(e){return Object.assign(rP(u,e),{instantlyCallable:!0})})((r=eL(regeneratorRuntime.mark(function e(t,r){var a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,o=(i=r.extra).analyticsClientMiddleware,u=i.preprocessRequest,c=i.logger,e.next=4,n({getState:a,analyticsClientMiddleware:o,preprocessRequest:u,logger:c});case 4:return e.t0={state:a(),extra:i},e.next=7,e.sent.log(e.t0);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),{prepare:(o=eL(regeneratorRuntime.mark(function e(t){var r,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getState,i=t.analyticsClientMiddleware,o=t.preprocessRequest,u=t.logger,e.next=3,n({getState:r,analyticsClientMiddleware:i,preprocessRequest:o,logger:u});case 3:return s=(c=e.sent).description,l=c.log,e.abrupt("return",{description:s,action:a(function(){var e=eL(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.extra,e.next=3,l({state:r(),extra:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())});case 7:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})}),i};function oh(){return(oh=eL(regeneratorRuntime.mark(function e(t,n,r,a,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(function(){return r}),e.next=3,null==t?void 0:t.log({searchUID:n(function(){return r}).getSearchUID()});case 3:o=e.sent,a.info({client:i,response:o},"Analytics response");case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ov=of(function(e){var t,n=e.logger,r=e.getState,a=e.analyticsClientMiddleware,i=e.preprocessRequest,o=e.provider,u=void 0===o?new oc(r):o,c=r(),s=c.configuration.accessToken,l=null!=(t=c.configuration.analytics.apiBaseUrl)?t:tQ(c.configuration.organizationId,c.configuration.environment,"analytics"),d=c.configuration.analytics.runtimeEnvironment,f=c.configuration.analytics.enabled,p=new iE({token:s,endpoint:l,runtimeEnvironment:d,preprocessRequest:iU(n,i),beforeSendHooks:[iL(n,void 0===a?function(e,t){return t}:a),function(e,t){return n.info(e_(e_({},t),{},{type:e,endpoint:l,token:s}),"Analytics request"),t}]},u);return f||p.disable(),p},function(e){return e},oc);of(function(e){var t,n=e.logger,r=e.getState,a=e.analyticsClientMiddleware,i=e.preprocessRequest,o=e.provider,u=void 0===o?new iQ(r):o,c=r(),s=c.configuration.accessToken,l=null!=(t=c.configuration.analytics.apiBaseUrl)?t:tQ(c.configuration.organizationId,c.configuration.environment,"analytics"),d=c.configuration.analytics.runtimeEnvironment,f=c.configuration.analytics.enabled,p=new iM({enableAnalytics:f,token:s,endpoint:l,runtimeEnvironment:d,preprocessRequest:iU(n,i),beforeSendHooks:[iL(n,void 0===a?function(e,t){return t}:a),function(e,t){return n.info(e_(e_({},t),{},{type:e,endpoint:l,token:s}),"Analytics request"),t}]},u);return f||p.disable(),p},function(e){return function(t,n){var r;return Promise.resolve({description:{actionCause:"caseAssist"},log:(r=eL(regeneratorRuntime.mark(function r(a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e(t,n);case 1:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)})})}},iQ);var og=function(e,t){var n,r,a,i,o,u,c,s,l,d=-1,f=null==(l=t.search)?void 0:l.results;return(d=ok(e,f))<0&&(d=function(e,t){var n,r=eG(t.entries());try{for(r.s();!(n=r.n()).done;){var a=eQ(n.value,2),i=a[0],o=a[1],u=ol(o);if(-1!==ok(e,u))return i}}catch(e){r.e(e)}finally{r.f()}return -1}(e,f)),d<0&&(d=0),n=e,r=d+(null!=(c=null==(s=t.pagination)?void 0:s.firstResult)?c:0),a=t,{collectionName:"string"==typeof(i=n.raw.collection)?i:"default",documentAuthor:(o=n.raw.author,(0,eo.le)(o)?"unknown":Array.isArray(o)?o.join(";"):"".concat(o)),documentPosition:r+1,documentTitle:n.title,documentUri:n.uri,documentUriHash:n.raw.urihash,documentUrl:n.clickUri,rankingModifier:n.rankingModifier||"",sourceName:(u=n.raw.source,(0,eo.le)(u)?"unknown":u),queryPipeline:a.pipeline||od()}},om=function(e){return e.raw.permanentid||console.warn("Missing field permanentid on result. This might cause many issues with your Coveo deployment. See https://docs.coveo.com/en/1913 and https://docs.coveo.com/en/1640 for more information.",e),{contentIDKey:"permanentid",contentIDValue:e.raw.permanentid||""}},oy={urihash:new eo.Gm,sourcetype:new eo.Gm,permanentid:new eo.Gm},ob={uniqueId:ne,raw:new eo.ld({values:oy}),title:ne,uri:ne,clickUri:ne,rankingModifier:new eo.Gm({required:!1,emptyAllowed:!0})},ow=function(e){var t;return new eo.V_(ob).validate(Object.assign.apply(Object,[{}].concat(eB(Object.keys(ob).map(function(t){return eV({},t,e[t])})),[{raw:(t=e.raw,Object.assign.apply(Object,[{}].concat(eB(Object.keys(oy).map(function(e){return eV({},e,t[e])})))))}])))};function ok(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.findIndex(function(t){return t.uniqueId===e.uniqueId})}function oS(){return(oS=eL(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ox=function(e){return nc(e,{evt:ne,type:nt})},oC=function(e){return ov("analytics/generic/search",function(t){ox(e);var n=e.evt,r=e.meta;return t.makeSearchEvent(n,r)})},oR=function(e){return ov("analytics/generic/click",function(t,n){return ow(e.result),ox(e),t.makeClickEvent(e.evt,og(e.result,n),om(e.result),e.meta)})},oI=function(e){return ov("analytics/generic/custom",function(t){return ox(e),t.makeCustomEventWithType(e.evt,e.type,e.meta)})},oq=function(){return ov("analytics/interface/load",function(e){return e.makeInterfaceLoad()})},oO=function(){return ov("analytics/interface/change",function(e,t){return e.makeInterfaceChange({interfaceChangeTo:t.configuration.analytics.originLevel2})})},oA=function(){return ov("analytics/interface/searchFromLink",function(e){return e.makeSearchFromLink()})},oE=function(e){return ov("analytics/interface/omniboxFromLink",function(t){return t.makeOmniboxFromLink(e)})},oF=function(){return nt},oT=function(){return ne},oD=rl("configuration/updateBasicConfiguration",function(e){return nc(e,{accessToken:nt,environment:new eo.Gm({required:!1,constrainTo:["prod","hipaa","stg","dev"]}),organizationId:nt})}),oM=rl("configuration/updateSearchConfiguration",function(e){return nc(e,{proxyBaseUrl:new eo.Gm({required:!1,url:!0}),pipeline:new eo.Gm({required:!1,emptyAllowed:!0}),searchHub:nt,timezone:nt,locale:nt,authenticationProviders:new eo.Ms({required:!1,each:ne})})}),oP={enabled:new eo.Lb({default:!0}),originContext:oF(),originLevel2:oF(),originLevel3:oF(),proxyBaseUrl:new eo.Gm({required:!1,url:!0}),runtimeEnvironment:new eo.B4,anonymous:new eo.Lb({default:!1}),deviceId:nt,userDisplayName:nt,documentLocation:nt,trackingId:nt,analyticsMode:new eo.Gm({constrainTo:["legacy","next"],required:!1,default:"next"}),source:new eo.ld({options:{required:!1},values:["@coveo/atomic","@coveo/quantic"].reduce(function(e,t){return e[t]=ni,e},{})})},oj=rl("configuration/updateAnalyticsConfiguration",function(e){return nc(e,oP)}),o_=rl("configuration/analytics/disable"),oV=rl("configuration/analytics/enable"),oU=rl("configuration/analytics/originlevel2",function(e){return nc(e,{originLevel2:oT()})}),oL=rl("configuration/analytics/originlevel3",function(e){return nc(e,{originLevel3:oT()})}),oQ={q:new eo.Gm,enableQuerySyntax:new eo.Lb,aq:new eo.Gm,cq:new eo.Gm,firstResult:new eo.bt({min:0}),numberOfResults:new eo.bt({min:0}),sortCriteria:new eo.Gm,f:new eo.ld,fExcluded:new eo.ld,cf:new eo.ld,nf:new eo.ld,mnf:new eo.ld,df:new eo.ld,debug:new eo.Lb,sf:new eo.ld,tab:new eo.Gm,af:new eo.ld},oN=rl("searchParameters/restore",function(e){return nc(e,oQ)}),oz=rl("searchParameters/restoreTab",function(e){return nc(e,ne)}),oB=rl("debug/enable"),oG=rl("debug/disable"),o$=function(){return!1},oH=rb(o$(),function(e){e.addCase(oB,function(){return!0}).addCase(oG,function(){return!1}).addCase(oN,function(e,t){var n;return null!=(n=t.payload.debug)?n:e})}),oY=rl("history/undo"),oW=rl("history/redo"),oK=rl("history/snapshot"),oJ=(rP("history/back",(l=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(oY()),e.next=4,r(oJ());case 4:case"end":return e.stop()}},e)})),function(e,t){return l.apply(this,arguments)})),rP("history/forward",(d=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.dispatch)(oW()),e.next=4,r(oJ());case 4:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})),rP("history/change",(f=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,e.abrupt("return",r().history.present);case 2:case"end":return e.stop()}},e)})),function(e,t){return f.apply(this,arguments)}))),oZ=rl("pipeline/set",function(e){return nc(e,new eo.Gm({required:!0,emptyAllowed:!0}))}),oX=rb(od(),function(e){e.addCase(oZ,function(e,t){return t.payload}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.pipeline)?n:e}).addCase(oM,function(e,t){return t.payload.pipeline||e})}),o0=rl("searchHub/set",function(e){return nc(e,new eo.Gm({required:!0,emptyAllowed:!0}))}),o1=rb(iP(),function(e){e.addCase(o0,function(e,t){return t.payload}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.searchHub)?n:e}).addCase(oM,function(e,t){return t.payload.searchHub||e})}),o2=rl("breadcrumb/deselectAll"),o4=rl("breadcrumb/deselectAllNonBreadcrumbs"),o3=rl("facet/updateFacetAutoSelection",function(e){return nc(e,{allow:new eo.Lb({required:!0})})}),o5=function(e){eR(n,e);var t=eI(n);function n(e){var r;return eD(this,n),(r=t.call(this,e)).getState=e,r}return eP(n,[{key:"activeInstantResultQuery",get:function(){var e=this.getState().instantResults;for(var t in e)for(var n in e[t].cache)if(e[t].cache[n].isActive)return e[t].q;return null}},{key:"activeInstantResultCache",get:function(){var e=this.getState().instantResults;for(var t in e)for(var n in e[t].cache)if(e[t].cache[n].isActive)return e[t].cache[n];return null}},{key:"results",get:function(){var e;return null==(e=this.activeInstantResultCache)?void 0:e.results}},{key:"queryText",get:function(){var e;return null!=(e=this.activeInstantResultQuery)?e:or().q}},{key:"responseTime",get:function(){var e,t;return null!=(e=null==(t=this.activeInstantResultCache)?void 0:t.duration)?e:tY().duration}},{key:"numberOfResults",get:function(){var e,t;return null!=(e=null==(t=this.activeInstantResultCache)?void 0:t.totalCountFiltered)?e:tY().response.totalCountFiltered}},{key:"getSearchUID",value:function(){var e;return(null==(e=this.activeInstantResultCache)?void 0:e.searchUid)||ex(n,"getSearchUID",this,3)([])}}]),n}(oc),o6={id:ne},o8=e_(e_({},o6),{},{q:nn}),o7=rl("instantResults/register",function(e){return nc(e,o6)}),o9=rl("instantResults/updateQuery",function(e){return nc(e,o8)}),ue=rl("instantResults/clearExpired",function(e){return nc(e,o6)}),ut=new eo.bt({required:!0,min:0}),un=rl("pagination/registerNumberOfResults",function(e){return nc(e,ut)}),ur=rl("pagination/updateNumberOfResults",function(e){return nc(e,ut)}),ua=rl("pagination/registerPage",function(e){return nc(e,ut)}),ui=rl("pagination/updatePage",function(e){return nc(e,ut)}),uo=rl("pagination/nextPage"),uu=rl("pagination/previousPage"),uc=rl("query/updateQuery",function(e){return nc(e,{q:new eo.Gm,enableQuerySyntax:new eo.Lb})}),us=function(e,t,n){var r;return{analytics:e_(e_(e_(e_(e_(e_({clientId:t.clientId,clientTimestamp:new Date().toISOString(),documentReferrer:t.referrer,documentLocation:t.location,originContext:e.originContext},n&&{actionCause:n.actionCause}),n&&{customData:n.customData}),e.userDisplayName&&{userDisplayName:e.userDisplayName}),e.deviceId&&{deviceId:e.deviceId}),e.trackingId&&{trackingId:e.trackingId}),{},{capture:null!=(r=t.capture)?r:""!==t.clientId,source:r6(e)})}},ul=function(e,t,n){var r,a,i,o,u;return e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:null!=(r=e.configuration.search.apiBaseUrl)?r:tN(e.configuration.organizationId,e.configuration.environment),locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:t.referrer,timezone:e.configuration.search.timezone},(null==(a=e.advancedSearchQueries)?void 0:a.aq)&&{aq:e.advancedSearchQueries.aq}),(null==(i=e.advancedSearchQueries)?void 0:i.cq)&&{cq:e.advancedSearchQueries.cq}),(null==(o=e.advancedSearchQueries)?void 0:o.lq)&&{lq:e.advancedSearchQueries.lq}),(null==(u=e.advancedSearchQueries)?void 0:u.dq)&&{dq:e.advancedSearchQueries.dq}),e.context&&{context:e.context.contextValues}),e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude}),e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues}),e.pipeline&&{pipeline:e.pipeline}),e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax}),e.searchHub&&{searchHub:e.searchHub}),e.sortCriteria&&{sortCriteria:e.sortCriteria}),e.configuration.analytics.enabled&&us(e.configuration.analytics,t,n)),e.excerptLength&&!(0,eo.le)(e.excerptLength.length)&&{excerptLength:e.excerptLength.length}),e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")})},ud=(p=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="next"===t.analyticsMode,e.t0=e_,e.t1=e_,e.t2=e_,e.t3=e_,e.t4=e_,e.t5=e_,e.t6=e_,e.t7=e_,e.next=11,new iR(t).getCurrentVisitorId();case 11:return e.t8=e.sent,e.t9=new Date().toISOString(),e.t10=t.originLevel3,e.t11=t.originContext,e.t12={clientId:e.t8,clientTimestamp:e.t9,documentReferrer:e.t10,originContext:e.t11},e.t13=n&&{actionCause:n.actionCause,customData:n.customData},e.t14=(0,e.t7)(e.t12,e.t13),e.t15=n&&!r&&{customData:n.customData},e.t16=(0,e.t6)(e.t14,e.t15),e.t17=t.userDisplayName&&{userDisplayName:t.userDisplayName},e.t18=(0,e.t5)(e.t16,e.t17),e.t19=t.documentLocation&&{documentLocation:t.documentLocation},e.t20=(0,e.t4)(e.t18,e.t19),e.t21=t.deviceId&&{deviceId:t.deviceId},e.t22=(0,e.t3)(e.t20,e.t21),e.t23=os()&&{pageId:os()},e.t24=(0,e.t2)(e.t22,e.t23),e.t25=r&&t.trackingId&&{trackingId:t.trackingId},e.t26=(0,e.t1)(e.t24,e.t25),e.t27={},e.t28={capture:r},e.t29=r&&{source:r6(t)},e.t30=(0,e.t0)(e.t26,e.t27,e.t28,e.t29),e.abrupt("return",{analytics:e.t30});case 35:case"end":return e.stop()}},e)})),function(e,t){return p.apply(this,arguments)}),uf=(h=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=e_,e.t1=e_,e.t2=e_,e.t3=e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_(e_({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:null!=(r=t.configuration.search.apiBaseUrl)?r:tN(t.configuration.organizationId,t.configuration.environment),locale:t.configuration.search.locale,debug:t.debug,tab:t.configuration.analytics.originLevel2,referrer:t.configuration.analytics.originLevel3,timezone:t.configuration.search.timezone},t.configuration.analytics.enabled&&{actionsHistory:iV.getHistory()}),(null==(a=t.advancedSearchQueries)?void 0:a.aq)&&{aq:t.advancedSearchQueries.aq}),(null==(i=t.advancedSearchQueries)?void 0:i.cq)&&{cq:t.advancedSearchQueries.cq}),(null==(o=t.advancedSearchQueries)?void 0:o.lq)&&{lq:t.advancedSearchQueries.lq}),(null==(u=t.advancedSearchQueries)?void 0:u.dq)&&{dq:t.advancedSearchQueries.dq}),t.context&&{context:t.context.contextValues}),t.fields&&!t.fields.fetchAllFields&&{fieldsToInclude:t.fields.fieldsToInclude}),t.dictionaryFieldContext&&{dictionaryFieldContext:t.dictionaryFieldContext.contextValues}),t.pipeline&&{pipeline:t.pipeline}),t.query&&{q:t.query.q,enableQuerySyntax:t.query.enableQuerySyntax}),t.searchHub&&{searchHub:t.searchHub}),t.sortCriteria&&{sortCriteria:t.sortCriteria}),e.t4=t.configuration.analytics.enabled,!e.t4){e.next=9;break}return e.next=8,ud(t.configuration.analytics,n);case 8:e.t4=e.sent;case 9:return e.t5=e.t4,e.t6=(0,e.t2)(e.t3,e.t5),e.t7=t.excerptLength&&!(0,eo.le)(t.excerptLength.length)&&{excerptLength:t.excerptLength.length},e.t8=(0,e.t1)(e.t6,e.t7),e.t9=t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},e.abrupt("return",(0,e.t0)(e.t8,e.t9));case 15:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)}),up=function(){return{cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}}},uh=function(){return ov("search/logFetchMoreResults",function(e){return e.makeFetchMoreResults()})},uv=function(e){return ov("search/queryError",function(t,n){var r,a,i,o;return t.makeQueryError({query:(null==(r=n.query)?void 0:r.q)||or().q,aq:(null==(a=n.advancedSearchQueries)?void 0:a.aq)||up().aq,cq:(null==(i=n.advancedSearchQueries)?void 0:i.cq)||up().cq,dq:(null==(o=n.advancedSearchQueries)?void 0:o.dq)||up().dq,errorType:e.type,errorMessage:e.message})})},ug=e4(ta(),1),um=e4(ti(),1),uy=e4(ta(),1),ub=e4(to(),1);uy.default.extend(ub.default);var uw="YYYY/MM/DD@HH:mm:ss";function uk(e,t){var n=(0,uy.default)(e,t);return n.isValid()||t?n:(0,uy.default)(e,uw)}function uS(e){if(e.isBefore("1401-01-01"))throw Error("Date is before year 1401, which is unsupported by the API: ".concat(e))}ug.default.extend(um.default);var ux=["past","now","next"],uC=["minute","hour","day","week","month","quarter","year"],uR=function(e){var t="now"===e;return{amount:new eo.bt({required:!t,min:1}),unit:new eo.Gm({required:!t,constrainTo:uC}),period:new eo.Gm({required:!0,constrainTo:ux})}};function uI(e){if("string"==typeof e&&!uE(e))throw Error('The value "'.concat(e,'" is not respecting the relative date format "period-amount-unit"'));var t="string"==typeof e?uF(e):e;new eo.V_(uR(t.period)).validate(t);var n=uq(t),r=JSON.stringify(t);if(!n.isValid())throw Error("Date is invalid: ".concat(r));uS(n)}function uq(e){var t=e.period,n=e.amount,r=e.unit;switch(t){case"past":return(0,ug.default)().subtract(n,r);case"next":return(0,ug.default)().add(n,r);case"now":return(0,ug.default)()}}function uO(e){return uq(uF(e)).format(uw)}function uA(e){return e.toLocaleLowerCase().split("-")}function uE(e){var t=eQ(uA(e),3),n=t[0],r=t[1],a=t[2];if("now"===n)return!0;if(!ux.includes(n)||!uC.includes(a))return!1;var i=parseInt(r);return!(isNaN(i)||i<=0)}function uF(e){var t=eQ(uA(e),3),n=t[0],r=t[1],a=t[2];return"now"===n?{period:"now"}:{period:n,amount:r?parseInt(r):void 0,unit:a||void 0}}function uT(e){return"start".concat(e)}function uD(e){return"end".concat(e)}var uM=function(){return{dateFacetValueMap:{}}};function uP(e,t){if("dateRange"===e.type){var n=e.facetId,r=e.currentValues;return t.dateFacetValueMap[n]={},e_(e_({},e),{},{currentValues:r.map(function(e){var r,a;return r=e.start,a=e.end,uE(r)&&(r=uO(r),t.dateFacetValueMap[n][uT(r)]=e.start),uE(a)&&(a=uO(a),t.dateFacetValueMap[n][uD(a)]=e.end),e_(e_({},e),{},{start:r,end:a})})})}return e}function uj(e){var t,n=uM();return{request:e_(e_({},e),{},{facets:null==(t=e.facets)?void 0:t.map(function(e){return uP(e,n)})}),mappings:n}}function u_(e,t){var n;return"success"in e?{success:e_(e_({},e.success),{},{facets:null==(n=e.success.facets)?void 0:n.map(function(e){return e.facetId in t.dateFacetValueMap?e_(e_({},e),{},{values:e.values.map(function(n){var r;return r=e.facetId,e_(e_({},n),{},{start:t.dateFacetValueMap[r][uT(n.start)]||n.start,end:t.dateFacetValueMap[r][uD(n.end)]||n.end})})}):e})})}:e}var uV=rl("didYouMean/enable"),uU=rl("didYouMean/disable"),uL=rl("didYouMean/automaticCorrections/disable"),uQ=rl("didYouMean/automaticCorrections/enable"),uN=rl("didYouMean/correction",function(e){return nc(e,ne)}),uz=rl("didYouMean/automaticCorrections/mode",function(e){return nc(e,new eo.Gm({constrainTo:["next","legacy"],emptyAllowed:!1,required:!0}))}),uB=function(){return ov("analytics/didyoumean/click",function(e){return e.makeDidYouMeanClick()})},uG=function(){return ov("analytics/didyoumean/automatic",function(e){return e.makeDidYouMeanAutomatic()})};function u$(){return{contextValues:{}}}function uH(){return{contextValues:{}}}function uY(){return{enabled:!0,tabs:{}}}function uW(){return{freezeFacetOrder:!1,facets:{}}}function uK(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}function uJ(e){var t,n,r;return{context:e.context||u$(),dictionaryFieldContext:e.dictionaryFieldContext||uH(),facetSet:e.facetSet||{},numericFacetSet:e.numericFacetSet||{},dateFacetSet:e.dateFacetSet||{},categoryFacetSet:e.categoryFacetSet||{},automaticFacetSet:null!=(t=e.automaticFacetSet)?t:iN(),pagination:e.pagination||uK(),query:e.query||or(),tabSet:e.tabSet||{},advancedSearchQueries:e.advancedSearchQueries||up(),staticFilterSet:e.staticFilterSet||{},querySet:e.querySet||{},sortCriteria:e.sortCriteria||ou(),pipeline:e.pipeline||od(),searchHub:e.searchHub||iP(),facetOptions:e.facetOptions||uW(),facetOrder:null!=(n=e.facetOrder)?n:[],debug:null!=(r=e.debug)?r:o$()}}var uZ=new eo.ld({values:{undoneQuery:nn},options:{required:!0}}),uX=function(){return ov("analytics/trigger/query",function(e,t){var n;return null!=(n=t.triggers)&&n.queryModification.newQuery?e.makeTriggerQuery():null})},u0=function(e){return ov("analytics/trigger/query/undo",function(t){return nc(e,uZ),t.makeUndoTriggerQuery(e)})},u1=function(){return ov("analytics/trigger/notify",function(e,t){var n;return null!=(n=t.triggers)&&n.notifications.length?e.makeTriggerNotify({notifications:t.triggers.notifications}):null})},u2=function(){return ov("analytics/trigger/redirect",function(e,t){var n;return null!=(n=t.triggers)&&n.redirectTo?e.makeTriggerRedirect({redirectedTo:t.triggers.redirectTo}):null})},u4=function(){return ov("analytics/trigger/execute",function(e,t){var n;return null!=(n=t.triggers)&&n.executions.length?e.makeTriggerExecute({executions:t.triggers.executions}):null})},u3=rl("trigger/query/ignore",function(e){return nc(e,new eo.Gm({emptyAllowed:!0,required:!0}))}),u5=rl("trigger/query/modification",function(e){return nc(e,new eo.ld({values:{originalQuery:nt,modification:nt}}))});function u6(e){return Object.values(e).map(function(e){return e.request})}function u8(e,t){var n={};e.forEach(function(e){return n[e.facetId]=e});var r=[];return t.forEach(function(e){e in n&&(r.push(n[e]),delete n[e])}),[].concat(r,Object.values(n))}function u7(e){return u6(e).map(function(e){var t=e.currentValues.some(function(e){return"idle"!==e.state});return e.generateAutomaticRanges&&!t?e_(e_({},e),{},{currentValues:[]}):e})}var u9={alphanumericDescending:{type:"alphanumeric",order:"descending"},alphanumericNaturalDescending:{type:"alphanumericNatural",order:"descending"}};function ce(e){var t,n,r,a,i,o;return u8([].concat(eB(u6(null!=(r=(n=e).facetSet)?r:{}).map(function(e){var t=u9[e.sortCriteria];return t?e_(e_({},e),{},{sortCriteria:t}):e})),eB(u7(null!=(a=n.numericFacetSet)?a:{})),eB(u7(null!=(i=n.dateFacetSet)?i:{})),eB(u6(null!=(o=n.categoryFacetSet)?o:{}))).filter(function(t){var n,r,a,i=t.facetId;return null==(n=null==(r=e.facetOptions)||null==(a=r.facets[i])?void 0:a.enabled)||n}),null!=(t=e.facetOrder)?t:[])}var ct=(v=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t,n;return[(null==(t=e.advancedSearchQueries)?void 0:t.cq.trim())||"",(null==(n=Object.values(e.tabSet||{}).find(function(e){return e.isActive}))?void 0:n.expression.trim())||""].concat(eB(Object.values(e.staticFilterSet||{}).map(function(e){var t=e.values.filter(function(e){return"selected"===e.state&&!!e.expression.trim()}),n=t.map(function(e){return e.expression}).join(" OR ");return t.length>1?"(".concat(n,")"):n}))).filter(function(e){return!!e}).join(" AND ")}(t),i=ce(t),o=function(e){var t,n=null==(t=e.automaticFacetSet)?void 0:t.set;return n?Object.values(n).map(function(e){return e.response}).map(cn).filter(function(e){return e.currentValues.length>0}):void 0}(t),e.next=5,uf(t,n);case 5:return u=e.sent,e.abrupt("return",uj(e_(e_(e_(e_(e_(e_(e_(e_(e_({},u),t.didYouMean&&{queryCorrection:{enabled:t.didYouMean.enableDidYouMean&&"next"===t.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:t.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:t.didYouMean.enableDidYouMean&&"legacy"===t.didYouMean.queryCorrectionMode}),a&&{cq:a}),i.length&&{facets:i}),t.pagination&&{numberOfResults:t.pagination?t.pagination.firstResult+t.pagination.numberOfResults>5e3?5e3-t.pagination.firstResult:t.pagination.numberOfResults:void 0,firstResult:t.pagination.firstResult}),t.facetOptions&&{facetOptions:{freezeFacetOrder:t.facetOptions.freezeFacetOrder}}),(null==(r=t.folding)?void 0:r.enabled)&&{filterField:t.folding.fields.collection,childField:t.folding.fields.parent,parentField:t.folding.fields.child,filterFieldRange:t.folding.filterFieldRange}),t.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:t.automaticFacetSet.desiredCount,numberOfValues:t.automaticFacetSet.numberOfValues,currentFacets:o}}),t.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:t.generatedAnswer.responseFormat,citationsFieldToInclude:t.generatedAnswer.fieldsToIncludeInCitations}}})));case 8:case"end":return e.stop()}},e)})),function(e,t){return v.apply(this,arguments)});function cn(e){return{field:e.field,label:e.label,currentValues:e.values.filter(function(e){return"selected"===e.state})}}var cr=function(){var e,t,n,r,a,i,o;function u(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){t.dispatch(uc({q:e}))};eD(this,u),this.config=e,this.onUpdateQueryForCorrection=n}return eP(u,[{key:"fetchFromAPI",value:(e=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.mappings,i=t.request,o=new Date().getTime(),e.t0=u_,e.next=5,this.extra.apiClient.search(i,n);case 5:return e.t1=e.sent,e.t2=a,u=(0,e.t0)(e.t1,e.t2),c=new Date().getTime()-o,s=(null==(r=this.getState().query)?void 0:r.q)||"",e.abrupt("return",{response:u,duration:c,queryExecuted:s,requestExecuted:i});case 11:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"process",value:(t=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(a=this.processQueryErrorOrContinue(t))){e.next=4;break}e.t2=a,e.next=7;break;case 4:return e.next=6,this.processQueryCorrectionsOrContinue(t);case 6:e.t2=e.sent;case 7:if(e.t3=r=e.t2,e.t1=null!==e.t3,!e.t1){e.next=11;break}e.t1=void 0!==r;case 11:if(!e.t1){e.next=15;break}e.t4=r,e.next=18;break;case 15:return e.next=17,this.processQueryTriggersOrContinue(t);case 17:e.t4=e.sent;case 18:if(e.t5=n=e.t4,e.t0=null!==e.t5,!e.t0){e.next=22;break}e.t0=void 0!==n;case 22:if(!e.t0){e.next=26;break}e.t6=n,e.next=27;break;case 26:e.t6=this.processSuccessResponse(t);case 27:return e.abrupt("return",e.t6);case 28:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"processQueryErrorOrContinue",value:function(e){return t8(e.response)?(this.dispatch(uv(e.response.error)),this.rejectWithValue(e.response.error)):null}},{key:"processQueryCorrectionsOrContinue",value:(n=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u,c,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getState(),!(!(r=this.getSuccessResponse(t))||!n.didYouMean)){e.next=3;break}return e.abrupt("return",null);case 3:if(i=(a=n.didYouMean).enableDidYouMean,o=a.automaticallyCorrectQuery,u=r.results,c=r.queryCorrections,s=r.queryCorrection,!(!i||!o)){e.next=6;break}return e.abrupt("return",null);case 6:if(l=0===u.length&&c&&0!==c.length,d=!(0,eo.le)(s)&&!(0,eo.le)(s.correctedQuery),!(!l&&!d)){e.next=9;break}return e.abrupt("return",null);case 9:if(!l){e.next=15;break}return e.next=12,this.processLegacyDidYouMeanAutoCorrection(t);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=this.processModernDidYouMeanAutoCorrection(t);case 16:return f=e.t0,e.abrupt("return",(this.dispatch(oK(uJ(this.getState()))),f));case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"processLegacyDidYouMeanAutoCorrection",value:(r=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getCurrentQuery(),(r=this.getSuccessResponse(t)).queryCorrections){e.next=3;break}return e.abrupt("return",null);case 3:return a=r.queryCorrections[0].correctedQuery,e.next=6,this.automaticallyRetryQueryWithCorrection(a);case 6:return i=e.sent,e.abrupt("return",t8(i.response)?(this.dispatch(uv(i.response.error)),this.rejectWithValue(i.response.error)):(this.logOriginalAnalyticsQueryBeforeAutoCorrection(t),this.dispatch(oK(uJ(this.getState()))),e_(e_({},i),{},{response:e_(e_({},i.response.success),{},{queryCorrections:r.queryCorrections}),automaticallyCorrected:!0,originalQuery:n,analyticsAction:uG()})));case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"processModernDidYouMeanAutoCorrection",value:function(e){var t=this.getSuccessResponse(e),n=t.queryCorrection,r=n.correctedQuery,a=n.originalQuery;return this.onUpdateQueryForCorrection(r),e_(e_({},e),{},{response:e_({},t),queryExecuted:r,automaticallyCorrected:!0,originalQuery:a,analyticsAction:uG()})}},{key:"logOriginalAnalyticsQueryBeforeAutoCorrection",value:function(e){var t=this,n=this.getState(),r=this.getSuccessResponse(e);this.analyticsAction&&this.analyticsAction()(this.dispatch,function(){return t.getStateAfterResponse(e.queryExecuted,e.duration,n,r)},this.extra)}},{key:"processQueryTriggersOrContinue",value:(a=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getSuccessResponse(t)){e.next=3;break}return e.abrupt("return",null);case 3:if(i=(null==(n=a.triggers.find(function(e){return"query"===e.type}))?void 0:n.content)||""){e.next=6;break}return e.abrupt("return",null);case 6:if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)!==i){e.next=8;break}return e.abrupt("return",(this.dispatch(u3("")),null));case 8:if(e.t0=this.analyticsAction,!e.t0){e.next=12;break}return e.next=12,this.dispatch(this.analyticsAction);case 12:return o=this.getCurrentQuery(),e.next=15,this.automaticallyRetryQueryWithTriggerModification(i);case 15:return u=e.sent,e.abrupt("return",t8(u.response)?(this.dispatch(uv(u.response.error)),this.rejectWithValue(u.response.error)):(this.dispatch(oK(uJ(this.getState()))),e_(e_({},u),{},{response:e_({},u.response.success),automaticallyCorrected:!1,originalQuery:o,analyticsAction:uX()})));case 17:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"getStateAfterResponse",value:function(e,t,n,r){var a,i;return e_(e_({},n),{},{query:{q:e,enableQuerySyntax:null!=(a=null==(i=n.query)?void 0:i.enableQuerySyntax)?a:or().enableQuerySyntax},search:e_(e_({},tY()),{},{duration:t,response:r,results:r.results})})}},{key:"processSuccessResponse",value:function(e){return this.dispatch(oK(uJ(this.getState()))),e_(e_({},e),{},{response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery(),analyticsAction:this.analyticsAction})}},{key:"getSuccessResponse",value:function(e){return t6(e.response)?e.response.success:null}},{key:"automaticallyRetryQueryWithCorrection",value:(i=eL(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.onUpdateQueryForCorrection(t),e.t0=this,e.next=4,ct(this.getState());case 4:return e.t1=e.sent,e.t2={origin:"mainSearch"},e.next=8,e.t0.fetchFromAPI.call(e.t0,e.t1,e.t2);case 8:return n=e.sent,e.abrupt("return",(this.dispatch(uN(t)),n));case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"automaticallyRetryQueryWithTriggerModification",value:(o=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(u5({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),e.t0=this,e.next=5,ct(this.getState());case 5:return e.t1=e.sent,e.t2={origin:"mainSearch"},e.next=9,e.t0.fetchFromAPI.call(e.t0,e.t1,e.t2);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getCurrentQuery",value:function(){var e,t=this.getState();return(null==(e=t.query)?void 0:e.q)!==void 0?t.query.q:""}},{key:"extra",get:function(){return this.config.extra}},{key:"getState",value:function(){return this.config.getState()}},{key:"dispatch",get:function(){return this.config.dispatch}},{key:"analyticsAction",get:function(){return this.config.analyticsAction}},{key:"rejectWithValue",get:function(){return this.config.rejectWithValue}}]),u}();rP("search/prepareForSearchWithQuery",function(e,t){var n=t.dispatch;nc(e,{q:new eo.Gm,enableQuerySyntax:new eo.Lb,clearFilters:new eo.Lb}),e.clearFilters&&(n(o2()),n(o4())),n(o3({allow:!0})),n(uc({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),n(ui(1))});var ca=rP("search/executeSearch",(g=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState(),e.next=3,cw(r,n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e,t){return g.apply(this,arguments)})),ci=rP("search/fetchPage",(m=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState(),e.next=3,cv(r,n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})),co=rP("search/fetchMoreResults",(y=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState(),e.next=3,cm(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e,t){return y.apply(this,arguments)})),cu=rP("search/fetchFacetValues",(b=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState(),e.next=3,function(e,t,n){return cb.apply(this,arguments)}(n,t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e,t){return b.apply(this,arguments)})),cc=rP("search/fetchInstantResults",(w=eL(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(t,n));case 1:case"end":return e.stop()}},e)})),function(e,t){return w.apply(this,arguments)})),cs=(k=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t,n);case 2:return u=e.sent,e.abrupt("return",(u.request=e_(e_({},u.request),{},{firstResult:(null!=(r=null==(a=t.pagination)?void 0:a.firstResult)?r:0)+(null!=(i=null==(o=t.search)?void 0:o.results.length)?i:0)}),u));case 4:case"end":return e.stop()}},e)})),function(e,t){return k.apply(this,arguments)}),cl=(S=eL(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(t);case 2:return a=e.sent,e.abrupt("return",uj(e_(e_(e_({},a),t.didYouMean&&{enableDidYouMean:t.didYouMean.enableDidYouMean}),{},{numberOfResults:r,q:n})));case 4:case"end":return e.stop()}},e)})),function(e,t,n){return S.apply(this,arguments)}),cd=(x=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t,n);case 2:return r=e.sent,e.abrupt("return",(r.request.numberOfResults=0,r));case 4:case"end":return e.stop()}},e)})),function(e,t){return x.apply(this,arguments)}),cf=function(e){var t;e.configuration.analytics.enabled&&iV.addElement(e_(e_({name:"Query"},(null==(t=e.query)?void 0:t.q)&&{value:e.query.q}),{},{time:JSON.stringify(new Date)}))};function cp(e,t){return ch.apply(this,arguments)}function ch(){return(ch=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return nc(t,{id:ne,q:ne,maxResultsPerQuery:new eo.bt({required:!0,min:1}),cacheTimeout:new eo.bt}),r=t.q,a=t.maxResultsPerQuery,i=n.getState(),o=new cr(e_(e_({},n),{},{analyticsAction:ov("analytics/instantResult/searchboxAsYouType",function(e){return e.makeSearchboxAsYouType()},function(e){return new o5(e)})}),function(e){n.dispatch(o9({q:e,id:t.id}))}),e.next=7,cl(i,r,a);case 7:return u=e.sent,e.next=10,o.fetchFromAPI(u,{origin:"instantResults",disableAbortWarning:!0});case 10:return c=e.sent,e.next=13,o.process(c);case 13:return s=e.sent,e.abrupt("return","response"in s?{results:s.response.results,searchUid:s.response.searchUid,analyticsAction:s.analyticsAction,totalCountFiltered:s.response.totalCountFiltered,duration:s.duration}:s);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cv(e,t,n){return cg.apply(this,arguments)}function cg(){return(cg=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return cf(t),i=(a=n.extra).analyticsClientMiddleware,o=a.preprocessRequest,u=a.logger,e.next=7,r.prepare({getState:function(){return n.getState()},analyticsClientMiddleware:i,preprocessRequest:o,logger:u});case 7:return c=e.sent.description,s=new cr(e_(e_({},n),{},{analyticsAction:r})),e.next=12,ct(t,c);case 12:return l=e.sent,e.next=15,s.fetchFromAPI(l,{origin:"mainSearch"});case 15:return d=e.sent,e.next=18,s.process(d);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cm(e,t){return cy.apply(this,arguments)}function cy(){return(cy=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=t.extra).analyticsClientMiddleware,i=r.preprocessRequest,o=r.logger,e.next=6,uh().prepare({getState:function(){return t.getState()},analyticsClientMiddleware:a,preprocessRequest:i,logger:o});case 6:return u=e.sent.description,c=new cr(e_(e_({},t),{},{analyticsAction:uh()})),e.next=11,cs(n,u);case 11:return s=e.sent,e.next=14,c.fetchFromAPI(s,{origin:"mainSearch"});case 14:return l=e.sent,e.next=17,c.process(l);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cb(){return(cb=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(a=t.extra).analyticsClientMiddleware,o=a.preprocessRequest,u=a.logger,e.next=6,n.prepare({getState:function(){return t.getState()},analyticsClientMiddleware:i,preprocessRequest:o,logger:u});case 6:return c=e.sent.description,s=new cr(e_(e_({},t),{},{analyticsAction:n})),e.next=11,cd(r,c);case 11:return l=e.sent,e.next=14,s.fetchFromAPI(l,{origin:"facetValues"});case 14:return d=e.sent,e.next=17,s.process(d);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cw(e,t,n){return ck.apply(this,arguments)}function ck(){return(ck=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return cf(t),i=(a=n.extra).analyticsClientMiddleware,o=a.preprocessRequest,u=a.logger,e.next=7,r.prepare({getState:function(){return n.getState()},analyticsClientMiddleware:i,preprocessRequest:o,logger:u});case 7:return c=e.sent.description,e.next=11,ct(t,c);case 11:return s=e.sent,l=new cr(e_(e_({},n),{},{analyticsAction:r})),e.next=15,l.fetchFromAPI(s,{origin:"mainSearch"});case 15:return d=e.sent,e.next=18,l.process(d);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var cS=(C=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e){var t,n;return[(null==(t=e.advancedSearchQueries)?void 0:t.cq.trim())||"",(null==(n=Object.values(e.tabSet||{}).find(function(e){return e.isActive}))?void 0:n.expression.trim())||""].concat(eB(Object.values(e.staticFilterSet||{}).map(function(e){var t=e.values.filter(function(e){return"selected"===e.state&&!!e.expression.trim()}),n=t.map(function(e){return e.expression}).join(" OR ");return t.length>1?"(".concat(n,")"):n}))).filter(function(e){return!!e}).join(" AND ")}(t),o=function(e){var t;return u8(function(e){return(function(e){var t,n,r,a;return[].concat(eB(u6(null!=(t=e.facetSet)?t:{}).map(function(e){var t=u9[e.sortCriteria];return t?e_(e_({},e),{},{sortCriteria:t}):e})),eB(cC(null!=(n=e.numericFacetSet)?n:{})),eB(cC(null!=(r=e.dateFacetSet)?r:{})),eB(u6(null!=(a=e.categoryFacetSet)?a:{})))})(e).filter(function(t){var n,r,a,i=t.facetId;return null==(n=null==(r=e.facetOptions)||null==(a=r.facets[i])?void 0:a.enabled)||n})}(e),null!=(t=e.facetOrder)?t:[])}(t),u=function(e){var t,n=null==(t=e.automaticFacetSet)?void 0:t.set;return n?Object.values(n).map(function(e){return e.response}).map(cx).filter(function(e){return e.currentValues.length>0}):void 0}(t),"legacy"!==t.configuration.analytics.analyticsMode){e.next=9;break}return e.next=6,uf(t,r);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=ul(t,n,r);case 10:return c=e.t0,e.abrupt("return",uj(e_(e_(e_(e_(e_(e_(e_(e_(e_({},c),t.didYouMean&&{queryCorrection:{enabled:t.didYouMean.enableDidYouMean&&"next"===t.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:t.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:t.didYouMean.enableDidYouMean&&"legacy"===t.didYouMean.queryCorrectionMode}),i&&{cq:i}),o.length&&{facets:o}),t.pagination&&{numberOfResults:t.pagination?t.pagination.firstResult+t.pagination.numberOfResults>5e3?5e3-t.pagination.firstResult:t.pagination.numberOfResults:void 0,firstResult:t.pagination.firstResult}),t.facetOptions&&{facetOptions:{freezeFacetOrder:t.facetOptions.freezeFacetOrder}}),(null==(a=t.folding)?void 0:a.enabled)&&{filterField:t.folding.fields.collection,childField:t.folding.fields.parent,parentField:t.folding.fields.child,filterFieldRange:t.folding.filterFieldRange}),t.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:t.automaticFacetSet.desiredCount,numberOfValues:t.automaticFacetSet.numberOfValues,currentFacets:u}}),t.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:t.generatedAnswer.responseFormat,citationsFieldToInclude:t.generatedAnswer.fieldsToIncludeInCitations}}})));case 13:case"end":return e.stop()}},e)})),function(e,t,n){return C.apply(this,arguments)});function cx(e){return{field:e.field,label:e.label,currentValues:e.values.filter(function(e){return"selected"===e.state})}}function cC(e){return u6(e).map(function(e){var t=e.currentValues.some(function(e){return"idle"!==e.state});return e.generateAutomaticRanges&&!t?e_(e_({},e),{},{currentValues:[]}):e})}var cR=function(){var e,t,n,r,a,i,o;function u(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){t.dispatch(uc({q:e}))};eD(this,u),this.config=e,this.onUpdateQueryForCorrection=n}return eP(u,[{key:"fetchFromAPI",value:(e=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.mappings,i=t.request,o=new Date().getTime(),e.t0=u_,e.next=5,this.extra.apiClient.search(i,n);case 5:return e.t1=e.sent,e.t2=a,u=(0,e.t0)(e.t1,e.t2),c=new Date().getTime()-o,s=(null==(r=this.getState().query)?void 0:r.q)||"",e.abrupt("return",{response:u,duration:c,queryExecuted:s,requestExecuted:i});case 11:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"process",value:(t=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(a=this.processQueryErrorOrContinue(t))){e.next=4;break}e.t2=a,e.next=7;break;case 4:return e.next=6,this.processQueryCorrectionsOrContinue(t);case 6:e.t2=e.sent;case 7:if(e.t3=r=e.t2,e.t1=null!==e.t3,!e.t1){e.next=11;break}e.t1=void 0!==r;case 11:if(!e.t1){e.next=15;break}e.t4=r,e.next=18;break;case 15:return e.next=17,this.processQueryTriggersOrContinue(t);case 17:e.t4=e.sent;case 18:if(e.t5=n=e.t4,e.t0=null!==e.t5,!e.t0){e.next=22;break}e.t0=void 0!==n;case 22:if(!e.t0){e.next=26;break}e.t6=n,e.next=27;break;case 26:e.t6=this.processSuccessResponse(t);case 27:return e.abrupt("return",e.t6);case 28:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"processQueryErrorOrContinue",value:function(e){return t8(e.response)?(this.dispatch(uv(e.response.error)),this.rejectWithValue(e.response.error)):null}},{key:"processQueryCorrectionsOrContinue",value:(n=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u,c,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getState(),!(!(r=this.getSuccessResponse(t))||!n.didYouMean)){e.next=3;break}return e.abrupt("return",null);case 3:if(i=(a=n.didYouMean).enableDidYouMean,o=a.automaticallyCorrectQuery,u=r.results,c=r.queryCorrections,s=r.queryCorrection,!(!i||!o)){e.next=6;break}return e.abrupt("return",null);case 6:if(l=0===u.length&&c&&0!==c.length,d=!(0,eo.le)(s)&&!(0,eo.le)(s.correctedQuery),!(!l&&!d)){e.next=9;break}return e.abrupt("return",null);case 9:if(!l){e.next=15;break}return e.next=12,this.processLegacyDidYouMeanAutoCorrection(t);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=this.processModernDidYouMeanAutoCorrection(t);case 16:return f=e.t0,e.abrupt("return",(this.dispatch(oK(uJ(this.getState()))),f));case 18:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"processLegacyDidYouMeanAutoCorrection",value:(r=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getCurrentQuery(),(r=this.getSuccessResponse(t)).queryCorrections){e.next=3;break}return e.abrupt("return",null);case 3:return a=r.queryCorrections[0].correctedQuery,e.next=6,this.automaticallyRetryQueryWithCorrection(a);case 6:return i=e.sent,e.abrupt("return",t8(i.response)?(this.dispatch(uv(i.response.error)),this.rejectWithValue(i.response.error)):(this.dispatch(oK(uJ(this.getState()))),e_(e_({},i),{},{response:e_(e_({},i.response.success),{},{queryCorrections:r.queryCorrections}),automaticallyCorrected:!0,originalQuery:n})));case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"processModernDidYouMeanAutoCorrection",value:function(e){var t=this.getSuccessResponse(e),n=t.queryCorrection,r=n.correctedQuery,a=n.originalQuery;return this.onUpdateQueryForCorrection(r),e_(e_({},e),{},{response:e_({},t),queryExecuted:r,automaticallyCorrected:!0,originalQuery:a})}},{key:"processQueryTriggersOrContinue",value:(a=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getSuccessResponse(t)){e.next=3;break}return e.abrupt("return",null);case 3:if(i=(null==(n=a.triggers.find(function(e){return"query"===e.type}))?void 0:n.content)||""){e.next=6;break}return e.abrupt("return",null);case 6:if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)!==i){e.next=8;break}return e.abrupt("return",(this.dispatch(u3("")),null));case 8:return o=this.getCurrentQuery(),e.next=11,this.automaticallyRetryQueryWithTriggerModification(i);case 11:return u=e.sent,e.abrupt("return",t8(u.response)?(this.dispatch(uv(u.response.error)),this.rejectWithValue(u.response.error)):(this.dispatch(oK(uJ(this.getState()))),e_(e_({},u),{},{response:e_({},u.response.success),automaticallyCorrected:!1,originalQuery:o})));case 13:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"processSuccessResponse",value:function(e){return this.dispatch(oK(uJ(this.getState()))),e_(e_({},e),{},{response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery()})}},{key:"getSuccessResponse",value:function(e){return t6(e.response)?e.response.success:null}},{key:"automaticallyRetryQueryWithCorrection",value:(i=eL(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.onUpdateQueryForCorrection(t),n=this.getState(),e.t0=this,e.next=7,cS(n,this.extra.navigatorContext,{actionCause:"didYouMeanAutomatic"});case 7:return e.t1=e.sent,e.t2={origin:"mainSearch"},e.next=11,e.t0.fetchFromAPI.call(e.t0,e.t1,e.t2);case 11:return r=e.sent,e.abrupt("return",(this.dispatch(uN(t)),r));case 13:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"automaticallyRetryQueryWithTriggerModification",value:(o=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(u5({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),e.t0=this,e.next=5,cS(this.getState(),this.extra.navigatorContext);case 5:return e.t1=e.sent,e.t2={origin:"mainSearch"},e.next=9,e.t0.fetchFromAPI.call(e.t0,e.t1,e.t2);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getCurrentQuery",value:function(){var e,t=this.getState();return(null==(e=t.query)?void 0:e.q)!==void 0?t.query.q:""}},{key:"extra",get:function(){return this.config.extra}},{key:"getState",value:function(){return this.config.getState()}},{key:"dispatch",get:function(){return this.config.dispatch}},{key:"rejectWithValue",get:function(){return this.config.rejectWithValue}}]),u}(),cI=rP("search/prepareForSearchWithQuery",function(e,t){var n=t.dispatch;nc(e,{q:new eo.Gm,enableQuerySyntax:new eo.Lb,clearFilters:new eo.Lb}),e.clearFilters&&(n(o2()),n(o4())),n(o3({allow:!0})),n(uc({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),n(ui(1))}),cq=rP("search/executeSearch",(R=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("legacy"!==(r=n.getState()).configuration.analytics.analyticsMode){e.next=3;break}return e.abrupt("return",cw(r,n,t.legacy));case 3:return cP(r),a=t.next?cj(t.next):void 0,e.next=7,cS(r,n.extra.navigatorContext,a);case 7:return i=e.sent,o=new cR(e_(e_({},n),{},{analyticsAction:null!=a?a:{}})),e.next=11,o.fetchFromAPI(i,{origin:"mainSearch"});case 11:return u=e.sent,e.next=14,o.process(u);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)})),function(e,t){return R.apply(this,arguments)})),cO=rP("search/fetchPage",(I=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(cP(r=n.getState()),"legacy"!==r.configuration.analytics.analyticsMode&&t.next){e.next=3;break}return e.abrupt("return",cv(r,n,t.legacy));case 3:return a=new cR(e_(e_({},n),{},{analyticsAction:t.next})),e.next=6,cS(r,n.extra.navigatorContext,t.next);case 6:return i=e.sent,e.next=9,a.fetchFromAPI(i,{origin:"mainSearch"});case 9:return o=e.sent,e.next=12,a.process(o);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)})),function(e,t){return I.apply(this,arguments)})),cA=rP("search/fetchMoreResults",(q=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("legacy"!==(r=n.getState()).configuration.analytics.analyticsMode){e.next=3;break}return e.abrupt("return",cm(n,r));case 3:var t;return t="browseResults",a=e_(e_({},new oc(n.getState).getBaseMetadata()),{},{actionCause:t,type:t}),i=new cR(e_(e_({},n),{},{analyticsAction:a})),e.next=7,cT(r,n.extra.navigatorContext,a);case 7:return o=e.sent,e.next=10,i.fetchFromAPI(o,{origin:"mainSearch"});case 10:return u=e.sent,e.next=13,i.process(u);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)})),function(e,t){return q.apply(this,arguments)})),cE=rP("search/fetchFacetValues",(O=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("legacy"!==(r=n.getState()).configuration.analytics.analyticsMode){e.next=3;break}return e.abrupt("return",cw(r,n,t.legacy));case 3:return a=new cR(e_(e_({},n),{},{analyticsAction:{}})),e.next=6,cM(r,n.extra.navigatorContext);case 6:return i=e.sent,e.next=9,a.fetchFromAPI(i,{origin:"facetValues"});case 9:return o=e.sent,e.next=12,a.process(o);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)})),function(e,t){return O.apply(this,arguments)})),cF=rP("search/fetchInstantResults",(A=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("legacy"!==(r=n.getState()).configuration.analytics.analyticsMode){e.next=3;break}return e.abrupt("return",cp(t,n));case 3:return nc(t,{id:ne,q:ne,maxResultsPerQuery:new eo.bt({required:!0,min:1}),cacheTimeout:new eo.bt}),a=t.q,i=t.maxResultsPerQuery,o=cj({actionCause:"searchboxAsYouType"}),e.next=9,cD(r,n.extra.navigatorContext,a,i,o);case 9:return u=e.sent,c=new cR(e_(e_({},n),{},{analyticsAction:o}),function(e){n.dispatch(o9({q:e,id:t.id}))}),e.next=13,c.fetchFromAPI(u,{origin:"instantResults",disableAbortWarning:!0});case 13:return s=e.sent,e.next=16,c.process(s);case 16:return l=e.sent,e.abrupt("return","response"in l?{results:l.response.results,searchUid:l.response.searchUid,totalCountFiltered:l.response.totalCountFiltered,duration:l.duration}:l);case 18:case"end":return e.stop()}},e)})),function(e,t){return A.apply(this,arguments)})),cT=(E=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(t,n,r);case 2:return c=e.sent,e.abrupt("return",(c.request=e_(e_({},c.request),{},{firstResult:(null!=(a=null==(i=t.pagination)?void 0:i.firstResult)?a:0)+(null!=(o=null==(u=t.search)?void 0:u.results.length)?o:0)}),c));case 4:case"end":return e.stop()}},e)})),function(e,t,n){return E.apply(this,arguments)}),cD=(F=eL(regeneratorRuntime.mark(function e(t,n,r,a,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=ul(t,n,i),e.abrupt("return",uj(e_(e_(e_({},o),t.didYouMean&&{enableDidYouMean:t.didYouMean.enableDidYouMean}),{},{numberOfResults:a,q:r})));case 2:case"end":return e.stop()}},e)})),function(e,t,n,r,a){return F.apply(this,arguments)}),cM=(T=eL(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(t,n,r);case 2:return a=e.sent,e.abrupt("return",(a.request.numberOfResults=0,a));case 4:case"end":return e.stop()}},e)})),function(e,t,n){return T.apply(this,arguments)}),cP=function(e){var t;e.configuration.analytics.enabled&&iV.addElement(e_(e_({name:"Query"},(null==(t=e.query)?void 0:t.q)&&{value:e.query.q}),{},{time:JSON.stringify(new Date)}))},cj=function(e){return{actionCause:e.actionCause,type:e.actionCause}};function c_(e){return""!==e.search.response.searchUid}function cV(e,t){var n,r=null!=(n=t.payload)?n:null;r&&(e.response=tY().response,e.results=[],e.questionAnswer=tH()),e.error=r,e.isLoading=!1}function cU(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function cL(e,t){e.isLoading=!0,e.requestId=t.meta.requestId}var cQ=rb(tY(),function(e){e.addCase(ca.rejected,function(e,t){return cV(e,t)}),e.addCase(co.rejected,function(e,t){return cV(e,t)}),e.addCase(ci.rejected,function(e,t){return cV(e,t)}),e.addCase(ca.fulfilled,function(e,t){cU(e,t),e.results=t.payload.response.results.map(function(e){return e_(e_({},e),{},{searchUid:t.payload.response.searchUid})}),e.searchResponseId=t.payload.response.searchUid,e.questionAnswer=t.payload.response.questionAnswer,e.extendedResults=t.payload.response.extendedResults}),e.addCase(co.fulfilled,function(e,t){cU(e,t),e.results=[].concat(eB(e.results),eB(t.payload.response.results.map(function(e){return e_(e_({},e),{},{searchUid:t.payload.response.searchUid})})))}),e.addCase(ci.fulfilled,function(e,t){cU(e,t),e.results=eB(t.payload.response.results.map(function(e){return e_(e_({},e),{},{searchUid:t.payload.response.searchUid})}))}),e.addCase(cu.fulfilled,function(e,t){e.response.facets=t.payload.response.facets,e.response.searchUid=t.payload.response.searchUid}),e.addCase(ca.pending,cL),e.addCase(co.pending,cL),e.addCase(ci.pending,cL)}),cN=ri(function(e){return e.query},function(e){return e}),cz=function(e){var t;return cG(e)?{answerAPIEnabled:!0,id:null==(t=ll(e).data)?void 0:t.answerId}:cB(e)?{answerAPIEnabled:!1,id:e.search.response.extendedResults.generativeQuestionAnsweringId}:{answerAPIEnabled:!1,id:void 0}},cB=function(e){return"search"in e},cG=function(e){var t;return"answer"in e&&"generatedAnswer"in e&&!(0,eo.le)(null==(t=e.generatedAnswer)?void 0:t.answerConfigurationId)},c$=function(e){var t;return null==(t=e.generatedAnswer)?void 0:t.fieldsToIncludeInCitations};ri(function(e){var t;return null==(t=e.generatedAnswer)?void 0:t.citations},function(e,t){return t},function(e,t){return null==e?void 0:e.find(function(e){return e.id===t})}),ri(function(e){var t;return null==(t=cN(e))?void 0:t.q},function(e){return e.search.requestId},function(e,t){return{q:e,requestId:t}});var cH=function(e){return ov({prefix:"analytics/generatedAnswer/streamEnd",__legacy__getBuilder:function(t,n){var r,a,i=cz(n),o=i.id,u=i.answerAPIEnabled,c=e?!(null!=(r=n.generatedAnswer)&&r.answer)||!(null!=(a=n.generatedAnswer)&&a.answer.length):void 0;return o?t.makeGeneratedAnswerStreamEnd(e_(e_({},u?{answerAPIStreamId:o}:{generativeQuestionAnsweringId:o}),{},{answerGenerated:e,answerTextIsEmpty:c})):null},analyticsType:"Rga.AnswerReceived",analyticsPayloadBuilder:function(t){var n;return{answerId:(null==(n=t.search)?void 0:n.response.searchUid)||"",answerGenerated:null!=e&&e}}})},cY=(D=eL(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:tQ(t.configuration.organizationId,t.configuration.environment),streamId:null==(n=t.search.extendedResults)?void 0:n.generativeQuestionAnsweringId});case 1:case"end":return e.stop()}},e)})),function(e){return D.apply(this,arguments)}),cW=new eo.Gm({required:!0}),cK=new eo.Gm,cJ=new eo.Lb({required:!0}),cZ={id:cW,title:cW,uri:cW,permanentid:cW,clickUri:cK},cX=new eo.Gm({required:!0,constrainTo:["text/plain","text/markdown"]}),c0=rl("generatedAnswer/setIsVisible",function(e){return nc(e,cJ)}),c1=rl("generatedAnswer/setIsEnabled",function(e){return nc(e,cJ)}),c2=rl("generatedAnswer/updateMessage",function(e){return nc(e,{textDelta:cW})}),c4=rl("generatedAnswer/updateCitations",function(e){return nc(e,{citations:new eo.Ms({required:!0,each:new eo.ld({values:cZ})})})}),c3=rl("generatedAnswer/updateError",function(e){return nc(e,{message:cK,code:new eo.bt({min:0})})}),c5=rl("generatedAnswer/resetAnswer"),c6=rl("generatedAnswer/like"),c8=rl("generatedAnswer/dislike"),c7=rl("generatedAnswer/feedbackModal/open"),c9=rl("generatedAnswer/expand"),se=rl("generatedAnswer/collapse"),st=rl("generatedAnswer/setId",function(e){return nc(e,{id:new eo.Gm({required:!0})})}),sn=rl("generatedAnswer/feedbackModal/close"),sr=rl("generatedAnswer/sendFeedback"),sa=rl("generatedAnswer/setIsLoading",function(e){return nc(e,cJ)}),si=rl("generatedAnswer/setIsStreaming",function(e){return nc(e,cJ)}),so=rl("generatedAnswer/setAnswerContentFormat",function(e){return nc(e,cX)}),su=rl("generatedAnswer/updateResponseFormat",function(e){return nc(e,{contentFormat:new eo.Ms({each:cX,default:["text/plain"]})})}),sc=rl("knowledge/updateAnswerConfigurationId",function(e){return nc(e,cW)}),ss=rl("generatedAnswer/registerFieldsToIncludeInCitations",function(e){return nc(e,na)}),sl=rl("generatedAnswer/setIsAnswerGenerated",function(e){return nc(e,cJ)}),sd=rl("generatedAnswer/setCannotAnswer",function(e){return nc(e,cJ)}),sf=(rP("generatedAnswer/streamAnswer",(M=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState(),i=n.dispatch,o=n.extra,u=(0,n.getState)().search.queryExecuted,c=t.setAbortControllerRef,e.next=10,cY(a);case 10:s=e.sent,l=function(e,t){switch(e){case"genqa.headerMessageType":var n=JSON.parse(t);i(so(n.contentFormat));break;case"genqa.messageType":i(c2(JSON.parse(t)));break;case"genqa.citationsType":i(c4(JSON.parse(t)));break;case"genqa.endOfStreamType":var r=JSON.parse(t).answerGenerated,c=0!==u.length&&!r;i(sd(c)),i(si(!1)),i(sl(r)),i(cH(r));break;default:a.debug&&o.logger.warn('Unknown payloadType: "'.concat(e,'"'))}},i(sa(!0)),d=function(e){return e.streamId===n.getState().search.extendedResults.generativeQuestionAnsweringId},(f=null==(r=o.streamingClient)?void 0:r.streamGeneratedAnswer(s,{write:function(e){d(s)&&(i(sa(!1)),e.payload&&e.payloadType&&l(e.payloadType,e.payload))},abort:function(e){d(s)&&i(c3(e))},close:function(){d(s)&&i(si(!1))},resetAnswer:function(){d(s)&&i(c5())}}))?c(f):i(sa(!1));case 15:case"end":return e.stop()}},e)})),function(e,t){return M.apply(this,arguments)})),ri(function(e){return e.pipeline},function(e){return e})),sp=ri(function(e){return e.searchHub},function(e){return e});function sh(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}function sv(e){var t=0;for(var n in e)t++;return t}var sg=function(e){var t;return(t=[]).concat.apply(t,eB(e))};function sm(e){return null!=e}var sy=function(){return fetch.apply(void 0,arguments)},sb=function(e){return e.status>=200&&e.status<=299},sw=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function sk(e){if(!ng(e))return e;for(var t=e_({},e),n=0,r=Object.entries(t);n<r.length;n++){var a=eQ(r[n],2),i=a[0];void 0===a[1]&&delete t[i]}return t}var sS=eP(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;eD(this,e),this.value=t,this.meta=n});function sx(){return sC.apply(this,arguments)}function sC(){return(sC=eL(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=~~((Math.random()+.4)*(300<<Math.min(n.length>0&&void 0!==n[0]?n[0]:0,n.length>1&&void 0!==n[1]?n[1]:5))),e.next=5,new Promise(function(e){return setTimeout(function(t){return e(t)},t)});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var sR={},sI=Object.assign(function(e,t){var n;return n=eL(regeneratorRuntime.mark(function n(r,a,i){var o,u,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:u=e_(e_({maxRetries:o=eQ([5,(t||sR).maxRetries,(i||sR).maxRetries].filter(function(e){return void 0!==e}).slice(-1),1)[0],backoff:sx,retryCondition:function(e,t,n){return n.attempt<=o}},t),i),c=0;case 1:return n.prev=1,n.next=4,e(r,a,i);case 4:if(!(s=n.sent).error){n.next=7;break}throw new sS(s);case 7:return n.abrupt("return",s);case 10:if(n.prev=10,n.t0=n.catch(1),c++,!n.t0.throwImmediately){n.next=16;break}if(!(n.t0 instanceof sS)){n.next=15;break}return n.abrupt("return",n.t0.value);case 15:throw n.t0;case 16:if(!(n.t0 instanceof sS&&!u.retryCondition(n.t0.value.error,r,{attempt:c,baseQueryApi:a,extraOptions:i}))){n.next=18;break}return n.abrupt("return",n.t0.value);case 18:return n.next=20,u.backoff(c,u.maxRetries);case 20:n.next=1;break;case 22:case"end":return n.stop()}},n,null,[[1,10]])})),function(e,t,r){return n.apply(this,arguments)}},{fail:function(e,t){throw Object.assign(new sS({error:e,meta:t}),{throwImmediately:!0})}}),sq=rl("__rtkq/focused"),sO=rl("__rtkq/unfocused"),sA=rl("__rtkq/online"),sE=rl("__rtkq/offline");function sF(e){return"query"===e.type}function sT(e){return"infinitequery"===e.type}function sD(e,t,n,r,a,i){return"function"==typeof e?e(t,n,r,a).filter(sm).map(sM).map(i):Array.isArray(e)?e.map(sM).map(i):[]}function sM(e){return"string"==typeof e?{type:e}:e}var sP=Symbol("forceQueryFn"),sj=function(e){return"function"==typeof e[sP]};function s_(e){return e}var sV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e_(e_({},e),{},eV({},rh,!0))};function sU(e,t){var n=t.pages,r=t.pageParams,a=n.length-1;return e.getNextPageParam(n[a],n,r[a],r)}function sL(e,t){var n,r=t.pages,a=t.pageParams;return null==(n=e.getPreviousPageParam)?void 0:n.call(e,r[0],r,a[0],a)}function sQ(e,t,n,r){return sD(n[e.meta.arg.endpointName][t],rO(e)?e.payload:void 0,rq(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function sN(e,t,n){var r=e[t];r&&n(r)}function sz(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function sB(e,t,n){var r=e[sz(t)];r&&n(r)}var sG={},s$=Symbol.for("RTKQ/skipToken"),sH={status:"uninitialized"},sY=n8(sH,function(){}),sW=n8(sH,function(){}),sK=WeakMap?new WeakMap:void 0,sJ=function(e){var t=e.endpointName,n=e.queryArgs,r="",a=null==sK?void 0:sK.get(n);if("string"==typeof a)r=a;else{var i=JSON.stringify(n,function(e,t){return t=ng(t="bigint"==typeof t?{$bigint:t.toString()}:t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t});ng(n)&&null!=sK&&sK.set(n,i),r=i}return"".concat(t,"(").concat(r,")")};function sZ(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[e].concat(n))}var sX=function(e){var t=e.api,n=e.queryThunk,r=e.internalState,a="".concat(t.reducerPath,"/subscriptions"),i=null,o=null,u=t.internalActions,c=u.updateSubscriptionOptions,s=u.unsubscribeQueryResult,l=function(e,r){if(c.match(r)){var a,i,o,u=r.payload,l=u.queryCacheKey,d=u.requestId,f=u.options;return null!=e&&null!=(o=e[l])&&o[d]&&(e[l][d]=f),!0}if(s.match(r)){var p=r.payload,h=p.queryCacheKey,v=p.requestId;return e[h]&&delete e[h][v],!0}if(t.internalActions.removeQueryResult.match(r))return delete e[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var g,m,y,b=r.meta,w=b.arg,k=b.requestId,S=null!=(g=e[a=w.queryCacheKey])?g:e[a]={};return S["".concat(k,"_running")]={},w.subscribe&&(S[k]=null!=(m=null!=(y=w.subscriptionOptions)?y:S[k])?m:{}),!0}var x=!1;if(n.fulfilled.match(r)||n.rejected.match(r)){var C=e[r.meta.arg.queryCacheKey]||{},R="".concat(r.meta.requestId,"_running");x||(x=!!C[R]),delete C[R]}if(n.rejected.match(r)){var I=r.meta,q=I.condition,O=I.arg,A=I.requestId;if(q&&O.subscribe){var E,F,T,D=null!=(E=e[i=O.queryCacheKey])?E:e[i]={};D[A]=null!=(F=null!=(T=O.subscriptionOptions)?T:D[A])?F:{},x=!0}}return x},d=function(){return r.currentSubscriptions},f={getSubscriptions:d,getSubscriptionCount:function(e){var t;return sv(null!=(t=d()[e])?t:{})},isRequestSubscribed:function(e,t){var n,r;return!!(null!=(n=d())&&null!=(r=n[e])&&r[t])}};return function(e,u){if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(e))return i=r.currentSubscriptions={},o=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(e))return[!1,f];var c=l(r.currentSubscriptions,e),s=!0;if(c){o||(o=setTimeout(function(){var e=JSON.parse(JSON.stringify(r.currentSubscriptions)),n=eQ(n7(i,function(){return e}),2)[1];u.next(t.internalActions.subscriptionsUpdated(n)),i=e,o=null},500));var d="string"==typeof e.type&&!!e.type.startsWith(a),p=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;s=!d&&!p}return[s,!1]}},s0=function(e){e.reducerPath;var t=e.api,n=e.queryThunk,r=e.context,a=e.internalState,i=e.selectors,o=i.selectQueryEntry,u=i.selectConfig,c=t.internalActions,s=c.removeQueryResult,l=c.unsubscribeQueryResult,d=c.cacheEntriesUpserted,f=rk(l.match,n.fulfilled,n.rejected,d.match);function p(e){var t=a.currentSubscriptions[e];return!!t&&!function(e){for(var t in e)return!1;return!0}(t)}var h={};function v(e,t,n){var a,i=t.getState(),u=eG(e);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=o(i,c);!function(e,t,n,a){var i,o,u=null!=(i=null==(o=r.endpointDefinitions[t])?void 0:o.keepUnusedDataFor)?i:a.keepUnusedDataFor;if(u!==1/0){var c=Math.max(0,Math.min(u,2147482.647));if(!p(e)){var l=h[e];l&&clearTimeout(l),h[e]=setTimeout(function(){p(e)||n.dispatch(s({queryCacheKey:e})),delete h[e]},1e3*c)}}}(c,null==l?void 0:l.endpointName,t,n)}}catch(e){u.e(e)}finally{u.f()}}return function(e,n,a){var i=u(n.getState());if(f(e)&&v(d.match(e)?e.payload.map(function(e){return e.queryDescription.queryCacheKey}):[(l.match(e)?e.payload:e.meta.arg).queryCacheKey],n,i),t.util.resetApiState.match(e))for(var o=0,c=Object.entries(h);o<c.length;o++){var s=eQ(c[o],2),p=s[0],g=s[1];g&&clearTimeout(g),delete h[p]}r.hasRehydrationInfo(e)&&v(Object.keys(r.extractRehydrationInfo(e).queries),n,i)}},s1=Error("Promise never resolved before cacheEntryRemoved."),s2=function(e){var t=e.api,n=e.reducerPath,r=e.context,a=e.queryThunk,i=e.mutationThunk,o=(e.internalState,e.selectors),u=o.selectQueryEntry;o.selectApiState;var c=rA(a),s=rA(i),l=rO(a,i),d={};function f(e,t,n){var r=d[e];(null==r?void 0:r.valueResolved)&&(r.valueResolved({data:t,meta:n}),delete r.valueResolved)}function p(e){var t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function h(e,n,a,i,o){var u=r.endpointDefinitions[e],c=null==u?void 0:u.onCacheEntryAdded;if(c){var s={},l=new Promise(function(e){s.cacheEntryRemoved=e}),f=Promise.race([new Promise(function(e){s.valueResolved=e}),l.then(function(){throw s1})]);f.catch(function(){}),d[a]=s;var p=t.endpoints[e].select("query"===u.type?n:a),h=i.dispatch(function(e,t,n){return n}),v=e_(e_({},i),{},{getCacheEntry:function(){return p(i.getState())},requestId:o,extra:h,updateCachedData:"query"===u.type?function(r){return i.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:l});Promise.resolve(c(n,v)).catch(function(e){if(e!==s1)throw e})}}return function(e,r,o){var v=c(m=e)?m.meta.arg.queryCacheKey:s(m)?null!=(y=m.meta.arg.fixedCacheKey)?y:m.meta.requestId:t.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:t.internalActions.removeMutationResult.match(m)?sz(m.payload):"";function g(e,t,n,a){var i=u(o,t),c=u(r.getState(),t);!i&&c&&h(e,a,t,r,n)}if(a.pending.match(e))g(e.meta.arg.endpointName,v,e.meta.requestId,e.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(e)){var m,y,b,w=eG(e.payload);try{for(w.s();!(b=w.n()).done;){var k=b.value,S=k.queryDescription,x=k.value,C=S.endpointName,R=S.originalArgs,I=S.queryCacheKey;g(C,I,e.meta.requestId,R),f(I,x,{})}}catch(e){w.e(e)}finally{w.f()}}else if(i.pending.match(e))r.getState()[n].mutations[v]&&h(e.meta.arg.endpointName,e.meta.arg.originalArgs,v,r,e.meta.requestId);else if(l(e))f(v,e.payload,e.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e))p(v);else if(t.util.resetApiState.match(e))for(var q=0,O=Object.keys(d);q<O.length;q++)p(O[q])}},s4=function(e){var t=e.api,n=e.context.apiUid;return e.reducerPath,function(e,r){t.util.resetApiState.match(e)&&r.dispatch(t.internalActions.middlewareRegistered(n)),"undefined"==typeof process||eY(process)}},s3=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,a=e.mutationThunk,i=e.queryThunk,o=e.api,u=e.assertTagType,c=e.refetchQuery,s=e.internalState,l=o.internalActions.removeQueryResult,d=rk(rO(a),rq(a)),f=rk(rO(a,i),rI(a,i)),p=[];function h(e,r){var a,i=r.getState(),u=i[t];if((a=p).push.apply(a,eB(e)),!("delayed"===u.config.invalidationBehavior&&function(e){for(var t=e.queries,n=e.mutations,r=0,a=[t,n];r<a.length;r++){var i,o=a[r];for(var u in o)if((null==(i=o[u])?void 0:i.status)==="pending")return!0}return!1}(u))){var d=p;if(p=[],0!==d.length){var f=o.util.selectInvalidatedBy(i,d);n.batch(function(){for(var e=Array.from(f.values()),t=0;t<e.length;t++){var n,a=e[t].queryCacheKey,i=u.queries[a],o=null!=(n=s.currentSubscriptions[a])?n:{};i&&(0===sv(o)?r.dispatch(l({queryCacheKey:a})):"uninitialized"!==i.status&&r.dispatch(c(i)))}})}}}return function(e,t){d(e)?h(sQ(e,"invalidatesTags",r,u),t):f(e)?h([],t):o.util.invalidateTags.match(e)&&h(sD(e.payload,void 0,void 0,void 0,void 0,u),t)}},s5=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,a=e.refetchQuery,i=e.internalState,o={};function u(e,n){var r=e.queryCacheKey,c=n.getState()[t],s=c.queries[r],d=i.currentSubscriptions[r];if(s&&"uninitialized"!==s.status){var f=l(d),p=f.lowestPollingInterval,h=f.skipPollingIfUnfocused;if(Number.isFinite(p)){var v=o[r];(null==v?void 0:v.timeout)&&(clearTimeout(v.timeout),v.timeout=void 0);var g=Date.now()+p;o[r]={nextPollTimestamp:g,pollingInterval:p,timeout:setTimeout(function(){(c.config.focused||!h)&&n.dispatch(a(s)),u({queryCacheKey:r},n)},p)}}}}function c(e,n){var r=e.queryCacheKey,a=n.getState()[t].queries[r],c=i.currentSubscriptions[r];if(a&&"uninitialized"!==a.status){var d=l(c).lowestPollingInterval;if(!Number.isFinite(d))return void s(r);var f=o[r],p=Date.now()+d;(!f||p<f.nextPollTimestamp)&&u({queryCacheKey:r},n)}}function s(e){var t=o[e];null!=t&&t.timeout&&clearTimeout(t.timeout),delete o[e]}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=1/0;for(var r in e)e[r].pollingInterval&&(n=Math.min(e[r].pollingInterval,n),t=e[r].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return function(e,t){(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&c(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&c(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&u(e.meta.arg,t),r.util.resetApiState.match(e)&&function(){for(var e=0,t=Object.keys(o);e<t.length;e++)s(t[e])}()}},s6=function(e){var t=e.api,n=e.context,r=e.queryThunk,a=e.mutationThunk,i=rR(r,a),o=rI(r,a),u=rO(r,a),c={};return function(e,r){if(i(e)){var a=e.meta,s=a.requestId,l=a.arg,d=l.endpointName,f=l.originalArgs,p=n.endpointDefinitions[d],h=null==p?void 0:p.onQueryStarted;if(h){var v={},g=new Promise(function(e,t){v.resolve=e,v.reject=t});g.catch(function(){}),c[s]=v;var m=t.endpoints[d].select("query"===p.type?f:s),y=r.dispatch(function(e,t,n){return n}),b=e_(e_({},r),{},{getCacheEntry:function(){return m(r.getState())},requestId:s,extra:y,updateCachedData:"query"===p.type?function(e){return r.dispatch(t.util.updateQueryData(d,f,e))}:void 0,queryFulfilled:g});h(f,b)}}else if(u(e)){var w,k=e.meta,S=k.requestId,x=k.baseQueryMeta;null!=(w=c[S])&&w.resolve({data:e.payload,meta:x}),delete c[S]}else if(o(e)){var C,R,I=e.meta,q=I.requestId,O=I.rejectedWithValue,A=I.baseQueryMeta;null!=(C=c[q])&&C.reject({error:null!=(R=e.payload)?R:e.error,isUnhandledError:!O,meta:A}),delete c[q]}}},s8=function(e){var t=e.reducerPath,n=e.context,r=e.api,a=e.refetchQuery,i=e.internalState,o=r.internalActions.removeQueryResult;function u(e,r){var u=e.getState()[t],c=u.queries,s=i.currentSubscriptions;n.batch(function(){for(var t=0,n=Object.keys(s);t<n.length;t++){var i=n[t],l=c[i],d=s[i];d&&l&&(Object.values(d).some(function(e){return!0===e[r]})||Object.values(d).every(function(e){return void 0===e[r]})&&u.config[r])&&(0===sv(d)?e.dispatch(o({queryCacheKey:i})):"uninitialized"!==l.status&&e.dispatch(a(l)))}})}return function(e,t){sq.match(e)&&u(t,"refetchOnFocus"),sA.match(e)&&u(t,"refetchOnReconnect")}},s7=Symbol(),s9=(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=ra(function(t){var n,r;return null==(n=e.extractRehydrationInfo)?void 0:n.call(e,t,{reducerPath:null!=(r=e.reducerPath)?r:"api"})}),r=e_(e_({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed"},e),{},{extractRehydrationInfo:n,serializeQueryArgs:function(t){var n=sJ;if("serializeQueryArgs"in t.endpointDefinition){var r=t.endpointDefinition.serializeQueryArgs;n=function(e){var t=r(e);return"string"==typeof t?t:sJ(e_(e_({},e),{},{queryArgs:t}))}}else e.serializeQueryArgs&&(n=e.serializeQueryArgs);return n(t)},tagTypes:eB(e.tagTypes||[])}),a={endpointDefinitions:{},batch:function(e){e()},apiUid:rE(),extractRehydrationInfo:n,hasRehydrationInfo:ra(function(e){return null!=n(e)})},i={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return e_(e_({},e),{},{type:"query"})},mutation:function(e){return e_(e_({},e),{},{type:"mutation"})},infiniteQuery:function(e){return e_(e_({},e),{},{type:"infinitequery"})}}),n=0,r=Object.entries(t);n<r.length;n++){var u=eQ(r[n],2),c=u[0],s=u[1];if(!0!==e.overrideExisting&&c in a.endpointDefinitions){if("throw"===e.overrideExisting)throw Error(rG(39));"undefined"==typeof process||eY(process);continue}"undefined"==typeof process||eY(process),a.endpointDefinitions[c]=s;var l,d=eG(o);try{for(d.s();!(l=d.n()).done;)l.value.injectEndpoint(c,s)}catch(e){d.e(e)}finally{d.f()}}return i},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t){var o,u=eG(t);try{for(u.s();!(o=u.n()).done;){var c=o.value;r.tagTypes.includes(c)||r.tagTypes.push(c)}}catch(e){u.e(e)}finally{u.f()}}if(n)for(var s=0,l=Object.entries(n);s<l.length;s++){var d=eQ(l[s],2),f=d[0],p=d[1];"function"==typeof p?p(a.endpointDefinitions[f]):Object.assign(a.endpointDefinitions[f]||{},p)}return i}},o=t.map(function(e){return e.init(i,r,a)});return i.injectEndpoints({endpoints:e.endpoints})}})(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createSelector,n=void 0===t?ri:t;return{name:s7,init:function(e,t,r){var a=t.baseQuery,i=(t.tagTypes,t.reducerPath),o=t.serializeQueryArgs,u=t.keepUnusedDataFor,c=t.refetchOnMountOrArgChange,s=t.refetchOnFocus,l=t.refetchOnReconnect,d=t.invalidationBehavior;!function(){var e="replace",t="remove";function n(e){if(!nq(e))return e;if(Array.isArray(e))return e.map(n);if(nP(e))return new Map(Array.from(e.entries()).map(function(e){var t=eQ(e,2);return[t[0],n(t[1])]}));if(nj(e))return new Set(Array.from(e).map(n));var t=Object.create(nR(e));for(var r in e)t[r]=n(e[r]);return nT(e,nS)&&(t[nS]=e[nS]),t}function r(e){return nI(e)?n(e):e}nN.Patches||(nN.Patches={applyPatches_:function(r,a){return a.forEach(function(a){for(var i=a.path,o=a.op,u=r,c=0;c<i.length-1;c++){var s=nF(u),l=i[c];"string"!=typeof l&&"number"!=typeof l&&(l=""+l),(0===s||1===s)&&("__proto__"===l||"constructor"===l)&&nC(19),"function"==typeof u&&"prototype"===l&&nC(19),u=nD(u,l),"object"!=eY(u)&&nC(18,i.join("/"))}var d=nF(u),f=n(a.value),p=i[i.length-1];switch(o){case e:switch(d){case 2:return u.set(p,f);case 3:nC(16);default:return u[p]=f}case"add":switch(d){case 1:return"-"===p?u.push(f):u.splice(p,0,f);case 2:return u.set(p,f);case 3:return u.add(f);default:return u[p]=f}case t:switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(a.value);default:return delete u[p]}default:nC(17,o)}}),r},generatePatches_:function(n,a,i,o){var u,c,s,l,d,f,p,h,v,g,m,y,b;switch(n.type_){case 0:case 2:return u=n,c=a,s=i,l=o,d=u.base_,f=u.copy_,void nE(u.assigned_,function(n,a){var i=nD(d,n),o=nD(f,n),u=a?nT(d,n)?e:"add":t;if(i!==o||u!==e){var p=c.concat(n);s.push(u===t?{op:u,path:p}:{op:u,path:p,value:o}),l.push("add"===u?{op:t,path:p}:u===t?{op:"add",path:p,value:r(i)}:{op:e,path:p,value:r(i)})}});case 1:return function(n,a,i,o){var u,c,s=n.base_,l=n.assigned_,d=n.copy_;d.length<s.length&&(s=(u=[d,s])[0],d=u[1],i=(c=[o,i])[0],o=c[1]);for(var f=0;f<s.length;f++)if(l[f]&&d[f]!==s[f]){var p=a.concat([f]);i.push({op:e,path:p,value:r(d[f])}),o.push({op:e,path:p,value:r(s[f])})}for(var h=s.length;h<d.length;h++){var v=a.concat([h]);i.push({op:"add",path:v,value:r(d[h])})}for(var g=d.length-1;s.length<=g;--g){var m=a.concat([g]);o.push({op:t,path:m})}}(n,a,i,o);case 3:return p=n,h=a,v=i,g=o,m=p.base_,y=p.copy_,b=0,void(m.forEach(function(e){if(!y.has(e)){var n=h.concat([b]);v.push({op:t,path:n,value:e}),g.unshift({op:"add",path:n,value:e})}b++}),b=0,y.forEach(function(e){if(!m.has(e)){var n=h.concat([b]);v.push({op:"add",path:n,value:e}),g.unshift({op:t,path:n,value:e})}b++}))}},generateReplacementPatches_:function(t,n,r,a){r.push({op:e,path:[],value:n===nk?void 0:n}),a.push({op:e,path:[],value:t})}})}();var f=function(e){return"undefined"==typeof process||eY(process),e};Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:sA,onOffline:sE,onFocus:sq,onFocusLost:sO},util:{}});var p=function(e){var t=e.serializeQueryArgs,n=e.reducerPath,r=e.createSelector,a=function(e){return sY},i=function(e){return sW};return{buildQuerySelector:function(e,t){return s(e,t,o)},buildInfiniteQuerySelector:function(e,t){var n=t.infiniteQueryOptions;return s(e,t,function(e){var t,r,a,i,o=e_(e_({},e),sh(e.status)),u=o.isLoading,c=o.isError,s=o.direction,l="forward"===s,d="backward"===s;return e_(e_({},o),{},{hasNextPage:(t=n,!!(r=o.data)&&null!=sU(t,r)),hasPreviousPage:(a=n,!!(i=o.data)&&!!a.getPreviousPageParam&&null!=sL(a,i)),isFetchingNextPage:u&&l,isFetchingPreviousPage:u&&d,isFetchNextPageError:c&&l,isFetchPreviousPageError:c&&d})})},buildMutationSelector:function(){return function(e){var t,a;return r((a="object"==eY(e)?null!=(t=sz(e))?t:s$:e)===s$?i:function(e){var t,r,i;return null!=(t=null==(r=e[n])||null==(i=r.mutations)?void 0:i[a])?t:sW},o)}},selectInvalidatedBy:function(e,t){var r,a=e[n],i=new Set,o=eG(t.filter(sm).map(sM));try{for(o.s();!(r=o.n()).done;){var u=r.value,c=a.provided[u.type];if(c){var s,l,d=null!=(s=void 0!==u.id?c[u.id]:sg(Object.values(c)))?s:[],f=eG(d);try{for(f.s();!(l=f.n()).done;){var p=l.value;i.add(p)}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){o.e(e)}finally{o.f()}return sg(Array.from(i.values()).map(function(e){var t=a.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(u(e)).filter(function(e){return(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status}).map(function(e){return e.originalArgs})},selectApiState:function(e){return e[n]},selectQueries:u,selectMutations:function(e){var t;return null==(t=e[n])?void 0:t.mutations},selectQueryEntry:c,selectConfig:function(e){var t;return null==(t=e[n])?void 0:t.config}};function o(e){return e_(e_({},e),sh(e.status))}function u(e){var t;return null==(t=e[n])?void 0:t.queries}function c(e,t){var n;return null==(n=u(e))?void 0:n[t]}function s(e,n,i){return function(o){if(o===s$)return r(a,i);var u=t({queryArgs:o,endpointDefinition:n,endpointName:e});return r(function(e){var t;return null!=(t=c(e,u))?t:sY},i)}}}({serializeQueryArgs:o,reducerPath:i,createSelector:n}),h=p.selectInvalidatedBy,v=p.selectCachedArgsForQuery,g=p.buildQuerySelector,m=p.buildInfiniteQuerySelector,y=p.buildMutationSelector;sZ(e.util,{selectInvalidatedBy:h,selectCachedArgsForQuery:v});var b=function(e){var t,n=e.reducerPath,r=e.baseQuery,a=e.context.endpointDefinitions,i=e.serializeQueryArgs,o=e.api,u=e.assertTagType,c=e.selectors;function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[t].concat(eB(e));return n&&r.length>n?r.slice(0,-1):r}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[].concat(eB(e),[t]);return n&&r.length>n?r.slice(1):r}var d=function(e,t){return e.query&&e[t]?e[t]:s_},f=(t=eL(regeneratorRuntime.mark(function e(t,n){var i,o,u,f,h,v,g,m,y,b,w,k,S,x,C,R,I,q,O,A,E,F,T,D,M,P,j,_,V,U,L,Q,N,z,B;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.signal,o=n.abort,u=n.rejectWithValue,f=n.fulfillWithValue,h=n.dispatch,v=n.getState,g=n.extra,m=a[t.endpointName],e.prev=2,y=function(){var e=eL(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.extraOptions,!k){e.next=5;break}n=k(),e.next=14;break;case 5:if(!m.query){e.next=11;break}return e.next=8,r(m.query(t),w,a);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,m.queryFn(t,w,a,function(e){return r(e,w,a)});case 13:n=e.sent;case 14:if("undefined"==typeof process||eY(process),!n.error){e.next=17;break}throw new sS(n.error,n.meta);case 17:return e.next=19,b(n.data,n.meta,t);case 19:return i=e.sent,e.abrupt("return",e_(e_({},n),{},{data:i}));case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=d(m,"transformResponse"),w={signal:i,abort:o,dispatch:h,getState:v,extra:g,endpoint:t.endpointName,type:t.type,forced:"query"===t.type?p(t,v()):void 0,queryCacheKey:"query"===t.type?t.queryCacheKey:void 0},k="query"===t.type?t[sP]:void 0,x=function(){var e=eL(regeneratorRuntime.mark(function e(n,r,a,i){var o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==r&&n.pages.length)){e.next=2;break}return e.abrupt("return",Promise.resolve({data:n}));case 2:return o={queryArg:t.originalArgs,pageParam:r},e.next=5,y(o);case 5:return u=e.sent,c=i?s:l,e.abrupt("return",{data:{pages:c(n.pages,u.data,a),pageParams:c(n.pageParams,r,a)}});case 8:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),!("query"===t.type&&"infiniteQueryOptions"in m)){e.next=31;break}if(q=void 0===(I=(R=m.infiniteQueryOptions).maxPages)?1/0:I,A={pages:[],pageParams:[]},E=null==(C=c.selectQueryEntry(v(),t.queryCacheKey))?void 0:C.data,F=(!p(t,v())||t.direction)&&E?E:A,!("direction"in t&&t.direction&&F.pages.length)){e.next=14;break}return D=((T="backward"===t.direction)?sL:sU)(R,F),e.next=11,x(F,D,q,T);case 11:O=e.sent,e.next=28;break;case 14:return _=void 0===(j=t.initialPageParam)?R.initialPageParam:j,U=null!=(P=(V=null!=(M=null==E?void 0:E.pageParams)?M:[])[0])?P:_,L=V.length,e.next=17,x(F,U,q);case 17:O=e.sent,k&&(O={data:O.data.pages[0]}),Q=1;case 20:if(!(Q<L)){e.next=28;break}return N=sU(R,O.data),e.next=24,x(O.data,N,q);case 24:O=e.sent;case 25:Q++,e.next=20;break;case 28:S=O,e.next=34;break;case 31:return e.next=33,y(t.originalArgs);case 33:S=e.sent;case 34:return e.abrupt("return",f(S.data,sV({fulfilledTimeStamp:Date.now(),baseQueryMeta:S.meta})));case 37:if(e.prev=37,e.t0=e.catch(2),!((z=e.t0)instanceof sS)){e.next=54;break}return B=d(m,"transformErrorResponse"),e.prev=42,e.t1=u,e.next=46,B(z.value,z.meta,t.originalArgs);case 46:return e.t2=e.sent,e.t3=sV({baseQueryMeta:z.meta}),e.abrupt("return",(0,e.t1)(e.t2,e.t3));case 51:e.prev=51,e.t4=e.catch(42),z=e.t4;case 54:throw"undefined"==typeof process||eY(process),console.error(z),z;case 55:case"end":return e.stop()}},e,null,[[2,37],[42,51]])})),function(e,n){return t.apply(this,arguments)});function p(e,t){var n,r=c.selectQueryEntry(t,e.queryCacheKey),a=c.selectConfig(t).refetchOnMountOrArgChange,i=null==r?void 0:r.fulfilledTimeStamp,o=null!=(n=e.forceRefetch)?n:e.subscribe&&a;return!!o&&(!0===o||(Number(new Date)-Number(i))/1e3>=o)}var h=function(){return rP("".concat(n,"/executeQuery"),f,{getPendingMeta:function(e){var t=e.arg,n=a[t.endpointName];return sV(e_({startedTimeStamp:Date.now()},sT(n)?{direction:t.direction}:{}))},condition:function(e,t){var n,r=(0,t.getState)(),i=c.selectQueryEntry(r,e.queryCacheKey),o=null==i?void 0:i.fulfilledTimeStamp,u=e.originalArgs,s=null==i?void 0:i.originalArgs,l=a[e.endpointName],d=e.direction;return!!sj(e)||(null==i?void 0:i.status)!=="pending"&&(!!(p(e,r)||sF(l)&&null!=l&&null!=(n=l.forceRefetch)&&n.call(l,{currentArg:u,previousArg:s,endpointState:i,state:r}))||!(o&&!d))},dispatchConditionRejection:!0})},v=h(),g=h();function m(e){return function(t){var n,r;return(null==t||null==(n=t.meta)||null==(r=n.arg)?void 0:r.endpointName)===e}}return{queryThunk:v,mutationThunk:rP("".concat(n,"/executeMutation"),f,{getPendingMeta:function(){return sV({startedTimeStamp:Date.now()})}}),infiniteQueryThunk:g,prefetch:function(e,t,n){return function(r,a){var i="force"in n&&n.force,u="ifOlderThan"in n&&n.ifOlderThan,c=function(){var n=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return o.endpoints[e].initiate(t,{forceRefetch:n,isPrefetch:!0})},s=o.endpoints[e].select(t)(a());if(i)r(c());else if(u){var l=null==s?void 0:s.fulfilledTimeStamp;if(!l)return void r(c());(Number(new Date)-Number(new Date(l)))/1e3>=u&&r(c())}else r(c(!1))}},updateQueryData:function(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return function(a,i){var u=o.endpoints[e].select(t)(i()),c={patches:[],inversePatches:[],undo:function(){return a(o.util.patchQueryData(e,t,c.inversePatches,r))}};if("uninitialized"===u.status)return c;if("data"in u)if(nq(u.data)){var s,l,d,f=eQ(n7(u.data,n),3),p=f[0],h=f[1],v=f[2];(l=c.patches).push.apply(l,eB(h)),(d=c.inversePatches).push.apply(d,eB(v)),s=p}else s=n(u.data),c.patches.push({op:"replace",path:[],value:s}),c.inversePatches.push({op:"replace",path:[],value:u.data});return 0===c.patches.length||a(o.util.patchQueryData(e,t,c.patches,r)),c}},upsertQueryData:function(e,t,n){return function(r){return r(o.endpoints[e].initiate(t,eV({subscribe:!1,forceRefetch:!0},sP,function(){return{data:n}})))}},patchQueryData:function(e,t,n,r){return function(c,s){var l=a[e],d=i({queryArgs:t,endpointDefinition:l,endpointName:e});if(c(o.internalActions.queryResultPatched({queryCacheKey:d,patches:n})),r){var f=o.endpoints[e].select(t)(s()),p=sD(l.providesTags,f.data,void 0,t,{},u);c(o.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))}}},buildMatchThunkActions:function(e,t){return{matchPending:rS(rR(e),m(t)),matchFulfilled:rS(rO(e),m(t)),matchRejected:rS(rI(e),m(t))}}}}({baseQuery:a,reducerPath:i,context:r,api:e,serializeQueryArgs:o,assertTagType:f,selectors:p}),w=b.queryThunk,k=b.infiniteQueryThunk,S=b.mutationThunk,x=b.patchQueryData,C=b.updateQueryData,R=b.upsertQueryData,I=b.prefetch,q=b.buildMatchThunkActions,O=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,a=e.serializeQueryArgs,i=e.context,o=i.endpointDefinitions,u=i.apiUid,c=i.extractRehydrationInfo,s=i.hasRehydrationInfo,l=e.assertTagType,d=e.config,f=rl("".concat(t,"/resetApiState"));function p(e,t,n,r){var a;null!=e[a=t.queryCacheKey]||(e[a]={status:"uninitialized",endpointName:t.endpointName}),sN(e,t.queryCacheKey,function(e){e.status="pending",e.requestId=n&&e.requestId?e.requestId:r.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=r.startedTimeStamp,sT(o[r.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)})}function h(e,t,n,r){sN(e,t.arg.queryCacheKey,function(e){if(e.requestId===t.requestId||r){var a,i,u=o[t.arg.endpointName].merge;if(e.status="fulfilled",u)if(void 0!==e.data){var c=t.fulfilledTimeStamp,s=t.arg,l=t.baseQueryMeta,d=t.requestId,f=n8(e.data,function(e){return u(e,n,{arg:s.originalArgs,baseQueryMeta:l,fulfilledTimeStamp:c,requestId:d})});e.data=f}else e.data=n;else e.data=null==(i=o[t.arg.endpointName].structuralSharing)||i?function e(t,n){if(t===n||!(ng(t)&&ng(n)||Array.isArray(t)&&Array.isArray(n)))return n;for(var r=Object.keys(n),a=Object.keys(t),i=r.length===a.length,o=Array.isArray(n)?[]:{},u=0;u<r.length;u++){var c=r[u];o[c]=e(t[c],n[c]),i&&(i=t[c]===o[c])}return i?t:o}(nI(e.data)?(nI(a=e.data)||nC(15,a),a[nx].base_):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp}})}var v=rV({name:"".concat(t,"/queries"),initialState:sG,reducers:{removeQueryResult:{reducer:function(e,t){var n=t.payload.queryCacheKey;delete e[n]},prepare:rv()},cacheEntriesUpserted:{reducer:function(e,t){var n,r=eG(t.payload);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.queryDescription,o=a.value;p(e,i,!0,{arg:i,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),h(e,{arg:i,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},o,!0)}}catch(e){r.e(e)}finally{r.f()}},prepare:function(e){var t;return{payload:e.map(function(e){var t=e.endpointName,n=e.arg,r=e.value,i=o[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:a({queryArgs:n,endpointDefinition:i,endpointName:t})},value:r}}),meta:(eV(t={},rh,!0),eV(t,"requestId",rE()),eV(t,"timestamp",Date.now()),t)}}},queryResultPatched:{reducer:function(e,t){var n=t.payload,r=n.queryCacheKey,a=n.patches;sN(e,r,function(e){e.data=n9(e.data,a.concat())})},prepare:rv()}},extraReducers:function(e){e.addCase(n.pending,function(e,t){var n=t.meta,r=t.meta.arg,a=sj(r);p(e,r,a,n)}).addCase(n.fulfilled,function(e,t){var n=t.meta,r=t.payload,a=sj(n.arg);h(e,n,r,a)}).addCase(n.rejected,function(e,t){var n=t.meta,r=n.condition,a=n.arg,i=n.requestId,o=t.error,u=t.payload;sN(e,a.queryCacheKey,function(e){r||e.requestId===i&&(e.status="rejected",e.error=null!=u?u:o)})}).addMatcher(s,function(e,t){for(var n=c(t).queries,r=0,a=Object.entries(n);r<a.length;r++){var i=eQ(a[r],2),o=i[0],u=i[1];((null==u?void 0:u.status)==="fulfilled"||(null==u?void 0:u.status)==="rejected")&&(e[o]=u)}})}}),g=rV({name:"".concat(t,"/mutations"),initialState:sG,reducers:{removeMutationResult:{reducer:function(e,t){var n=sz(t.payload);n in e&&delete e[n]},prepare:rv()}},extraReducers:function(e){e.addCase(r.pending,function(e,t){var n=t.meta,r=t.meta,a=r.requestId,i=r.arg,o=r.startedTimeStamp;i.track&&(e[sz(n)]={requestId:a,status:"pending",endpointName:i.endpointName,startedTimeStamp:o})}).addCase(r.fulfilled,function(e,t){var n=t.payload,r=t.meta;r.arg.track&&sB(e,r,function(e){e.requestId===r.requestId&&(e.status="fulfilled",e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)})}).addCase(r.rejected,function(e,t){var n=t.payload,r=t.error,a=t.meta;a.arg.track&&sB(e,a,function(e){e.requestId===a.requestId&&(e.status="rejected",e.error=null!=n?n:r)})}).addMatcher(s,function(e,t){for(var n=c(t).mutations,r=0,a=Object.entries(n);r<a.length;r++){var i=eQ(a[r],2),o=i[0],u=i[1];((null==u?void 0:u.status)==="fulfilled"||(null==u?void 0:u.status)==="rejected")&&o!==(null==u?void 0:u.requestId)&&(e[o]=u)}})}}),m=rV({name:"".concat(t,"/invalidation"),initialState:sG,reducers:{updateProvidedBy:{reducer:function(e,t){for(var n=t.payload,r=n.queryCacheKey,a=n.providedTags,i=0,o=Object.values(e);i<o.length;i++)for(var u=o[i],c=0,s=Object.values(u);c<s.length;c++){var l=s[c],d=l.indexOf(r);-1!==d&&l.splice(d,1)}var f,p,h,v=eG(a);try{for(v.s();!(h=v.n()).done;){var g,m,y=h.value,b=y.type,w=y.id,k=null!=(g=(f=null!=(m=e[b])?m:e[b]={})[p=w||"__internal_without_id"])?g:f[p]=[];k.includes(r)||k.push(r)}}catch(e){v.e(e)}finally{v.f()}},prepare:rv()}},extraReducers:function(e){e.addCase(v.actions.removeQueryResult,function(e,t){for(var n=t.payload.queryCacheKey,r=0,a=Object.values(e);r<a.length;r++)for(var i=a[r],o=0,u=Object.values(i);o<u.length;o++){var c=u[o],s=c.indexOf(n);-1!==s&&c.splice(s,1)}}).addMatcher(s,function(e,t){for(var n=c(t).provided,r=0,a=Object.entries(n);r<a.length;r++)for(var i=eQ(a[r],2),o=i[0],u=i[1],s=0,l=Object.entries(u);s<l.length;s++){var d,f,p,h,v,g=eQ(l[s],2),m=g[0],y=g[1],b=null!=(p=(d=null!=(h=e[o])?h:e[o]={})[f=m||"__internal_without_id"])?p:d[f]=[],w=eG(y);try{for(w.s();!(v=w.n()).done;){var k=v.value;b.includes(k)||b.push(k)}}catch(e){w.e(e)}finally{w.f()}}}).addMatcher(rk(rO(n),rq(n)),function(e,t){var n=sQ(t,"providesTags",o,l),r=t.meta.arg.queryCacheKey;m.caseReducers.updateProvidedBy(e,m.actions.updateProvidedBy({queryCacheKey:r,providedTags:n}))})}}),y=rV({name:"".concat(t,"/subscriptions"),initialState:sG,reducers:{updateSubscriptionOptions:function(e,t){},unsubscribeQueryResult:function(e,t){},internal_getRTKQSubscriptions:function(){}}}),b=rV({name:"".concat(t,"/internalSubscriptions"),initialState:sG,reducers:{subscriptionsUpdated:{reducer:function(e,t){return n9(e,t.payload)},prepare:rv()}}}),w=rV({name:"".concat(t,"/config"),initialState:e_({online:("undefined"==typeof navigator?"undefined":eY(navigator))>"u"||void 0===navigator.onLine||navigator.onLine,focused:("undefined"==typeof document?"undefined":eY(document))>"u"||"hidden"!==document.visibilityState,middlewareRegistered:!1},d),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&u===n||"conflict"}},extraReducers:function(e){e.addCase(sA,function(e){e.online=!0}).addCase(sE,function(e){e.online=!1}).addCase(sq,function(e){e.focused=!0}).addCase(sO,function(e){e.focused=!1}).addMatcher(s,function(e){return e_({},e)})}}),k=nm({queries:v.reducer,mutations:g.reducer,provided:m.reducer,subscriptions:b.reducer,config:w.reducer});return{reducer:function(e,t){return k(f.match(t)?void 0:e,t)},actions:e_(e_(e_(e_(e_(e_(e_({},w.actions),v.actions),y.actions),b.actions),g.actions),m.actions),{},{resetApiState:f})}}({context:r,queryThunk:w,infiniteQueryThunk:k,mutationThunk:S,serializeQueryArgs:o,reducerPath:i,assertTagType:f,config:{refetchOnFocus:s,refetchOnReconnect:l,refetchOnMountOrArgChange:c,keepUnusedDataFor:u,reducerPath:i,invalidationBehavior:d}}),A=O.reducer,E=O.actions;sZ(e.util,{patchQueryData:x,updateQueryData:C,upsertQueryData:R,prefetch:I,resetApiState:E.resetApiState,upsertQueryEntries:E.cacheEntriesUpserted}),sZ(e.internalActions,E);var F=function(e){var t=e.reducerPath,n=(e.queryThunk,e.api),r=e.context,a=r.apiUid,i={invalidateTags:rl("".concat(t,"/invalidateTags"))},o=function(e){return e.type.startsWith("".concat(t,"/"))},u=[s4,s0,s3,s5,s2,s6];return{middleware:function(i){var s=!1,l=e_(e_({},e),{},{internalState:{currentSubscriptions:{}},refetchQuery:c,isThisApiSliceAction:o}),d=u.map(function(e){return e(l)}),f=sX(l),p=s8(l);return function(e){return function(u){if(!nw(u))return e(u);s||(s=!0,i.dispatch(n.internalActions.middlewareRegistered(a)));var c,l=e_(e_({},i),{},{next:e}),h=i.getState(),v=eQ(f(u,l,h),2),g=v[0],m=v[1];if(c=g?e(u):m,i.getState()[t]&&(p(u,l,h),o(u)||r.hasRehydrationInfo(u))){var y,b=eG(d);try{for(b.s();!(y=b.n()).done;)(0,y.value)(u,l,h)}catch(e){b.e(e)}finally{b.f()}}return c}}},actions:i};function c(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}({reducerPath:i,context:r,queryThunk:w,mutationThunk:S,infiniteQueryThunk:k,api:e,assertTagType:f,selectors:p}),T=F.middleware,D=F.actions;sZ(e.util,D),sZ(e,{reducer:A,middleware:T});var M=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.infiniteQueryThunk,a=e.mutationThunk,i=e.api,o=e.context,u=new Map,c=new Map,s=i.internalActions,l=s.unsubscribeQueryResult,d=s.removeMutationResult,f=s.updateSubscriptionOptions;return{buildInitiateQuery:function(e,t){return p(e,t)},buildInitiateInfiniteQuery:function(e,t){return p(e,t)},buildInitiateMutation:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.track,i=void 0===r||r,o=n.fixedCacheKey;return function(n,r){var u,s,l=n(a({type:"mutation",endpointName:e,originalArgs:t,track:i,fixedCacheKey:o})),f=l.requestId,p=l.abort,h=l.unwrap,v=Object.assign((u=l.unwrap().then(function(e){return{data:e}}),s=function(e){return{error:e}},u.catch(s)),{arg:l.arg,requestId:f,abort:p,unwrap:h,reset:function(){n(d({requestId:f,fixedCacheKey:o}))}}),g=c.get(n)||{};return c.set(n,g),g[f]=v,v.then(function(){delete g[f],sv(g)||c.delete(n)}),o&&(g[o]=v,v.then(function(){g[o]===v&&(delete g[o],sv(g)||c.delete(n))})),v}}},getRunningQueryThunk:function(e,n){return function(r){var a,i=t({queryArgs:n,endpointDefinition:o.endpointDefinitions[e],endpointName:e});return null==(a=u.get(r))?void 0:a[i]}},getRunningMutationThunk:function(e,t){return function(e){var n;return null==(n=c.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return function(e){return Object.values(u.get(e)||{}).filter(sm)}},getRunningMutationsThunk:function(){return function(e){return Object.values(c.get(e)||{}).filter(sm)}}};function p(e,a){return function o(c){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=s.subscribe,p=void 0===d||d,h=s.forceRefetch,v=s.subscriptionOptions,g=s[sP],m=eN(s,["subscribe","forceRefetch","subscriptionOptions",sP].map(ez));return function(s,d){var y,b,w=t({queryArgs:c,endpointDefinition:a,endpointName:e}),k=e_(e_({},m),{},eV({type:"query",subscribe:p,forceRefetch:h,subscriptionOptions:v,endpointName:e,originalArgs:c,queryCacheKey:w},sP,g));if(sF(a))b=n(k);else{var S=m.direction,x=m.initialPageParam;b=r(e_(e_({},k),{},{direction:S,initialPageParam:x}))}var C=i.endpoints[e].select(c),R=s(b),I=C(d()),q=R.requestId,O=R.abort,A=I.requestId!==q,E=null==(y=u.get(s))?void 0:y[w],F=function(){return C(d())},T=Object.assign(g?R.then(F):A&&!E?Promise.resolve(I):Promise.all([E,R]).then(F),{arg:c,requestId:q,subscriptionOptions:v,queryCacheKey:w,abort:O,unwrap:function(){return eL(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T;case 2:if(!(t=e.sent).isError){e.next=5;break}throw t.error;case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}},e)}))()},refetch:function(){return s(o(c,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){p&&s(l({queryCacheKey:w,requestId:q}))},updateSubscriptionOptions:function(t){T.subscriptionOptions=t,s(f({endpointName:e,requestId:q,queryCacheKey:w,options:t}))}});if(!E&&!A&&!g){var D,M=(D={},u.has(s)?u.get(s):u.set(s,D).get(s));M[w]=T,T.then(function(){delete M[w],sv(M)||u.delete(s)})}return T}}}}({queryThunk:w,mutationThunk:S,infiniteQueryThunk:k,api:e,serializeQueryArgs:o,context:r}),P=M.buildInitiateQuery,j=M.buildInitiateInfiniteQuery,_=M.buildInitiateMutation,V=M.getRunningMutationThunk,U=M.getRunningMutationsThunk,L=M.getRunningQueriesThunk,Q=M.getRunningQueryThunk;return sZ(e.util,{getRunningMutationThunk:V,getRunningMutationsThunk:U,getRunningQueryThunk:Q,getRunningQueriesThunk:L}),{name:s7,injectEndpoint:function(t,n){var r,a,i=null!=(r=(a=e.endpoints)[t])?r:a[t]={};sF(n)&&sZ(i,{name:t,select:g(t,n),initiate:P(t,n)},q(w,t)),"mutation"===n.type&&sZ(i,{name:t,select:y(),initiate:_(t)},q(S,t)),sT(n)&&sZ(i,{name:t,select:m(t,n),initiate:j(t,n)},q(w,t))}}}}}())({reducerPath:"answer",baseQuery:sI((P=eL(regeneratorRuntime.mark(function e(t,n,r){var a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(i=(a=n.getState()).configuration).accessToken,u=i.environment,c=i.organizationId,s=a.generatedAnswer.answerConfigurationId,l=e_(e_({},t),{},{headers:e_(e_({},(null==t?void 0:t.headers)||{}),{},{Authorization:"Bearer ".concat(o)})}),e.prev=1,d=tQ(c,u),e.abrupt("return",{data:(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.baseUrl,r=t.prepareHeaders,a=void 0===r?function(e){return e}:r,i=t.fetchFn,o=void 0===i?sy:i,u=t.paramsSerializer,c=t.isJsonContentType,s=void 0===c?sw:c,l=t.jsonContentType,d=void 0===l?"application/json":l,f=t.jsonReplacer,p=t.timeout,h=t.responseHandler,v=t.validateStatus,g=eN(t,ep);return("undefined"==typeof fetch?"undefined":eY(fetch))>"u"&&o===sy&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),e=eL(regeneratorRuntime.mark(function e(t,r,i){var c,l,y,b,w,k,S,x,C,R,I,q,O,A,E,F,T,D,M,P,j,_,V,U,L,Q,N,z,B,G,$,H,Y,W;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.getState,l=r.extra,y=r.endpoint,b=r.forced,w=r.type,x=(S="string"==typeof t?{url:t}:t).url,R=void 0===(C=S.headers)?new Headers(g.headers):C,q=void 0===(I=S.params)?void 0:I,A=void 0===(O=S.responseHandler)?null!=h?h:"json":O,F=void 0===(E=S.validateStatus)?null!=v?v:sb:E,D=void 0===(T=S.timeout)?p:T,M=eN(S,eh),j=r.signal,D&&(P=new AbortController,r.signal.addEventListener("abort",P.abort),j=P.signal),_=e_(e_({},g),{},{signal:j},M),R=new Headers(sk(R)),e.next=6,a(R,{getState:c,arg:t,extra:l,endpoint:y,forced:b,type:w,extraOptions:i});case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=R;case 9:return _.headers=e.t0,V=function(e){return"object"==eY(e)&&(ng(e)||Array.isArray(e)||"function"==typeof e.toJSON)},!_.headers.has("content-type")&&V(_.body)&&_.headers.set("content-type",d),V(_.body)&&s(_.headers)&&(_.body=JSON.stringify(_.body,f)),q&&(U=~x.indexOf("?")?"&":"?",L=u?u(q):new URLSearchParams(sk(q)),x+=U+L),Q=new Request(x=function(e,t){if(!e)return t;if(!t)return e;if(n=t,RegExp("(^|:)//").test(n))return t;var n,r=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=e.replace(/\/$/,""),t=t.replace(/^\//,""),"".concat(e).concat(r).concat(t)}(n,x),_),k={request:new Request(x,_)},z=!1,B=P&&setTimeout(function(){z=!0,P.abort()},D),e.prev=16,e.next=19,o(Q);case 19:N=e.sent,e.next=25;break;case 22:return e.prev=22,e.t1=e.catch(16),e.abrupt("return",{error:{status:z?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(e.t1)},meta:k});case 25:return e.prev=25,B&&clearTimeout(B),null==(G=P)||G.signal.removeEventListener("abort",P.abort),e.finish(25);case 28:return $=N.clone(),k.response=$,Y="",e.prev=31,e.next=34,Promise.all([(function(e,t){return m.apply(this,arguments)})(N,A).then(function(e){return H=e},function(e){return W=e}),$.text().then(function(e){return Y=e},function(){})]);case 34:if(!W){e.next=36;break}throw W;case 36:e.next=41;break;case 38:return e.prev=38,e.t2=e.catch(31),e.abrupt("return",{error:{status:"PARSING_ERROR",originalStatus:N.status,data:Y,error:String(e.t2)},meta:k});case 41:return e.abrupt("return",F(N,H)?{data:H,meta:k}:{error:{status:N.status,data:H},meta:k});case 42:case"end":return e.stop()}},e,null,[[16,22,25,28],[31,38]])})),function(t,n,r){return e.apply(this,arguments)};function m(){return(m=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n){e.next=2;break}return e.abrupt("return",n(t));case 2:if("content-type"===n&&(n=s(t.headers)?"json":"text"),"json"!==n){e.next=7;break}return e.next=5,t.text();case 5:return r=e.sent,e.abrupt("return",r.length?JSON.parse(r):null);case 7:return e.abrupt("return",t.text());case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}})({baseUrl:"".concat(d,"/rest/organizations/").concat(c,"/answer/v1/configs/").concat(s)})(l,n,r)});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 9:case"end":return e.stop()}},e,null,[[1,6]])})),function(e,t,n){return P.apply(this,arguments)}),{maxRetries:3}),endpoints:function(){return{}}}),le=function(e,t){e.contentFormat=t.contentFormat,e.isStreaming=!0,e.isLoading=!1},lt=function(e,t){void 0===e.answer?e.answer=t.textDelta:"string"==typeof t.textDelta&&(e.answer=e.answer.concat(t.textDelta))},ln=function(e,t){e.citations=t.citations},lr=function(e,t){e.generated=t.answerGenerated,e.isStreaming=!1},la=function(e,t){e.error={message:t.errorMessage,code:t.code},e.isStreaming=!1,e.isLoading=!1,console.error("".concat(t.errorMessage," - code ").concat(t.code))},li=function(e,t,n){var r,a=JSON.parse(e.data);"ERROR"===a.finishReason&&a.errorMessage&&la(t,a);var i=a.payload.length?JSON.parse(a.payload):{};switch(a.payloadType){case"genqa.headerMessageType":i.contentFormat&&(le(t,i),n(so(i.contentFormat)));break;case"genqa.messageType":i.textDelta&&(lt(t,i),n(c2({textDelta:i.textDelta})));break;case"genqa.citationsType":i.citations&&(ln(t,i),n(c4({citations:i.citations})));break;case"genqa.endOfStreamType":lr(t,i),n(cH(null!=(r=i.answerGenerated)&&r))}},lo=s9.injectEndpoints({overrideExisting:!0,endpoints:function(e){return{getAnswer:e.query({queryFn:function(){return{data:{contentFormat:void 0,answer:void 0,citations:void 0,error:void 0,generated:!1,isStreaming:!0,isLoading:!0}}},onCacheEntryAdded:function(e,t){return eL(regeneratorRuntime.mark(function n(){var r,a,i,o,u,c,s,l,d,f,p,h,v,g;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.getState,a=t.cacheDataLoaded,i=t.updateCachedData,o=t.dispatch,n.next=3,a;case 3:return c=(u=r()).configuration,s=u.generatedAnswer,l=u.insightConfiguration,d=c.organizationId,f=c.environment,p=c.accessToken,h=tQ(d,f),v="".concat(h,"/rest/organizations/").concat(d,"/insight/v1/configs/").concat(null==l?void 0:l.insightId,"/answer/").concat(s.answerConfigurationId,"/generate"),g="".concat(h,"/rest/organizations/").concat(d,"/answer/v1/configs/").concat(s.answerConfigurationId,"/generate"),n.next=6,tO(l?v:g,{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(p),Accept:"application/json","Content-Type":"application/json","Accept-Encoding":"*"},fetch:fetch,onopen:function(){var e=eL(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.headers.get("x-answer-id"))&&i(function(e){e.answerId=n});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onmessage:function(e){i(function(t){li(e,t,o)})},onerror:function(e){throw e},onclose:function(){i(function(e){o(sd(!e.generated))})}});case 6:case"end":return n.stop()}},n)}))()}})}}}),lu=(ri(function(e){var t;return null==(t=cN(e))?void 0:t.q},function(e){return e.search.requestId},function(e,t){return{q:e,requestId:t}}),{}),lc=function(e,t){var n;return e_(e_({},lu),{},eV({},e,null==(n=ce(t))?void 0:n.map(function(e){return uP(e,uM())}).sort(function(e,t){return e.facetId>t.facetId?1:t.facetId>e.facetId?-1:0})))},ls=function(e,t){var n,r,a,i=null==(n=cN(e))?void 0:n.q,o=sp(e),u=sf(e),c=null!=(r=c$(e))?r:[];return i&&"fetch"===t&&(lu=lc(i,e)),e_(e_(e_(e_(e_(e_(e_({q:i,pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:c}}},(null==o?void 0:o.length)&&{searchHub:o}),(null==u?void 0:u.length)&&{pipeline:u}),(null==(a=lu[i])?void 0:a.length)&&{facets:lu[i]}),e.fields&&{fieldsToInclude:e.fields.fieldsToInclude}),e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&"next"===e.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&"legacy"===e.didYouMean.queryCorrectionMode}),e.pagination&&{numberOfResults:e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>5e3?5e3-e.pagination.firstResult:e.pagination.numberOfResults:void 0,firstResult:e.pagination.firstResult}),{},{tab:e.configuration.analytics.originLevel2})},ll=function(e){return lo.endpoints.getAnswer.select(ls(e,"select"))(e)},ld=rb(r5,function(e){return e});function lf(){return("undefined"==typeof window?"undefined":eY(window))<"u"&&("undefined"==typeof document?"undefined":eY(document))<"u"}var lp=function(e){return function(t){return function(n){a=null==(r=n.payload)?void 0:r.analyticsAction,"type"in n&&!(0,eo.le)(a)&&(i=n.payload.analyticsAction,delete n.payload.analyticsAction);var r,a,i,o=t(n);return"type"in n&&("search/executeSearch/fullfilled"===n.type&&void 0===i&&console.error("No analytics action associated with search:",n),"recommendation/get/fullfilled"===n.type&&void 0===i&&console.error("No analytics action associated with recommendation:",n),"productRecommendations/get/fullfilled"===n.type&&void 0===i&&console.error("No analytics action associated with product recommendation:",n)),void 0!==i&&e.dispatch(i),o}}},lh=e4(tu(),1),lv=rl("tab/register",function(e){return nc(e,new eo.ld({values:{id:ne,expression:nn}}))}),lg=rl("tab/updateActiveTab",function(e){return nc(e,ne)}),lm=e4(ta(),1),ly=e4(tc(),1),lb=e4(ts(),1);lm.default.extend(lb.default),lm.default.extend(ly.default);var lw=function(){return{organizationId:"",accessToken:"",search:{locale:"en-US",timezone:lm.default.tz.guess(),authenticationProviders:[]},analytics:{enabled:!0,originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:"",trackingId:"",analyticsMode:"next",source:{}},knowledge:{answerConfigurationId:""},environment:"prod"}},lk=rb(lw(),function(e){return e.addCase(oD,function(e,t){var n,r,a;n=e,r=t.payload,(0,eo.le)(r.accessToken)||(n.accessToken=r.accessToken),n.environment=null!=(a=r.environment)?a:"prod",(0,eo.le)(r.organizationId)||(n.organizationId=r.organizationId)}).addCase(oM,function(e,t){var n,r;n=e,r=t.payload,(0,eo.le)(r.proxyBaseUrl)||(n.search.apiBaseUrl=r.proxyBaseUrl),(0,eo.le)(r.locale)||(n.search.locale=r.locale),(0,eo.le)(r.timezone)||(n.search.timezone=r.timezone),(0,eo.le)(r.authenticationProviders)||(n.search.authenticationProviders=r.authenticationProviders)}).addCase(oj,function(e,t){var n,r,a;n=e,r=t.payload,(0,eo.le)(r.enabled)||(n.analytics.enabled=r.enabled),(0,eo.le)(r.originContext)||(n.analytics.originContext=r.originContext),(0,eo.le)(r.originLevel2)||(n.analytics.originLevel2=r.originLevel2),(0,eo.le)(r.originLevel3)||(n.analytics.originLevel3=r.originLevel3),(0,eo.le)(r.proxyBaseUrl)||(n.analytics.apiBaseUrl=r.proxyBaseUrl),(0,eo.le)(r.trackingId)||(n.analytics.trackingId=r.trackingId),(0,eo.le)(r.analyticsMode)||(n.analytics.analyticsMode=r.analyticsMode),(0,eo.le)(r.source)||(n.analytics.source=r.source),(a=(0,lh.default)())&&(n.analytics.analyticsMode="next",n.analytics.trackingId=a),(0,eo.le)(r.runtimeEnvironment)||(n.analytics.runtimeEnvironment=r.runtimeEnvironment),(0,eo.le)(r.anonymous)||(n.analytics.anonymous=r.anonymous),(0,eo.le)(r.deviceId)||(n.analytics.deviceId=r.deviceId),(0,eo.le)(r.userDisplayName)||(n.analytics.userDisplayName=r.userDisplayName),(0,eo.le)(r.documentLocation)||(n.analytics.documentLocation=r.documentLocation)}).addCase(o_,function(e){e.analytics.enabled=!1}).addCase(oV,function(e){e.analytics.enabled=!0}).addCase(oU,function(e,t){e.analytics.originLevel2=t.payload.originLevel2}).addCase(oL,function(e,t){e.analytics.originLevel3=t.payload.originLevel3}).addCase(lg,function(e,t){e.analytics.originLevel2=t.payload}).addCase(oN,function(e,t){e.analytics.originLevel2=t.payload.tab||e.analytics.originLevel2})}),lS=function(){return function(e){return function(t){return e(t.instantlyCallable?t():t)}}},lx=function(e){return{referrer:document.referrer,userAgent:navigator.userAgent,location:window.location.href,clientId:e}},lC=function(){return{referrer:null,userAgent:null,location:null,clientId:""}};function lR(e,t,n){void 0===t&&(t=50),void 0===n&&(n={});var r,a,i,o=null!=(r=n.isImmediate)&&r,u=null!=(a=n.callback)&&a,c=n.maxWait,s=Date.now(),l=[],d=function(){var n=[].slice.call(arguments),r=this;return new Promise(function(a,d){var f=o&&void 0===i;if(void 0!==i&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,s=Date.now(),!o){var t=e.apply(r,n);u&&u(t),l.forEach(function(e){return(0,e.resolve)(t)}),l=[]}},function(){if(void 0!==c){var e=Date.now()-s;if(e+t>=c)return c-e}return t}()),f){var p=e.apply(r,n);return u&&u(p),a(p)}l.push({resolve:a,reject:d})})};return d.cancel=function(e){void 0!==i&&clearTimeout(i),l.forEach(function(t){return(0,t.reject)(e)}),l=[]},d}function lI(){return(lI=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","");case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}var lq=function(e){eR(n,e);var t=eI(n);function n(e){var r;return eD(this,n),(r=t.call(this,e)).name="InvalidEngineConfiguration",r}return eP(n)}(eO(Error)),lO=e4(td(),1),lA=function(e,t,n,r,a,i){var o=e[t];(0,eo.le)(o)||(0,eo.le)(a)||a!==o&&a!==r&&(i.warn("Mismatch on access token (JWT Token) ".concat(t," and engine configuration.")),i.warn("To remove this warning, make sure that access token value [".concat(o,"] matches engine configuration value [").concat(n,"]")))},lE=function(e,t){return!((0,eo.le)(e)||t===e)},lF=function(e){try{var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=atob(t);if(!n)return!1;var r=decodeURIComponent(n.split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch(e){return!1}},lT=function(e,t){return lE(e.searchHub,t.searchHub)&&(t.searchHub=e.searchHub),t},lD=function(e,t,n,r){return lA(e,"searchHub",t.searchHub,iP(),n,r),lT(e,t)},lM=function(e,t){return lE(e.pipeline,t.pipeline)&&(t.pipeline=e.pipeline),t},lP=function(e,t,n,r){return lA(e,"pipeline",t.pipeline,od(),n,r),lM(e,t)},lj=function(e,t){return lE(e.userDisplayName,t.configuration.analytics.userDisplayName)&&(t.configuration.analytics.userDisplayName=e.userDisplayName),t},l_={organizationId:ne,accessToken:ne,name:new eo.Gm({required:!1,emptyAllowed:!1}),analytics:new eo.ld({options:{required:!1},values:{enabled:new eo.Lb({required:!1}),originContext:new eo.Gm({required:!1}),originLevel2:new eo.Gm({required:!1}),originLevel3:new eo.Gm({required:!1}),analyticsMode:new eo.Gm({constrainTo:["legacy","next"],required:!1,default:"next"}),proxyBaseUrl:new eo.Gm({required:!1,url:!0}),trackingId:new eo.Gm({required:!1,emptyAllowed:!1,regex:/^[a-zA-Z0-9_\-.]{1,100}$/})}}),environment:new eo.Gm({required:!1,default:"prod",constrainTo:["prod","hipaa","stg","dev"]})},lV=new eo.V_(e_(e_({},l_),{},{search:new eo.ld({options:{required:!1},values:{pipeline:new eo.Gm({required:!1,emptyAllowed:!0}),searchHub:nt,locale:nt,timezone:nt,authenticationProviders:new eo.Ms({required:!1,each:ne}),proxyBaseUrl:new eo.Gm({required:!1,url:!0})}})})),lU={debug:oH,pipeline:oX,searchHub:o1,search:cQ};function lL(e){var t,n,r,a,i,o,u,c,s,l,d,f,p,h,v,g,m,y,b,w,k,S,x,C,R,I,q,O,A,E,F,T,D,M,P,j,_,V,U,L,Q,N,z,B=(F=e.loggerOptions,(0,lO.pino)({name:"@coveo/headless",level:(null==F?void 0:F.level)||"warn",formatters:{log:null==F?void 0:F.logFormatter}})),G=e.configuration,$=G,H=B;try{lV.validate($)}catch(e){throw H.error(e,"Search engine configuration error"),e}var Y=(t=G,n=B,r=t.search,new t5({logger:n,preprocessRequest:t.preprocessRequest||tz,postprocessSearchResponseMiddleware:(null==r?void 0:r.preprocessSearchResponseMiddleware)||tB,postprocessFacetSearchResponseMiddleware:(null==r?void 0:r.preprocessFacetSearchResponseMiddleware)||tG,postprocessQuerySuggestResponseMiddleware:(null==r?void 0:r.preprocessQuerySuggestResponseMiddleware)||t$})),W=new tM({logger:B}),K=e_(e_({},{analyticsClientMiddleware:(null==(a=G.analytics)?void 0:a.analyticsClientMiddleware)||function(e,t){return t},validatePayload:nu,preprocessRequest:G.preprocessRequest||tz,logger:B}),{},{apiClient:Y,streamingClient:W}),J=(T=e_(e_({},e),{},{reducers:lU,crossReducer:rb({},function(e){e.addCase(o0,function(e,t){var n=lF(e.configuration.accessToken);return n?lD(n,e,t.payload,B):e}).addCase(oZ,function(e,t){var n=lF(e.configuration.accessToken);return n?lP(n,e,t.payload,B):e}).addCase(oD,function(e,t){if(e.configuration.accessToken!==t.payload.accessToken)return e;var n=t.payload.accessToken;if(!n)return e;var r=lF(n);return r?[lM,lT,lj].reduce(function(e,t){return t(r,e)},e):e}).addCase(oM,function(e,t){var n,r=lF(e.configuration.accessToken);if(!r)return e;var a=lD(r,e,t.payload.searchHub,B);return lP(r,a,null==(n=t.payload)?void 0:n.pipeline,B)}).addCase(oj,function(e,t){var n,r=lF(e.configuration.accessToken);return r?(n=t.payload.userDisplayName,lA(r,"userDisplayName",e.configuration.analytics.userDisplayName,lw().analytics.userDisplayName,n,B),lj(r,e)):e})})}),D=e_(e_({},T.reducers),{},{configuration:lk,version:ld}),i=e_(e_({},T),{},{reducers:D}),o=K,u=lk,p=(c=e_(e_({},i.reducers),{},{configurationReducer:u}),s=null!=(f=i.preloadedState)?f:{},d=e_({},c),{get combinedReducer(){var Z;return Z=nm(e_(e_({},function(e){var t,n={},r=eG(e);try{for(r.s();!(t=r.n()).done;){var a=eQ(t.value,2),i=a[0],o=a[1];n[i]=o}}catch(e){r.e(e)}finally{r.f()}return n}(Object.entries(s).filter(function(e){return!(eQ(e,1)[0]in d)}).map(function(e){var t=eQ(e,2),n=t[0],r=t[1];return[n,function(){return r}]}))),d)),function(e,t){var n=Z(e,t);return l?l(n,t):n}},containsAll:function(e){return Object.keys(e).every(function(e){return e in d})},add:function(e){Object.keys(e).filter(function(e){return!(e in d)}).forEach(function(t){return d[t]=e[t]})},addCrossReducer:function(e){l=e}}),i.crossReducer&&p.addCrossReducer(i.crossReducer),I=o.logger,q=function(){var e="";try{e=r8(E.state).getMeta("").clientId}catch(e){I.warn("Error while obtaining clientID from relay",e)}return e},O=e_(e_({},o),{},{get relay(){return r8(E.state)},get navigatorContext(){return i.navigatorContextProvider?i.navigatorContextProvider():lf()?lx(q()):lC()}}),M=E={addReducers:function(e){p.containsAll(e)||(p.add(e),A.replaceReducer(p.combinedReducer))},dispatch:(A=(h=i,v=O,g=p,x=h.preloadedState,C=h.configuration.name||"coveo-headless",R=function(e,t){var n,r,a=e.configuration.renewAccessToken;return[lS,(n=0,r=lR(function(){return n=0},500),function(e){return function(i){var o;return o=eL(regeneratorRuntime.mark(function o(u){var c,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("function"==typeof u){o.next=2;break}return o.abrupt("return",i(u));case 2:return o.next=4,i(u);case 4:if(function(e){var t;return(null==e||null==(t=e.error)?void 0:t.name)===new t_().name}(c=o.sent)){o.next=7;break}return o.abrupt("return",c);case 7:if("function"==typeof a){o.next=9;break}return o.abrupt("return",(t.warn("Unable to renew the expired token because a renew function was not provided. Please specify the #renewAccessToken option when initializing the engine."),c));case 9:if(!(n>=5)){o.next=11;break}return o.abrupt("return",(t.warn("Attempted to renew the token but was not successful. Please check the #renewAccessToken function."),c));case 11:return n++,r(),o.next=14,function(e){return lI.apply(this,arguments)}(a);case 14:s=o.sent,e.dispatch(oD({accessToken:s})),e.dispatch(u);case 16:case"end":return o.stop()}},o)})),function(e){return o.apply(this,arguments)}}}),function(){return function(e){return function(n){if(!n.error)return e(n);var r,a,i,o=n.error,u=[null==(r=n.payload)?void 0:r.errorCode,null==(a=n.payload)?void 0:a.message].filter(Boolean).join(" - ");if(null!=(i=n.payload)&&i.ignored||t.error(u||o.stack||o.message||o.name||"Error","Action dispatch error ".concat(n.type),n),"SchemaValidationError"!==n.error.name)return e(n)}}},lp].concat(lo.middleware,e.middlewares||[])}(h,v.logger),y=(m={preloadedState:x,reducer:g.combinedReducer,middlewares:R,thunkExtraArguments:v,name:C}).reducer,b=m.preloadedState,k=void 0===(w=m.middlewares)?[]:w,S=m.thunkExtraArguments,function(e){var t,n,r,a=function(e){var t=null!=e?e:{},n=t.thunk,r=void 0===n||n,a=(t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,new rd);return r&&("boolean"==typeof r?a.push(rc):a.push(ru(r.extraArgument))),a},i=e||{},o=i.reducer,u=void 0===o?void 0:o,c=i.middleware,s=i.devTools,l=void 0===s||s,d=i.preloadedState,f=i.enhancers,p=void 0===f?void 0:f;if("function"==typeof u)r=u;else if(ng(u))r=nm(u);else throw Error(rG(1));n="function"==typeof c?c(a):a();var h=ny;l&&(h=rs(e_({trace:!1},"object"==eY(l)&&l)));var v=(t=nb.apply(void 0,eB(n)),function(e){var n=(null!=e?e:{}).autoBatch,r=void 0===n||n,a=new rd(t);return r&&a.push(rm("object"==eY(r)?r:void 0)),a}),g="function"==typeof p?p(v):v();return function e(t,n,r){if("function"!=typeof t)throw Error(nf(2));if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(nf(0));if("function"==typeof n&&eY(r)>"u"&&(r=n,n=void 0),"u">eY(r)){if("function"!=typeof r)throw Error(nf(1));return r(e)(t,n)}var a=t,i=n,o=new Map,u=o,c=0,s=!1;function l(){u===o&&(u=new Map,o.forEach(function(e,t){u.set(t,e)}))}function d(){if(s)throw Error(nf(3));return i}function f(e){if("function"!=typeof e)throw Error(nf(4));if(s)throw Error(nf(5));var t=!0;l();var n=c++;return u.set(n,e),function(){if(t){if(s)throw Error(nf(6));t=!1,l(),u.delete(n),o=null}}}function p(e){if(!ng(e))throw Error(nf(7));if(eY(e.type)>"u")throw Error(nf(8));if("string"!=typeof e.type)throw Error(nf(17));if(s)throw Error(nf(9));try{s=!0,i=a(i,e)}finally{s=!1}return(o=u).forEach(function(e){e()}),e}return p({type:nv.INIT}),eV({dispatch:p,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw Error(nf(10));a=e,p({type:nv.REPLACE})}},np,function(){return eV({subscribe:function(e){if("object"!=eY(e)||null===e)throw Error(nf(11));function t(){e.next&&e.next(d())}return t(),{unsubscribe:f(t)}}},np,function(){return this})})}(r,void 0===d?void 0:d,h.apply(void 0,eB(g)))}({reducer:y,preloadedState:b,devTools:{stateSanitizer:function(e){return e.history?e_(e_({},e),{},{history:"<<OMIT>>"}):e},name:m.name,shouldHotReload:!1},middleware:function(e){var t,n;return(t=e({thunk:{extraArgument:S}})).prepend.apply(t,eB(k)).concat((n=S.logger,function(e){return function(t){return function(r){return n.debug({action:r,nextState:e.getState()},"Action dispatched: ".concat(r.type)),t(r)}}}))}}))).dispatch,subscribe:A.subscribe,enableAnalytics:function(){A.dispatch(oV())},disableAnalytics:function(){A.dispatch(o_())},get state(){return A.getState()},get relay(){return r8(this.state)},get navigatorContext(){return i.navigatorContextProvider?i.navigatorContextProvider():lf()?lx(q()):lC()},logger:I,store:A},j=(P=T.configuration).accessToken,_=P.environment,V=P.organizationId,M.dispatch(oD({accessToken:j,environment:_,organizationId:V})),(U=function(e,t){var n=e.analytics,r=null!=n?n:{},a=(r.analyticsClientMiddleware,eN(r,ev)),i=e_(e_({},a),(null==n?void 0:n.proxyBaseUrl)&&{apiBaseUrl:n.proxyBaseUrl,nexApiBaseUrl:n.proxyBaseUrl});if("next"!==i.analyticsMode&&function(){if(("undefined"==typeof navigator?"undefined":eY(navigator))>"u"||("undefined"==typeof window?"undefined":eY(window))>"u")return!1;var e=navigator,t=window;return[e.globalPrivacyControl,e.doNotTrack,e.msDoNotTrack,t.doNotTrack].some(function(e){return tm.has(e)})}())return t.info("Analytics disabled since doNotTrack is active."),e_(e_({},i),{},{enabled:!1});if("next"===i.analyticsMode&&!a.trackingId)throw new lq('analytics.trackingId is required when analytics.analyticsMode="next"');return i}(T.configuration,M.logger))&&M.dispatch(oj(U)),M),X=(L=G.search,Q=G.organizationId,N=G.environment,z=null!=L&&L.proxyBaseUrl?L.proxyBaseUrl:tN(Q,N),e_(e_({},L),{},{apiBaseUrl:z}));return X&&J.dispatch(oM(X)),e_(e_({},J),{},{get state(){return J.state},executeFirstSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oq();if(!c_(J.state)){var t=cq({legacy:e,next:{actionCause:"interfaceLoad"}});J.dispatch(t)}},executeFirstSearchAfterStandaloneSearchBoxRedirect:function(e){var t=e.cause,n=e.metadata;if(!c_(J.state)){var r=n&&"omniboxFromLink"===t,a=cq({legacy:r?oE(n):oA(),next:r?{actionCause:"omniboxFromLink"}:{actionCause:"searchFromLink"}});J.dispatch(a)}}})}function lQ(e){var t,n=new Map,r=function(){return 0===n.size},a=function(e){try{var n=JSON.stringify(e),r=t!==n;return t=n,r}catch(e){return console.warn('Could not detect if state has changed, check the controller "get state method"',e),!0}};return{subscribe:function(i){var o=this;i();var u,c=Symbol();return r()&&(t=JSON.stringify(this.state),u=e.subscribe(function(){a(o.state)&&n.forEach(function(e){return e()})})),n.set(c,i),function(){n.delete(c),r()&&u&&u()}},get state(){return{}}}}var lN=rl("fields/registerFieldsToInclude",function(e){return nc(e,na)}),lz=rl("fields/fetchall/enable"),lB=rl("fields/fetchall/disable"),lG=rP("fields/fetchDescription",(j=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,a=n.getState,i=n.rejectWithValue,c=(u=(o=a()).configuration).accessToken,s=u.environment,l=u.organizationId,d=o.configuration.search.apiBaseUrl,e.next=9,r.apiClient.fieldDescriptions({accessToken:c,organizationId:l,url:null!=d?d:tN(l,s)});case 9:return f=e.sent,e.abrupt("return",t8(f)?i(f.error):f.success.fields);case 11:case"end":return e.stop()}},e)})),function(e,t){return j.apply(this,arguments)})),l$={collectionField:new eo.Gm({emptyAllowed:!1,required:!1}),parentField:new eo.Gm({emptyAllowed:!1,required:!1}),childField:new eo.Gm({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new eo.bt({min:0,required:!1})},lH=rl("folding/register",function(e){return nc(e,l$)}),lY=rP("folding/loadCollection",(_=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.rejectWithValue,o=(i=n.extra).apiClient,u=i.navigatorContext,"legacy"!==(c=r()).configuration.analytics.analyticsMode){e.next=8;break}return e.next=5,uf(c);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=ul(c,u);case 9:var d;return s=e.t0,e.next=12,o.search(e_(e_({},s),{},{q:""===(d=c).query.q?"":d.query.enableQuerySyntax?"".concat(d.query.q," OR @uri"):"( <@- ".concat(d.query.q," -@> ) OR @uri"),enableQuerySyntax:!0,cq:"@".concat(c.folding.fields.collection,'="').concat(t,'"'),filterField:c.folding.fields.collection,childField:c.folding.fields.parent,parentField:c.folding.fields.child,filterFieldRange:100}),{origin:"foldingCollection"});case 12:return l=e.sent,e.abrupt("return",t8(l)?a(l.error):{collectionId:t,results:l.success.results,searchUid:l.success.searchUid,rootResult:c.folding.collections[t].result});case 14:case"end":return e.stop()}},e)})),function(e,t){return _.apply(this,arguments)})),lW=function(){return{enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}}},lK=["author","language","urihash","objecttype","collection","source","permanentid"];[].concat(eB([].concat(lK,["date","filetype","parents"])),["ec_price","ec_name","ec_description","ec_brand","ec_category","ec_item_group_id","ec_shortdesc","ec_thumbnails","ec_images","ec_promo_price","ec_in_stock","ec_rating"]);var lJ=rb({fieldsToInclude:lK,fetchAllFields:!1,fieldsDescription:[]},function(e){return e.addCase(lN,function(e,t){e.fieldsToInclude=eB(new Set(e.fieldsToInclude.concat(t.payload)))}).addCase(lz,function(e){e.fetchAllFields=!0}).addCase(lB,function(e){e.fetchAllFields=!1}).addCase(lG.fulfilled,function(e,t){e.fieldsDescription=t.payload}).addCase(lH,function(e,t){var n,r,a,i=t.payload,o=lW().fields;e.fieldsToInclude.push(null!=(n=i.collectionField)?n:o.collection,null!=(r=i.parentField)?r:o.parent,null!=(a=i.childField)?a:o.child)})});new eo.V_({enabled:new eo.Lb({default:!1})});var lZ=new eo.Ms({each:ne,required:!0}),lX=function(e,t){return nc(e,ne),(0,eo.HD)(t)?nc(t,ne):nc(t,lZ),{payload:{contextKey:e,contextValue:t}}},l0=rl("context/set",function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=eQ(n[t],2);lX(r[0],r[1])}return{payload:e}}),l1=rl("context/add",function(e){return lX(e.contextKey,e.contextValue)}),l2=rl("context/remove",function(e){return nc(e,ne)}),l4=rb(u$(),function(e){e.addCase(l0,function(e,t){e.contextValues=t.payload}).addCase(l1,function(e,t){e.contextValues[t.payload.contextKey]=t.payload.contextValue}).addCase(l2,function(e,t){delete e.contextValues[t.payload]}).addCase(oJ.fulfilled,function(e,t){t.payload&&(e.contextValues=t.payload.context.contextValues)})}),l3=["caseId","caseNumber"],l5={caseId:"caseContext",caseNumber:"caseContext"},l6=function(e){eR(n,e);var t=eI(n);function n(e){return eD(this,n),t.call(this,'The key "'.concat(e,'" is reserved for internal use. Use ').concat(l5[e]," to set this value.}"))}return eP(n)}(eO(Error));function l8(e){return l3.includes(e)}var l7=new eo.V_({values:new eo.ld({options:{required:!1}})});function l9(e,t){return function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.addReducers({context:l4}),!1;var a=lQ(e),i=e.dispatch,o=function(){return e.state},u=ns(e,l7,r.initialState,"buildContext");return u.values&&i(l0(u.values)),e_(e_({},a),{},{get state(){return{values:o().context.contextValues}},set:function(e){i(l0(e))}},"legacy"===o().configuration.analytics.analyticsMode?(t=i,{add:function(e,n){t(l1({contextKey:e,contextValue:n}))},remove:function(e){t(l2(e))}}):(n=i,{add:function(e,t){if(l8(e))throw new l6(e);n(l1({contextKey:e,contextValue:t}))},remove:function(e){if(l8(e))throw new l6(e);n(l2(e))}}))}(e,t)}var de=rl("dictionaryFieldContext/set",function(e){var t=nc(e,new eo.ld({options:{required:!0}})).error;if(t)return{payload:e,error:t};var n=nc(Object.values(e),new eo.Ms({each:nn})).error;return n?{payload:e,error:n}:{payload:e}}),dt=rl("dictionaryFieldContext/add",function(e){return nc(e,new eo.ld({options:{required:!0},values:{field:nn,key:nn}}))}),dn=rl("dictionaryFieldContext/remove",function(e){return nc(e,nn)});rb(uH(),function(e){e.addCase(de,function(e,t){e.contextValues=t.payload}).addCase(dt,function(e,t){var n=t.payload,r=n.field,a=n.key;e.contextValues[r]=a}).addCase(dn,function(e,t){delete e.contextValues[t.payload]}).addCase(oJ.fulfilled,function(e,t){t.payload&&(e.contextValues=t.payload.dictionaryFieldContext.contextValues)})}),ri(function(e){return""!==e.queryCorrection.correctedQuery||""!==e.wasCorrectedTo},function(e){return e});var dr=function(){return{correctedQuery:"",wordCorrections:[],originalQuery:""}},da=function(e,t){var n,r=e_(e_(e_({},{correctedQuery:"",corrections:[],originalQuery:""}),t),{},{correctedQuery:(null==t?void 0:t.correctedQuery)||(null==t||null==(n=t.corrections[0])?void 0:n.correctedQuery)||""});e.queryCorrection=r,e.wasCorrectedTo=r.correctedQuery};rb({enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:dr(),originalQuery:"",automaticallyCorrectQuery:!0,queryCorrectionMode:"legacy"},function(e){e.addCase(uV,function(e){e.enableDidYouMean=!0}).addCase(uU,function(e){e.enableDidYouMean=!1}).addCase(uQ,function(e){e.automaticallyCorrectQuery=!0}).addCase(uL,function(e){e.automaticallyCorrectQuery=!1}).addCase(cq.pending,function(e){e.queryCorrection=dr(),e.wasAutomaticallyCorrected=!1,e.wasCorrectedTo=""}).addCase(cq.fulfilled,function(e,t){var n=t.payload.response,r=n.queryCorrection,a=n.queryCorrections;"legacy"===e.queryCorrectionMode&&(e.queryCorrection=a&&a[0]?a[0]:dr()),"next"===e.queryCorrectionMode&&da(e,r),e.wasAutomaticallyCorrected=t.payload.automaticallyCorrected,e.originalQuery=t.payload.originalQuery}).addCase(uN,function(e,t){e.wasCorrectedTo=t.payload}).addCase(uz,function(e,t){e.queryCorrectionMode=t.payload})});var di=rl("facetOptions/update",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{freezeFacetOrder:!0};return nc(e,{freezeFacetOrder:new eo.Lb({required:!1})})}),du=rl("facetOptions/facet/enable",function(e){return nc(e,ne)}),dc=rl("facetOptions/facet/disable",function(e){return nc(e,ne)}),ds={facetId:ne,captions:new eo.ld({options:{required:!1}}),numberOfValues:new eo.bt({required:!1,min:1}),query:new eo.Gm({required:!1,emptyAllowed:!0})},dl={path:new eo.Ms({required:!0,each:ne}),displayValue:nn,rawValue:nn,count:new eo.bt({required:!0,min:0})},dd=rl("categoryFacet/selectSearchResult",function(e){return nc(e,{facetId:ne,value:new eo.ld({values:dl})})}),df=rl("categoryFacetSearch/register",function(e){return nc(e,ds)});function dp(e,t){var n,r=t.facetId,a=t.criterion,i=null==(n=e[r])?void 0:n.request;i&&(i.sortCriteria=a)}function dh(e){e&&(e.currentValues=e.currentValues.map(function(e){return e_(e_({},e),{},{state:"idle"})}),e.preventAutoSelect=!0)}function dv(e,t){e&&(e.numberOfValues=t)}function dg(e,t){var n=e[t];n&&(n.request.numberOfValues=n.initialNumberOfValues,n.request.currentValues=[],n.request.preventAutoSelect=!0)}function dm(e,t,n){e.currentValues=function(e,t){if(!e.length)return[];var n,r=dy(e[0],t),a=r,i=eG(e.splice(1));try{for(i.s();!(n=i.n()).done;){var o=n.value,u=dy(o,t);a.children.push(u),a=u}}catch(e){i.e(e)}finally{i.f()}return a.state="selected",a.retrieveChildren=!0,[r]}(t,n),e.numberOfValues=t.length?1:n,e.preventAutoSelect=!0}function dy(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}var db={state:new eo.B4({required:!0}),numberOfResults:new eo.bt({required:!0,min:0}),value:new eo.Gm({required:!0,emptyAllowed:!0}),path:new eo.Ms({required:!0,each:ne}),moreValuesAvailable:new eo.Lb({required:!1})},dw={facetId:ne,field:ne,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),activeTab:new eo.Gm({required:!1}),delimitingCharacter:new eo.Gm({required:!1,emptyAllowed:!0}),filterFacetCount:new eo.Lb({required:!1}),injectionDepth:new eo.bt({required:!1,min:0}),numberOfValues:new eo.bt({required:!1,min:1}),sortCriteria:new eo.B4({required:!1}),basePath:new eo.Ms({required:!1,each:ne}),filterByBasePath:new eo.Lb({required:!1})},dk=rl("categoryFacet/register",function(e){return nc(e,dw)}),dS=rl("categoryFacet/toggleSelectValue",function(e){try{return nu(e.facetId,ne),function e(t){t.children.forEach(function(t){e(t)}),nu({state:t.state,numberOfResults:t.numberOfResults,value:t.value,path:t.path,moreValuesAvailable:t.moreValuesAvailable},db)}(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:no(t)}}}),dx=rl("categoryFacet/deselectAll",function(e){return nc(e,dw.facetId)}),dC=rl("categoryFacet/updateNumberOfValues",function(e){return nc(e,{facetId:dw.facetId,numberOfValues:dw.numberOfValues})}),dR=rl("categoryFacet/updateSortCriterion",function(e){return nc(e,{facetId:dw.facetId,criterion:new eo.B4})}),dI=rl("categoryFacet/updateBasePath",function(e){return nc(e,{facetId:dw.facetId,basePath:new eo.Ms({each:ne})})});rb({},function(e){e.addCase(dk,function(e,t){var n=t.payload,r=n.facetId;if(!(r in e)){var a,i=(a=n,e_(e_({},dq),{},{currentValues:[],preventAutoSelect:!1,type:"hierarchical"},a)),o=i.numberOfValues;e[r]={request:i,initialNumberOfValues:o}}}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.categoryFacetSet)?n:e}).addCase(oN,function(e,t){var n=t.payload.cf||{};Object.keys(e).forEach(function(t){var r=e[t].request,a=n[t]||[];(a.length||r.currentValues.length)&&dm(r,a,e[t].initialNumberOfValues)})}).addCase(dR,function(e,t){var n,r=t.payload,a=r.facetId,i=r.criterion,o=null==(n=e[a])?void 0:n.request;o&&(o.sortCriteria=i)}).addCase(dI,function(e,t){var n,r=t.payload,a=r.facetId,i=r.basePath,o=null==(n=e[a])?void 0:n.request;o&&(o.basePath=eB(i))}).addCase(dS,function(e,t){var n,r=t.payload,a=r.facetId,i=r.selection,o=r.retrieveCount,u=null==(n=e[a])?void 0:n.request;if(u){var c=i.path,s=function(e,t,n){var r,a=e.currentValues,i=eG(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=a[0];u&&o===u.value||(u=dO(o,n),a.length=0,a.push(u)),u.retrieveChildren=!1,u.state="idle",a=u.children}}catch(e){i.e(e)}finally{i.f()}return a}(u,c.slice(0,c.length-1),o);if(s.length){var l=s[0];l.retrieveChildren=!0,l.state="selected",l.children=[];return}var d=dO(i.value,o);d.state="selected",s.push(d),u.numberOfValues=1}}).addCase(dx,function(e,t){dg(e,t.payload)}).addCase(o2,function(e){Object.keys(e).forEach(function(t){return dg(e,t)})}).addCase(o3,function(e,t){return Object.keys(e).forEach(function(n){e[n].request.preventAutoSelect=!t.payload.allow})}).addCase(dC,function(e,t){var n,r=t.payload,a=r.facetId,i=r.numberOfValues,o=null==(n=e[a])?void 0:n.request;if(o){if(!o.currentValues.length)return dv(o,i);!function(e,t){var n,r,a=t.facetId,i=t.numberOfValues,o=null==(n=e[a])?void 0:n.request.currentValues[0];if(o){for(;o.children.length&&(null==(r=o)?void 0:r.state)!=="selected";)o=o.children[0];o.retrieveCount=i}}(e,t.payload)}}).addCase(dd,function(e,t){var n=t.payload,r=n.facetId,a=n.value,i=e[r];if(i){var o=[].concat(eB(a.path),[a.rawValue]);dm(i.request,o,i.initialNumberOfValues)}}).addCase(cE.fulfilled,function(e,t){dA(e,t.payload.response.facets)}).addCase(cq.fulfilled,function(e,t){dA(e,t.payload.response.facets)}).addCase(dc,function(e,t){dg(e,t.payload)})});var dq={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0,resultsMustMatch:"atLeastOneValue"};function dO(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function dA(e,t){t.forEach(function(t){var n;if(n=e,t.facetId in n){var r,a=null==(r=e[t.facetId])?void 0:r.request;if(a){var i,o,u,c,s=(i=a,o=t,u=i$(i.currentValues),c=i$(o.values),u.length!==c.length);a.currentValues=s?[]:a.currentValues,a.preventAutoSelect=!1}}})}var dE=((V=dE||{}).Relevance="relevance",V.Fields="fields",V),dF=((U=dF||{}).Ascending="asc",U.Descending="desc",U);new eo.ld({options:{required:!1},values:{by:new eo.af({enum:dE,required:!0}),fields:new eo.Ms({each:new eo.ld({values:{name:new eo.Gm,direction:new eo.af({enum:dF})}})})}}),new eo.ld({options:{required:!1},values:{by:new eo.af({enum:dE,required:!0}),fields:new eo.Ms({each:new eo.ld({values:{field:new eo.Gm({required:!0}),direction:new eo.af({enum:dF}),displayName:new eo.Gm}})})}});var dT=function(e){return void 0!==e.error},dD=function(e,t){var n,r,a,i,o,u=e.commerceContext,c=u.view,s=u.location,l=eN(u,eg);return e_(e_(e_({accessToken:e.configuration.accessToken,url:null!=(i=e.configuration.commerce.apiBaseUrl)?i:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prod";return"".concat(tQ(e,t),"/rest/organizations/").concat(e,"/commerce/v2")}(e.configuration.organizationId,e.configuration.environment),organizationId:e.configuration.organizationId,trackingId:e.configuration.analytics.trackingId},l),e.configuration.analytics.enabled?{clientId:t.clientId}:{}),{},{context:{user:e_(e_({},s),t.userAgent?{userAgent:t.userAgent}:{}),view:e_(e_({},c),t.referrer?{referrer:t.referrer}:{}),capture:null!=(o=t.capture)?o:e.configuration.analytics.enabled,cart:(n=(a=e.cart).cartItems,r=a.cart,eB(Object.values(n.reduce(function(e,t){var n=r[t],a=n.productId,i=n.quantity;return a in e||(e[a]={productId:a,quantity:0}),e[a].quantity+=i,e},{})))),source:r6(e.configuration.analytics)}})},dM=function(e,t){var n,r,a=t?null==(n=e.commercePagination)?void 0:n.recommendations[t]:null==(r=e.commercePagination)?void 0:r.principal;return a&&e_({page:a.page},a.perPage&&{perPage:a.perPage})},dP=function(e,t){var n,r;return e_(e_({},e_(e_({},dD(e,t)),dM(e,void 0))),{},{facets:eB((n=e).facetOrder&&n.commerceFacetSet?n.facetOrder.filter(function(e){var t;return null==(t=n.commerceFacetSet)?void 0:t[e]}).map(function(e){var t,r;return null!=(t=n.manualNumericFacetSet)&&null!=(r=t[e])&&r.manualRange?{facetId:e,field:e,numberOfValues:1,isFieldExpanded:!1,preventAutoSelect:!0,type:"numericalRange",values:[n.manualNumericFacetSet[e].manualRange],initialNumberOfValues:1}:n.commerceFacetSet[e].request}).filter(function(e){return e&&e.values.length>0}):[])},e.commerceSort&&{sort:"relevance"===(r=e.commerceSort.appliedSort).by?{sortCriteria:"relevance"}:{sortCriteria:"fields",fields:r.fields.map(function(e){return{field:e.name,direction:e.direction}})}})},dj=function(e,t,n,r){var a,i,o=t.categoryFacetSearchSet[e].options.query,u="*".concat(o,"*"),c=null==(a=t.commerceFacetSet[dG(e)])?void 0:a.request,s=c&&"hierarchical"===c.type?c&&d_(c):[],l=s.length?[s]:[],d=n?o:null==(i=t.commerceQuery)?void 0:i.query,f=dP(t,r),p=f.url,h=f.accessToken,v=f.organizationId,g=f.trackingId,m=f.language,y=f.country,b=f.currency,w=f.clientId,k=f.context,S=eN(f,em);return e_({url:p,accessToken:h,organizationId:v,facetId:dG(e),facetQuery:n?"*":u,ignorePaths:l,trackingId:g,language:m,country:y,currency:b,clientId:w,context:k,query:d},!n&&e_({},S))},d_=function(e){for(var t=[],n=e.values[0];n;)t.push(n.value),n=n.children[0];return t},dV=function(e,t,n,r){var a,i=t.facetSearchSet[e].options.query,o="*".concat(i,"*"),u=n?i:null==(a=t.commerceQuery)?void 0:a.query,c=dP(t,r),s=c.url,l=c.accessToken,d=c.organizationId,f=c.trackingId,p=c.language,h=c.country,v=c.currency,g=c.clientId,m=c.context,y=eN(c,ey);return e_({url:s,accessToken:l,organizationId:d,facetId:dG(e),facetQuery:n?"*":o,trackingId:f,language:p,country:h,currency:v,clientId:g,context:m,query:u},!n&&e_({},y))},dU=function(e){var t;return t=eL(regeneratorRuntime.mark(function t(n,r){var a,i,o,u,c,s,l,d,f,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.facetId,i=n.facetSearchType,o=r.getState,c=(u=r.extra).validatePayload,s=u.navigatorContext,l=u.apiClient,d=o(),c(a,ne),f=dN(d,a)||dz(d,a)?dV(a,d,e,s):dj(a,d,e,s),t.next=7,l.facetSearch(f,i);case 7:return p=t.sent,t.abrupt("return",{facetId:a,response:p});case 9:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)}},dL=rP("commerce/facetSearch/executeSearch",dU(!1)),dQ=rP("commerce/facetSearch/facetFieldSuggest",dU(!0)),dN=function(e,t){return"facetSearchSet"in e&&void 0!==e.facetSearchSet[t]&&void 0!==e.commerceFacetSet[t]},dz=function(e,t){return"fieldSuggestionsOrder"in e&&e.fieldSuggestionsOrder.some(function(e){return e.facetId===t&&"regular"===e.type})},dB="field_suggestion:";function dG(e){return e.startsWith(dB)?e.slice(dB.length):e}function d$(e){return e.startsWith(dB)?e:"".concat(dB).concat(e)}var dH=ri(function(e){var t;return(null==(t=e.commercePagination)?void 0:t.principal.perPage)||0},function(e){return e}),dY=(ri(function(e,t){var n,r;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.perPage)||0},function(e){return e}),ri(function(e){var t;return(null==(t=e.commercePagination)?void 0:t.principal.totalEntries)||0},function(e){return e}));ri(function(e,t){var n,r;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.totalEntries)||0},function(e){return e}),ri(function(e){var t;return(null==(t=e.commercePagination)?void 0:t.principal.page)||0},function(e){return e}),ri(function(e,t){var n,r;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.page)||0},function(e){return e});var dW=Symbol.for("coveo-headless-internal-state");ri(function(e){return e[dW].productListing.responseId},function(e){return e}),ri(function(e){return e.productListing.responseId},function(e){return e}),ri(function(e){return e.productListing.requestId},function(e){return e});var dK=ri(function(e){var t;return(null==(t=e.productListing)?void 0:t.products.length)||0},function(e){return e}),dJ=ri(function(e){return{total:dY(e),current:dK(e)}},function(e){return e.current<e.total});ri(function(e){var t;return null==(t=e.productListing)?void 0:t.isLoading},function(e){return!(0,eo.le)(e)&&e}),ri(function(e){var t;return null==(t=e.productListing)?void 0:t.error},function(e){return null!=e?e:null});var dZ=rP("commerce/productListing/fetch",(L=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,o=(i=n.extra).apiClient,u=i.navigatorContext,c=r(),e.next=4,o.getProductListing(dP(c,u));case 4:return s=e.sent,e.abrupt("return",dT(s)?a(s.error):{response:s.success});case 6:case"end":return e.stop()}},e)})),function(e,t){return L.apply(this,arguments)})),dX=(rP("commerce/productListing/fetchMoreProducts",(Q=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.rejectWithValue,o=(i=n.extra).apiClient,u=i.navigatorContext,dJ(c=r())){e.next=4;break}return e.abrupt("return",null);case 4:return s=dH(c),l=dK(c)/s,e.next=8,o.getProductListing(e_(e_({},dP(c,u)),{},{page:l}));case 8:return d=e.sent,e.abrupt("return",dT(d)?a(d.error):{response:d.success});case 10:case"end":return e.stop()}},e)})),function(e,t){return Q.apply(this,arguments)})),{child:new eo.ld({options:{required:!0},values:{permanentid:new eo.Gm({required:!0})}})});rl("commerce/productListing/promoteChildToParent",function(e){return nc(e,dX)});var d0=rl("commerce/querySuggest/clear",function(e){return nc(e,{id:ne})}),d1=rP("commerce/querySuggest/fetch",(N=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var f;return r=n.getState,a=n.rejectWithValue,o=(i=n.extra).apiClient,u=i.validatePayload,c=i.navigatorContext,u(t,{id:ne}),s=r(),f=t.id,l=e_(e_({},dD(s,c)),{},{query:s.querySet[f]}),e.next=6,o.querySuggest(l);case 6:return d=e.sent,e.abrupt("return",dT(d)?a(d.error):e_({id:t.id,query:l.query},d.success));case 8:case"end":return e.stop()}},e)})),function(e,t){return N.apply(this,arguments)})),d2=rl("commerce/querySuggest/register",function(e){return nc(e,{id:ne,count:new eo.bt({min:0})})}),d4=rl("commerce/querySuggest/selectSuggestion",function(e){return nc(e,{id:ne,expression:nn})});rl("commerce/facets/core/updateNumberOfValues",function(e){return nc(e,{facetId:ne,numberOfValues:new eo.bt({required:!0,min:1})})}),rl("commerce/facets/core/updateIsFieldExpanded",function(e){return nc(e,{facetId:ne,isFieldExpanded:new eo.Lb({required:!0})})});var d3=rl("commerce/facets/core/clearAll"),d5=(rl("commerce/facets/core/deselectAllValues",function(e){return nc(e,{facetId:ne})}),rl("commerce/facets/core/updateFreezeCurrentValues",function(e){return nc(e,{facetId:ne,freezeCurrentValues:new eo.Lb({required:!0})})}),rl("commerce/facets/core/updateAutoSelectionForAll",function(e){return nc(e,{allow:new eo.Lb({required:!0})})})),d6={slotId:nr},d8=e_(e_({},d6),{},{pageSize:new eo.bt({required:!0,min:0})}),d7=(rl("commerce/pagination/setPageSize",function(e){return nc(e,d8)}),e_(e_({},d6),{},{page:new eo.bt({required:!0,min:0})})),d9=rl("commerce/pagination/selectPage",function(e){return nc(e,d7)});rl("commerce/pagination/nextPage",function(e){return nc(e,d6)}),rl("commerce/pagination/previousPage",function(e){return nc(e,d6)}),rl("commerce/pagination/registerRecommendationsSlot",function(e){return nc(e,{slotId:ne})});var fe=rl("commerce/query/update",function(e){return nc(e,{query:new eo.Gm})}),ft=rl("commerce/triggers/query/updateIgnore",function(e){return nc(e,{q:new eo.Gm({emptyAllowed:!0,required:!0})})}),fn=rl("commerce/triggers/query/applyModification",function(e){return nc(e,new eo.ld({values:{originalQuery:nt,modification:nt}}))});ri(function(e){return e[dW].commerceSearch.responseId},function(e){return e}),ri(function(e){return e.commerceSearch.responseId},function(e){return e}),ri(function(e){return e.commerceSearch.requestId},function(e){return e});var fr=ri(function(e){var t;return(null==(t=e.commerceSearch)?void 0:t.products.length)||0},function(e){return e}),fa=ri(function(e){return{total:dY(e),current:fr(e)}},function(e){return e.current<e.total}),fi=(ri(function(e){var t;return null==(t=e.commerceSearch)?void 0:t.isLoading},function(e){return!(0,eo.le)(e)&&e}),ri(function(e){var t;return null==(t=e.commerceSearch)?void 0:t.error},function(e){return null!=e?e:null}),ri(function(e){var t;return null==(t=e.commerceQuery)?void 0:t.query},function(e){return null!=e?e:""})),fo=(ri(function(e){var t;return null==(t=e.commerceSearch)?void 0:t.queryExecuted},function(e){return e}),function(e,t){var n;return(0,eo.le)(null==(n=t.queryCorrection)?void 0:n.correctedQuery)?fi(e):t.queryCorrection.correctedQuery}),fu=function(){var e,t,n,r,a;function i(e){eD(this,i),this.config=e}return eP(i,[{key:"process",value:(e=eL(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(a=this.processQueryErrorOrContinue(t))){e.next=4;break}e.t2=a,e.next=7;break;case 4:return e.next=6,this.processQueryCorrectionsOrContinue(t);case 6:e.t2=e.sent;case 7:if(e.t3=r=e.t2,e.t1=null!==e.t3,!e.t1){e.next=11;break}e.t1=void 0!==r;case 11:if(!e.t1){e.next=15;break}e.t4=r,e.next=18;break;case 15:return e.next=17,this.processQueryTriggersOrContinue(t);case 17:e.t4=e.sent;case 18:if(e.t5=n=e.t4,e.t0=null!==e.t5,!e.t0){e.next=22;break}e.t0=void 0!==n;case 22:if(!e.t0){e.next=26;break}e.t6=n,e.next=27;break;case 26:e.t6=this.processSuccessResponse(t);case 27:return e.abrupt("return",e.t6);case 28:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"fetchFromAPI",value:(t=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date().getTime(),e.next=3,this.extra.apiClient.search(t);case 3:return r=e.sent,a=new Date().getTime()-n,i=this.getState().commerceQuery.query||"",e.abrupt("return",{response:r,duration:a,queryExecuted:i,requestExecuted:t});case 7:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"processSuccessResponse",value:function(e){return e_(e_({},e),{},{response:this.getSuccessResponse(e),originalQuery:this.getCurrentQuery()})}},{key:"processQueryErrorOrContinue",value:function(e){return dT(e.response)?this.rejectWithValue(e.response.error):null}},{key:"processQueryCorrectionsOrContinue",value:(n=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getState(),!(!(r=this.getSuccessResponse(t))||!n.didYouMean)){e.next=3;break}return e.abrupt("return",null);case 3:if(a=r.queryCorrection,!(0,eo.le)(a)&&!(0,eo.le)(a.correctedQuery)){e.next=6;break}return e.abrupt("return",null);case 6:return o=(i=r.queryCorrection).correctedQuery,u=i.originalQuery,e.abrupt("return",(this.onUpdateQueryForCorrection(null!=o?o:""),e_(e_({},t),{},{response:e_({},r),queryExecuted:fo(n,r),originalQuery:null!=u?u:""})));case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"processQueryTriggersOrContinue",value:(r=eL(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.getSuccessResponse(t)){e.next=3;break}return e.abrupt("return",null);case 3:if(i=(null==(n=a.triggers.find(function(e){return"query"===e.type}))?void 0:n.content)||""){e.next=6;break}return e.abrupt("return",null);case 6:if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)!==i){e.next=8;break}return e.abrupt("return",(this.dispatch(ft({q:""})),null));case 8:return o=this.getCurrentQuery(),e.next=11,this.automaticallyRetryQueryWithTriggerModification(i);case 11:return u=e.sent,e.abrupt("return",dT(u.response)?this.rejectWithValue(u.response.error):e_(e_({},u),{},{response:e_({},u.response.success),originalQuery:o}));case 13:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"automaticallyRetryQueryWithTriggerModification",value:(a=eL(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dispatch(fn({newQuery:t,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(t),e.next=4,this.fetchFromAPI(e_(e_({},dP(this.getState(),this.navigatorContext)),{},{query:t}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"dispatch",get:function(){return this.config.dispatch}},{key:"rejectWithValue",get:function(){return this.config.rejectWithValue}},{key:"getState",value:function(){return this.config.getState()}},{key:"navigatorContext",get:function(){return this.config.extra.navigatorContext}},{key:"getCurrentQuery",value:function(){var e=this.getState();return void 0!==e.commerceQuery.query?e.commerceQuery.query:""}},{key:"getSuccessResponse",value:function(e){return dT(e.response)?null:e.response.success}},{key:"extra",get:function(){return this.config.extra}},{key:"onUpdateQueryForCorrection",value:function(e){this.dispatch(fe({query:e}))}}]),i}(),fc=rP("commerce/search/executeSearch",(z=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=dP(r=(0,n.getState)(),n.extra.navigatorContext),i=fi(r),o=new fu(n),e.next=8,o.fetchFromAPI(e_(e_({},a),{},{query:i}));case 8:return u=e.sent,e.abrupt("return",o.process(u));case 10:case"end":return e.stop()}},e)})),function(e,t){return z.apply(this,arguments)})),fs=(rP("commerce/search/fetchMoreProducts",(B=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,n.getState)(),a=n.extra.navigatorContext,fa(r)){e.next=3;break}return e.abrupt("return",null);case 3:return i=dH(r),o=fr(r)/i,u=fi(r),c=dP(r,a),s=new fu(n),e.next=10,s.fetchFromAPI(e_(e_({},c),{},{query:u,page:o}));case 10:return l=e.sent,e.abrupt("return",s.process(l));case 12:case"end":return e.stop()}},e)})),function(e,t){return B.apply(this,arguments)})),rP("commerce/search/prepareForSearchWithQuery",function(e,t){var n=t.dispatch;nc(e,{query:new eo.Gm,clearFilters:new eo.Lb}),e.clearFilters&&(n(d3()),n(o4())),n(d5({allow:!0})),n(fe({query:e.query})),n(d9({page:0}))}),rP("commerce/search/fetchInstantProducts",(G=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,i=n.extra,o=r(),u=i.apiClient,c=i.navigatorContext,s=t.q,e.next=7,u.productSuggestions(e_(e_({},dD(o,c)),{},{query:s}));case 7:return l=e.sent,e.abrupt("return",dT(l)?a(l.error):{response:e_(e_({},l.success),{},{products:l.success.products})});case 9:case"end":return e.stop()}},e)})),function(e,t){return G.apply(this,arguments)})),{child:new eo.ld({options:{required:!0},values:{permanentid:new eo.Gm({required:!0})}})});function fl(e,t,n){var r=t.facetId;if(!e[r]){var a=e_(e_({},fb),t),i=n();e[r]={options:a,isLoading:!1,response:i,initialNumberOfValues:a.numberOfValues,requestId:""}}}function fd(e,t){var n=t.facetId,r=eN(t,eb),a=e[n];a&&(a.options=e_(e_({},a.options),r))}function ff(e,t,n){var r=e[t];r&&(r.requestId=n,r.isLoading=!0)}function fp(e,t){var n=e[t];n&&(n.isLoading=!1)}function fh(e,t,n){var r=t.facetId,a=t.response,i=e[r];i&&i.requestId===n&&(i.isLoading=!1,i.response=a)}function fv(e,t,n){var r=t.facetId,a=t.response,i=e[r];i&&i.requestId===n&&(i.isLoading=!1,"success"in a&&(i.response=a.success))}function fg(e,t,n,r){var a=t.facetId,i=t.response,o=d$(a),u=e[o];if(u){if(u.requestId!==n)return}else fl(e,{facetId:o},r),u=e[o];u.isLoading=!1,"success"in i&&(u.response=i.success)}function fm(e,t,n){var r=e[t.facetId];r&&(r.requestId="",r.isLoading=!1,r.response=n(),r.options.numberOfValues=r.initialNumberOfValues,r.options.query=fb.query)}function fy(e,t){Object.keys(e).forEach(function(n){return fm(e,{facetId:n},t)})}rl("commerce/search/promoteChildToParent",function(e){return nc(e,fs)});var fb={captions:{},numberOfValues:10,query:""},fw=($=eL(regeneratorRuntime.mark(function e(t,n,r,a){var i,o,u,c,s,l,d,f,p,h,v,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.categoryFacetSearchSet[t].options,u=n.categoryFacetSet[t].request,c=o.captions,s=o.query,l=o.numberOfValues,d=u.field,f=u.delimitingCharacter,p=u.basePath,h=u.filterFacetCount,g=(v=fk(u)).length?[v]:[],m="*".concat(s,"*"),e.t0=e_,e.t1=e_({url:null!=(i=n.configuration.search.apiBaseUrl)?i:tN(n.configuration.organizationId,n.configuration.environment),accessToken:n.configuration.accessToken,organizationId:n.configuration.organizationId},n.configuration.search.authenticationProviders.length&&{authentication:n.configuration.search.authenticationProviders.join(",")}),e.t2={},e.t3={basePath:p,captions:c,numberOfValues:l,query:m,field:d,delimitingCharacter:f,ignorePaths:g,filterFacetCount:h,type:"hierarchical"},!a){e.next=9;break}e.t4={},e.next=13;break;case 9:return e.next=11,cS(n,r);case 11:e.t5=e.sent.request,e.t4={searchContext:e.t5};case 13:return e.t6=e.t4,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t6));case 15:case"end":return e.stop()}},e)})),function(e,t,n,r){return $.apply(this,arguments)}),fk=function(e){for(var t=[],n=e.currentValues[0];n;)t.push(n.value),n=n.children[0];return t},fS=(H=eL(regeneratorRuntime.mark(function e(t,n,r,a){var i,o,u,c,s,l,d,f,p,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(o=n.facetSearchSet[t].options).captions,c=o.query,s=o.numberOfValues,d=(l=n.facetSet[t].request).field,f=l.currentValues,p=l.filterFacetCount,h=f.filter(function(e){return"idle"!==e.state}).map(function(e){return e.value}),v="*".concat(c,"*"),e.t0=e_,e.t1=e_({url:null!=(i=n.configuration.search.apiBaseUrl)?i:tN(n.configuration.organizationId,n.configuration.environment),accessToken:n.configuration.accessToken,organizationId:n.configuration.organizationId},n.configuration.search.authenticationProviders&&{authentication:n.configuration.search.authenticationProviders.join(",")}),e.t2={},e.t3={captions:u,numberOfValues:s,query:v,field:d,ignoreValues:h,filterFacetCount:p,type:"specific"},!a){e.next=9;break}e.t4={},e.next=13;break;case 9:return e.next=11,cS(n,r);case 11:e.t5=e.sent.request,e.t4={searchContext:e.t5};case 13:return e.t6=e.t4,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t6));case 15:case"end":return e.stop()}},e)})),function(e,t,n,r){return H.apply(this,arguments)}),fx=function(e){var t;return t=eL(regeneratorRuntime.mark(function t(n,r){var a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState,o=(i=r.extra).apiClient,u=i.validatePayload,c=i.navigatorContext,s=a(),u(n,ne),!fq(s,n)){t.next=9;break}return t.next=6,fS(n,s,c,e);case 6:l=t.sent,t.next=12;break;case 9:return t.next=11,fw(n,s,c,e);case 11:l=t.sent;case 12:return t.next=14,o.facetSearch(l);case 14:return d=t.sent,t.abrupt("return",{facetId:n,response:d});case 16:case"end":return t.stop()}},t)})),function(e,n){return t.apply(this,arguments)}},fC=rP("facetSearch/executeSearch",fx(!1)),fR=rP("facetSearch/executeSearch",fx(!0)),fI=rl("facetSearch/clearResults",function(e){return nc(e,{facetId:ne})}),fq=function(e,t){return void 0!==e.facetSearchSet&&void 0!==e.facetSet&&void 0!==e.facetSet[t]},fO={facetId:ne,value:new eo.ld({values:{displayValue:nn,rawValue:nn,count:new eo.bt({required:!0,min:0})}})},fA=rl("facetSearch/register",function(e){return nc(e,ds)}),fE=rl("facetSearch/update",function(e){return nc(e,ds)}),fF=rl("facetSearch/toggleSelectValue",function(e){return nc(e,fO)}),fT=rl("facetSearch/toggleExcludeValue",function(e){return nc(e,fO)});function fD(){return{moreValuesAvailable:!1,values:[]}}rb({},function(e){e.addCase(df,function(e,t){fl(e,t.payload,fD)}).addCase(fE,function(e,t){fd(e,t.payload)}).addCase(dL.pending,function(e,t){ff(e,t.meta.arg.facetId,t.meta.requestId)}).addCase(dQ.pending,function(e,t){ff(e,t.meta.arg.facetId,t.meta.requestId)}).addCase(fC.pending,function(e,t){ff(e,t.meta.arg,t.meta.requestId)}).addCase(dL.rejected,function(e,t){fp(e,t.meta.arg.facetId)}).addCase(dQ.rejected,function(e,t){fp(e,d$(t.meta.arg.facetId))}).addCase(fC.rejected,function(e,t){fp(e,t.meta.arg)}).addCase(dL.fulfilled,function(e,t){fv(e,t.payload,t.meta.requestId)}).addCase(dQ.fulfilled,function(e,t){fg(e,t.payload,t.meta.requestId,fD)}).addCase(d1.fulfilled,function(e,t){!function(e,t,n,r){if(t.fieldSuggestionsFacets){var a,i=eG(t.fieldSuggestionsFacets);try{for(i.s();!(a=i.n()).done;){var o,u=a.value,c=d$(u.facetId);c in e||"hierarchical"!==u.type||(e[c]={options:e_(e_({},fb),{},{query:null!=(o=t.query)?o:""}),isLoading:!1,response:r(),initialNumberOfValues:fb.numberOfValues,requestId:n})}}catch(e){i.e(e)}finally{i.f()}}}(e,t.payload,t.meta.requestId,fD)}).addCase(fC.fulfilled,function(e,t){fh(e,t.payload,t.meta.requestId)}).addCase(fI,function(e,t){fm(e,{facetId:t.payload.facetId},fD)}).addCase(dZ.fulfilled,function(e){return fy(e,fD)}).addCase(fc.fulfilled,function(e){return fy(e,fD)}).addCase(cq.fulfilled,function(e){fy(e,fD)})});var fM=function(e){return ov("analytics/facet/showMore",function(t,n){nc(e,ne);var r=iW(e,iJ(n));return t.makeFacetShowMore(r)})},fP=function(e){return ov("analytics/facet/showLess",function(t,n){nc(e,ne);var r=iW(e,iJ(n));return t.makeFacetShowLess(r)})},fj=function(e){return ov("analytics/facet/sortChange",function(t,n){nc(e,{facetId:ne,criterion:new eo.B4({required:!0})});var r=e.facetId,a=e.criterion,i=e_(e_({},iW(r,iJ(n))),{},{criteria:a});return t.makeFacetUpdateSort(i)})},f_=function(e){return ov("analytics/facet/reset",function(t,n){nc(e,ne);var r=iW(e,iJ(n));return t.makeFacetClearAll(r)})},fV=function(e){return ov("analytics/facet/select",function(t,n){nc(e,{facetId:ne,facetValue:ne});var r=iK(e,iJ(n));return t.makeFacetSelect(r)})},fU=function(e){return ov("analytics/facet/exclude",function(t,n){nc(e,{facetId:ne,facetValue:ne});var r=iK(e,iJ(n));return t.makeFacetExclude(r)})},fL=function(e){return ov("analytics/facet/deselect",function(t,n){nc(e,{facetId:ne,facetValue:ne});var r=iK(e,iJ(n));return t.makeFacetDeselect(r)})},fQ=function(e){return ov("analytics/facet/unexclude",function(t,n){nc(e,{facetId:ne,facetValue:ne});var r=iK(e,iJ(n));return t.makeFacetUnexclude(r)})},fN=function(e){return ov("analytics/facet/breadcrumb",function(t,n){nc(e,{facetId:ne,facetValue:ne});var r=iK(e,iJ(n));return t.makeBreadcrumbFacet(r)})},fz=function(){return{actionCause:"facetSelect"}},fB=function(){return{actionCause:"facetExclude"}},fG=function(e,t){var n,r;return null==(n=null==(r=e.facetOptions.facets[t])?void 0:r.enabled)||n},f$=new eo.Gm({regex:/^[a-zA-Z0-9-_]+$/}),fH=new eo.Gm({required:!0}),fY=new eo.Ms({each:new eo.Gm}),fW=new eo.Gm,fK=new eo.Lb,fJ=new eo.Lb,fZ=new eo.bt({min:0}),fX=new eo.bt({min:1}),f0=new eo.Lb({required:!0}),f1=new eo.ld,f2=new eo.Gm,f4=new eo.ld({values:{captions:f1,numberOfValues:fX,query:f2}}),f3=new eo.ld({options:{required:!1},values:{type:new eo.Gm({constrainTo:["simple"],emptyAllowed:!1,required:!0}),values:new eo.Ms({required:!0,max:25,each:new eo.Gm({emptyAllowed:!1,required:!0})})}}),f5=new eo.Lb,f6=new eo.Ms({min:1,max:25,required:!1,each:new eo.Gm({emptyAllowed:!1,required:!0})}),f8={value:ne,numberOfResults:new eo.bt({min:0}),state:ne},f7={facetId:ne,field:new eo.Gm({required:!0,emptyAllowed:!0}),tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),activeTab:new eo.Gm({required:!1}),filterFacetCount:new eo.Lb({required:!1}),injectionDepth:new eo.bt({required:!1,min:0}),numberOfValues:new eo.bt({required:!1,min:1}),sortCriteria:new eo.B4({required:!1}),resultsMustMatch:new eo.B4({required:!1}),allowedValues:f3,customSort:f6},f9=rl("facet/register",function(e){return nc(e,f7)}),pe=rl("facet/toggleSelectValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:f8})})}),pt=rl("facet/toggleExcludeValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:f8})})}),pn=rl("facet/deselectAll",function(e){return nc(e,ne)}),pr=rl("facet/updateSortCriterion",function(e){return nc(e,{facetId:ne,criterion:new eo.B4({required:!0})})}),pa=rl("facet/updateNumberOfValues",function(e){return nc(e,{facetId:ne,numberOfValues:new eo.bt({required:!0,min:1})})}),pi=rl("facet/updateIsFieldExpanded",function(e){return nc(e,{facetId:ne,isFieldExpanded:new eo.Lb({required:!0})})}),po=rl("facet/updateFreezeCurrentValues",function(e){return nc(e,{facetId:ne,freezeCurrentValues:new eo.Lb({required:!0})})});function pu(e,t){var n=t.dateFormat;return e&&"object"==eY(e)&&"period"in e?(uI(e),function(e){var t=e.period,n=e.amount,r=e.unit;switch(t){case"past":case"next":return"".concat(t,"-").concat(n,"-").concat(r);case"now":return t}}(e)):"string"==typeof e&&uE(e)?(uI(e),e):(function(e,t){var n=uk(e,t);if(!n.isValid()){var r=' with the format "'.concat(t,'"');throw Error('Could not parse the provided date "'.concat(e,'"').concat(t?r:". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information."))}uS(n)}(e,n),uk(e,n).format(uw))}var pc=rl("rangeFacet/updateSortCriterion",function(e){return nc(e,{facetId:ne,criterion:new eo.B4({required:!0})})}),ps={state:ne,start:new eo.bt({required:!0}),end:new eo.bt({required:!0}),endInclusive:new eo.Lb({required:!0}),numberOfResults:new eo.bt({required:!0,min:0})},pl={start:ne,end:ne,endInclusive:new eo.Lb({required:!0}),state:ne,numberOfResults:new eo.bt({required:!0,min:0})},pd=function(e){return{facetId:ne,selection:new eo.ld("string"==typeof e.start?{values:pl}:{values:ps})}},pf={start:ne,end:ne,endInclusive:new eo.Lb({required:!0}),state:ne},pp={facetId:ne,field:ne,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),activeTab:new eo.Gm({required:!1}),currentValues:new eo.Ms({required:!1,each:new eo.ld({values:pf})}),generateAutomaticRanges:new eo.Lb({required:!0}),filterFacetCount:new eo.Lb({required:!1}),injectionDepth:new eo.bt({required:!1,min:0}),numberOfValues:new eo.bt({required:!1,min:1}),sortCriteria:new eo.B4({required:!1}),rangeAlgorithm:new eo.B4({required:!1})};function ph(e){e.currentValues&&e.currentValues.forEach(function(e){var t,n,r={start:pu(e.start,e),end:pu(e.end,e),endInclusive:null!=(t=e.endInclusive)&&t,state:null!=(n=e.state)?n:"idle"},a=r.start,i=r.end;if(uk(uE(a)?uO(a):a).isAfter(uk(uE(i)?uO(i):i)))throw Error("The start value is greater than the end value for the date range ".concat(e.start," to ").concat(e.end))})}var pv=rl("dateFacet/register",function(e){try{return nu(e,pp),ph(e),{payload:e,error:null}}catch(t){return{payload:e,error:no(t)}}}),pg=rl("dateFacet/toggleSelectValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:pl})})}),pm=rl("dateFacet/toggleExcludeValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:pl})})}),py=rl("dateFacet/updateFacetValues",function(e){try{return nu(e,{facetId:ne,values:new eo.Ms({each:new eo.ld({values:pl})})}),ph({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:no(t)}}}),pb={state:ne,start:new eo.bt({required:!0}),end:new eo.bt({required:!0}),endInclusive:new eo.Lb({required:!0})},pw={facetId:ne,field:ne,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),activeTab:new eo.Gm({required:!1}),currentValues:new eo.Ms({required:!1,each:new eo.ld({values:pb})}),generateAutomaticRanges:new eo.Lb({required:!0}),filterFacetCount:new eo.Lb({required:!1}),injectionDepth:new eo.bt({required:!1,min:0}),numberOfValues:new eo.bt({required:!1,min:1}),sortCriteria:new eo.B4({required:!1}),rangeAlgorithm:new eo.B4({required:!1})};function pk(e){e.currentValues&&e.currentValues.forEach(function(e){var t=e.start,n=e.end;if(t>n)throw Error("The start value is greater than the end value for the numeric range ".concat(t," to ").concat(n))})}var pS=rl("numericFacet/register",function(e){try{return nc(e,pw),pk(e),{payload:e,error:null}}catch(t){return{payload:e,error:no(t)}}}),px=rl("numericFacet/toggleSelectValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:ps})})}),pC=rl("numericFacet/toggleExcludeValue",function(e){return nc(e,{facetId:ne,selection:new eo.ld({values:ps})})}),pR=rl("numericFacet/updateFacetValues",function(e){try{return nu(e,{facetId:ne,values:new eo.Ms({each:new eo.ld({values:ps})})}),pk({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:no(t)}}}),pI=function(e,t){return"object"==eY(e)&&0===Object.keys(e_({},e)).length||!t||!e||!(e.excluded&&e.excluded.includes(t))&&!!(e.included&&(0===e.included.length||e.included.includes(t)))},pq=rb(uW(),function(e){e.addCase(di,function(e,t){return e_(e_({},e),t.payload)}).addCase(cq.fulfilled,function(e){e.freezeFacetOrder=!1}).addCase(cq.rejected,function(e){e.freezeFacetOrder=!1}).addCase(lg,function(e,t){for(var n in e.facets){var r=e.facets[n];Object.keys(e_({},r.tabs)).length>0&&(r.enabled=pI(r.tabs,t.payload))}}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.facetOptions)?n:e}).addCase(dk,function(e,t){var n=t.payload,r=n.facetId;pO(n.tabs,n.activeTab,e,r)}).addCase(f9,function(e,t){var n=t.payload,r=n.facetId;pO(n.tabs,n.activeTab,e,r)}).addCase(pv,function(e,t){var n=t.payload,r=n.facetId;pO(n.tabs,n.activeTab,e,r)}).addCase(pS,function(e,t){var n=t.payload,r=n.facetId;pO(n.tabs,n.activeTab,e,r)}).addCase(du,function(e,t){e.facets[t.payload].enabled=!0}).addCase(dc,function(e,t){e.facets[t.payload].enabled=!1}).addCase(oN,function(e,t){var n,r,a,i,o;t.payload.tab&&Object.entries(e.facets).forEach(function(e){var n,r=eQ(e,2)[1];Object.keys(null!=(n=r.tabs)?n:{}).length>0&&(r.enabled=pI(r.tabs,t.payload.tab))}),[].concat(eB(Object.keys(null!=(n=t.payload.f)?n:{})),eB(Object.keys(null!=(r=t.payload.fExcluded)?r:{})),eB(Object.keys(null!=(a=t.payload.cf)?a:{})),eB(Object.keys(null!=(i=t.payload.nf)?i:{})),eB(Object.keys(null!=(o=t.payload.df)?o:{}))).forEach(function(t){t in e||(e.facets[t]=uY()),e.facets[t].enabled=!0})})});function pO(e,t,n,r){var a=e_(e_({},uY()),{},{tabs:null!=e?e:{}});e&&Object.keys(e).length>0&&(a.enabled=pI(e,t)),n.facets[r]=a}var pA=ri(function(e){return e},function(e){if(!e)return"";for(var t in e)if(e[t].isActive)return e[t].id;return""});function pE(e){return[e.facetSet,e.numericFacetSet,e.dateFacetSet,e.categoryFacetSet]}new eo.V_({field:fH,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),basePath:fY,delimitingCharacter:fW,facetId:f$,facetSearch:f4,filterByBasePath:fK,filterFacetCount:fJ,injectionDepth:fZ,numberOfValues:fX,sortCriteria:new eo.Gm({constrainTo:["alphanumeric","occurrences"]})});var pF=Intl.supportedValuesOf("currency"),pT=new eo.Gm({required:!0,emptyAllowed:!1,constrainTo:pF}),pD={url:ne},pM={latitude:new eo.bt({min:-90,max:90,required:!0}),longitude:new eo.bt({min:-180,max:180,required:!0})},pP={language:ne,country:ne,currency:pT,view:new eo.ld({options:{required:!0},values:pD}),location:new eo.ld({options:{required:!1},values:pM})};new eo.V_(pP);var pj=rl("commerce/context/set",function(e){return nc(e,pP)}),p_=rl("commerce/context/setView",function(e){return nc(e,pD)});rl("commerce/context/setLocation",function(e){return nc(e,pM)});var pV=rb({},function(e){e.addCase(fA,function(e,t){fl(e,t.payload,pU)}).addCase(fE,function(e,t){fd(e,t.payload)}).addCase(dL.pending,function(e,t){ff(e,t.meta.arg.facetId,t.meta.requestId)}).addCase(dQ.pending,function(e,t){ff(e,d$(t.meta.arg.facetId),t.meta.requestId)}).addCase(fC.pending,function(e,t){ff(e,t.meta.arg,t.meta.requestId)}).addCase(dL.rejected,function(e,t){fp(e,t.meta.arg.facetId)}).addCase(dQ.rejected,function(e,t){fp(e,d$(t.meta.arg.facetId))}).addCase(fC.rejected,function(e,t){fp(e,t.meta.arg)}).addCase(dL.fulfilled,function(e,t){fv(e,t.payload,t.meta.requestId)}).addCase(dQ.fulfilled,function(e,t){fg(e,t.payload,t.meta.requestId,pU)}).addCase(d1.fulfilled,function(e,t){!function(e,t,n,r){if(t.fieldSuggestionsFacets){var a,i=eG(t.fieldSuggestionsFacets);try{for(i.s();!(a=i.n()).done;){var o,u=a.value;u.facetId in e||"regular"!==u.type||(e[u.facetId]={options:e_(e_({},fb),{},{query:null!=(o=t.query)?o:""}),isLoading:!1,response:r(),initialNumberOfValues:fb.numberOfValues,requestId:n})}}catch(e){i.e(e)}finally{i.f()}}}(e,t.payload,t.meta.requestId,pU)}).addCase(fC.fulfilled,function(e,t){fh(e,t.payload,t.meta.requestId)}).addCase(fI,function(e,t){fm(e,t.payload,pU)}).addCase(cq.fulfilled,function(e){fy(e,pU)}).addCase(dZ.fulfilled,function(e){return fy(e,pU)}).addCase(fc.fulfilled,function(e){return fy(e,pU)}).addCase(p_,function(e){return fy(e,pU)})});function pU(){return{moreValuesAvailable:!1,values:[]}}var pL=rb({},function(e){e.addCase(f9,function(e,t){var n,r=t.payload.facetId;r in e||(e[r]={request:(n=t.payload,e_(e_({},pz),{},{type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1},n)),hasBreadcrumbs:!0})}).addCase(oJ.fulfilled,function(e,t){if(t.payload&&0!==Object.keys(t.payload.facetSet).length)return t.payload.facetSet}).addCase(oN,function(e,t){var n=t.payload.f||{},r=t.payload.fExcluded||{};Object.keys(e).forEach(function(t){var a=e[t].request,i=n[t]||[],o=r[t]||[],u=i.length+o.length,c=a.currentValues.filter(function(e){return!i.includes(e.value)&&!o.includes(e.value)});a.currentValues=[].concat(eB(i.map(pG)),eB(o.map(p$)),eB(c.map(pH))),a.preventAutoSelect=u>0,a.numberOfValues=Math.max(u,a.numberOfValues)})}).addCase(pe,function(e,t){var n,r=t.payload,a=r.facetId,i=r.selection,o=null==(n=e[a])?void 0:n.request;if(o){o.preventAutoSelect=!0;var u=o.currentValues.find(function(e){return e.value===i.value});if(!u)return void pQ(o,i);var c="selected"===u.state;u.state=c?"idle":"selected",o.freezeCurrentValues=!0}}).addCase(pt,function(e,t){var n,r=t.payload,a=r.facetId,i=r.selection,o=null==(n=e[a])?void 0:n.request;if(o){o.preventAutoSelect=!0;var u=o.currentValues.find(function(e){return e.value===i.value});if(!u)return void pQ(o,i);var c="excluded"===u.state;u.state=c?"idle":"excluded",o.freezeCurrentValues=!0}}).addCase(po,function(e,t){var n,r=t.payload,a=r.facetId,i=r.freezeCurrentValues,o=null==(n=e[a])?void 0:n.request;o&&(o.freezeCurrentValues=i)}).addCase(pn,function(e,t){var n;dh(null==(n=e[t.payload])?void 0:n.request)}).addCase(o2,function(e){Object.values(e).filter(function(e){return e.hasBreadcrumbs}).forEach(function(e){return dh(e.request)})}).addCase(o4,function(e){Object.values(e).filter(function(e){return!e.hasBreadcrumbs}).forEach(function(e){return dh(e.request)})}).addCase(o3,function(e,t){return Object.values(e).forEach(function(e){e.request.preventAutoSelect=!t.payload.allow})}).addCase(pr,function(e,t){dp(e,t.payload)}).addCase(pa,function(e,t){var n,r=t.payload,a=r.facetId,i=r.numberOfValues;dv(null==(n=e[a])?void 0:n.request,i)}).addCase(pi,function(e,t){var n,r=t.payload,a=r.facetId,i=r.isFieldExpanded,o=null==(n=e[a])?void 0:n.request;o&&(o.isFieldExpanded=i)}).addCase(cq.fulfilled,function(e,t){t.payload.response.facets.forEach(function(t){var n;return pN(null==(n=e[t.facetId])?void 0:n.request,t)})}).addCase(cE.fulfilled,function(e,t){t.payload.response.facets.forEach(function(t){var n;return pN(null==(n=e[t.facetId])?void 0:n.request,t)})}).addCase(fF,function(e,t){var n,r=t.payload,a=r.facetId,i=r.value,o=null==(n=e[a])?void 0:n.request;if(o){var u=i.rawValue,c=o.currentValues.find(function(e){return e.value===u});if(c){c.state="selected";return}pQ(o,pG(u)),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}}).addCase(fT,function(e,t){var n,r=t.payload,a=r.facetId,i=r.value,o=null==(n=e[a])?void 0:n.request;if(o){var u=i.rawValue,c=o.currentValues.find(function(e){return e.value===u});if(c){c.state="excluded";return}pQ(o,p$(u)),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}}).addCase(dc,function(e,t){t.payload in e&&dh(e[t.payload].request)})});function pQ(e,t){var n=e.currentValues,r=n.findIndex(function(e){return"idle"===e.state}),a=-1===r?n.length:r;e.currentValues.splice(a,0,t),r>-1&&e.currentValues.pop(),e.numberOfValues=e.currentValues.length}function pN(e,t){e&&(e.currentValues=t.values.map(pB),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}var pz={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic",resultsMustMatch:"atLeastOneValue"};function pB(e){return{value:e.value,state:e.state}}function pG(e){return{value:e,state:"selected"}}function p$(e){return{value:e,state:"excluded"}}function pH(e){return e_(e_({},e),{},{state:"idle"})}var pY=function(e){return"selected"===e.state},pW=function(e){return"excluded"===e.state},pK=function(e,t){var n={facetId:e,facetValue:t.value};return pY(t)?fL(n):fV(n)},pJ=function(e,t){var n={facetId:e,facetValue:t.value};return pW(t)?fQ(n):fU(n)},pZ={facetId:ne,selection:new eo.ld({values:f8})},pX=rP("facet/executeToggleSelect",function(e,t){var n=e.facetId,r=e.selection,a=t.dispatch;(0,t.extra.validatePayload)({facetId:n,selection:r},pZ),a(pe({facetId:n,selection:r})),a(di())}),p0=rP("facet/executeToggleExclude",function(e,t){var n=e.facetId,r=e.selection,a=t.dispatch;(0,t.extra.validatePayload)({facetId:n,selection:r},pZ),a(pt({facetId:n,selection:r})),a(di())}),p1=["allValues","atLeastOneValue"],p2=["score","alphanumeric","alphanumericDescending","occurrences","automatic","alphanumericNatural","alphanumericNaturalDescending"],p4=new eo.V_({facetId:f$,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),field:fH,filterFacetCount:fJ,injectionDepth:fZ,numberOfValues:fX,sortCriteria:new eo.Gm({constrainTo:p2}),resultsMustMatch:new eo.Gm({constrainTo:p1}),facetSearch:f4}),p3=new eo.V_({facetId:f$,field:fH,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),filterFacetCount:fJ,injectionDepth:fZ,numberOfValues:fX,sortCriteria:new eo.Gm({constrainTo:p2}),resultsMustMatch:new eo.Gm({constrainTo:p1}),facetSearch:f4,allowedValues:f3,hasBreadcrumbs:f5,customSort:f6});function p5(e,t){e.addReducers({facetSet:pL,configuration:lk,facetSearchSet:pV,search:cQ}),!1;var n,r,a,i,o,u,c,s,l,d,f,p,h,v,g,m,y,b,w=e.dispatch,k=function(e,t){var n,r,a,i,o,u,c,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p4;e.addReducers({facetSet:pL,facetOptions:pq,configuration:lk,facetSearchSet:pV}),!1;var l=e.dispatch,d=lQ(e),f=(n=t.options,r=e.state,a=e.logger,i=n.field,n.facetId||function(e,t){var n,r,a,i,o,u,c,s=e.field,l=e.state;if(r=(n=e).field,!pE(n.state).some(function(e){return e&&r in e}))return s;var d="".concat(s,"_"),f=(a=d,i=pE(l).map(function(e){return Object.keys(e||{})}).reduce(function(e,t){return e.concat(t)},[]),o=a,(null!=(u=i.map(function(e){var t=parseInt(e.split(o)[1],10);return Number.isNaN(t)?0:t}).sort().pop())?u:0)+1);return c=s,t.warn('A facet with field "'.concat(c,'" already exists.\n  To avoid unexpected behaviour, configure the #id option on the facet controller.')),"".concat(d).concat(f)}({field:i,state:r},a)),p=null!=(c=t.options.tabs)?c:{},h=pA(e.state.tabSet),v=e_(e_(e_({},pz),(o="facetSearch",(u=t.options)[o],eN(u,[o].map(ez)))),{},{field:t.options.field,facetId:f,tabs:p,activeTab:h}),g=e_({facetSearch:e_(e_({},fb),t.options.facetSearch)},v);nl(e,s,g,"buildFacet");var m=function(){return iB(e.state,f)},y=function(){var e=m().currentValues,t=g.numberOfValues,n=!!e.find(function(e){return"idle"===e.state});return t<e.length&&n};return l(f9(v)),e_(e_({},d),{},{toggleSelect:function(e){return l(pX({facetId:g.facetId,selection:e}))},toggleExclude:function(e){return l(p0({facetId:g.facetId,selection:e}))},toggleSingleSelect:function(e){"idle"===e.state&&l(pn(f)),this.toggleSelect(e)},toggleSingleExclude:function(e){"idle"===e.state&&l(pn(f)),this.toggleExclude(e)},isValueSelected:pY,isValueExcluded:pW,deselectAll:function(){l(pn(f)),l(di())},sortBy:function(e){l(pr({facetId:f,criterion:e})),l(di())},isSortedBy:function(e){return this.state.sortCriterion===e},showMoreValues:function(){var e=m().numberOfValues,t=g.numberOfValues;l(pa({facetId:f,numberOfValues:e+(t-e%t)})),l(pi({facetId:f,isFieldExpanded:!0})),l(di())},showLessValues:function(){l(pa({facetId:f,numberOfValues:Math.max(g.numberOfValues,m().currentValues.filter(function(e){return"idle"!==e.state}).length)})),l(pi({facetId:f,isFieldExpanded:!1})),l(di())},enable:function(){l(du(f))},disable:function(){l(dc(f))},get state(){var b,w=m(),k=iG(e.state,f),S=e.state.search.isLoading,x=fG(e.state,f);b="object"==eY(w.sortCriteria)?"descending"===w.sortCriteria.order?"alphanumericDescending":"alphanumeric":w.sortCriteria;var C=k?k.values:[],R=C.some(function(e){return"idle"!==e.state}),I=!!k&&k.moreValuesAvailable,q=w.resultsMustMatch;return{label:null==k?void 0:k.label,facetId:f,tabs:p,values:C,sortCriterion:b,resultsMustMatch:q,isLoading:S,hasActiveValues:R,canShowMoreValues:I,canShowLessValues:y(),enabled:x}}})}(e,e_(e_({},t),{},{options:e_(e_({},t.options),t.options.allowedValues&&{allowedValues:{type:"simple",values:t.options.allowedValues}})}),p3),S=function(){return k.state.facetId},x=(n=t.options.facetSearch,r={options:e_({facetId:S()},n),select:function(e){w(di()),w(cq({legacy:fV({facetId:S(),facetValue:e.rawValue}),next:fz()}))},exclude:function(e){w(di()),w(cq({legacy:fU({facetId:S(),facetValue:e.rawValue}),next:fB()}))},isForFieldSuggestions:!1,executeFacetSearchActionCreator:fC,executeFieldSuggestActionCreator:fR},a=e.dispatch,i=r.options,o=r.select,u=r.exclude,c=r.isForFieldSuggestions,s=r.executeFacetSearchActionCreator,l=r.executeFieldSuggestActionCreator,d=i.facetId,a(fA(i)),f={options:i,getFacetSearch:function(){return"state"in e?e.state.facetSearchSet[d]:e[dW].facetSearchSet[d]},isForFieldSuggestions:c,executeFacetSearchActionCreator:s,executeFieldSuggestActionCreator:l},p=e.dispatch,h=f.options,v=f.getFacetSearch,g=f.executeFacetSearchActionCreator,m=f.executeFieldSuggestActionCreator,y=h.facetId,b={updateText:function(e){p(fE({facetId:y,query:e,numberOfValues:v().initialNumberOfValues}))},showMoreResults:function(){var e=v(),t=e.initialNumberOfValues;p(fE({facetId:y,numberOfValues:e.options.numberOfValues+t})),p(f.isForFieldSuggestions?m(y):g(y))},search:function(){p(f.isForFieldSuggestions?m(y):g(y))},clear:function(){p(fI({facetId:y}))},updateCaptions:function(e){p(fE({facetId:y,captions:e}))},get state(){var C=v(),R=C.response,I=C.isLoading,q=C.options.query,O=R.values;return e_(e_({},R),{},{values:O,isLoading:I,query:q})}},e_(e_({},b),{},{select:function(e){a(fF({facetId:d,value:e})),o(e)},exclude:function(e){a(fT({facetId:d,value:e})),u(e)},singleSelect:function(e){a(pn(d)),a(fF({facetId:d,value:e})),o(e)},singleExclude:function(e){a(pn(d)),a(fT({facetId:d,value:e})),u(e)},get state(){var A=b.state.values;return e_(e_({},b.state),{},{values:A.map(function(e){return{count:e.count,displayValue:e.displayValue,rawValue:e.rawValue}})})}})),E=(x.state,eN(x,ew));return e_(e_({},k),{},{facetSearch:E,toggleSelect:function(e){k.toggleSelect(e),w(cq({legacy:pK(S(),e),next:pY(e)?{actionCause:"facetDeselect"}:fz()}))},toggleExclude:function(e){k.toggleExclude(e),w(cq({legacy:pJ(S(),e),next:pW(e)?{actionCause:"facetUnexclude"}:fB()}))},deselectAll:function(){k.deselectAll(),w(cq({legacy:f_(S()),next:{actionCause:"facetClearAll"}}))},sortBy:function(e){k.sortBy(e),w(cq({legacy:fj({facetId:S(),criterion:e})}))},isSortedBy:function(e){return this.state.sortCriterion===e},showMoreValues:function(){k.showMoreValues(),w(cE({legacy:fM(S())}))},showLessValues:function(){k.showLessValues(),w(cE({legacy:fP(S())}))},get state(){return e_(e_({},k.state),{},{facetSearch:x.state})}})}var p6=rl("rangeFacet/executeToggleSelect",function(e){return nc(e,pd(e.selection))}),p8=rl("rangeFacet/executeToggleExclude",function(e){return nc(e,pd(e.selection))}),p7={facetId:ne,selection:new eo.ld({values:pl})};rP("dateFacet/executeToggleSelect",function(e,t){var n=t.dispatch;(0,t.extra.validatePayload)(e,p7),n(pg(e)),n(p6(e)),n(di())}),rP("dateFacet/executeToggleExclude",function(e,t){var n=t.dispatch;(0,t.extra.validatePayload)(e,p7),n(pm(e)),n(p8(e)),n(di())});var p9={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even",resultsMustMatch:"atLeastOneValue"};function he(e,t){var n=t.request,r=n.facetId;if(!(r in e)){var a=hc(n);n.numberOfValues=a,e[r]=t}}function ht(e,t,n){var r,a=null==(r=e[t])?void 0:r.request;a&&(a.currentValues=n,a.numberOfValues=hc(a))}function hn(e,t,n){var r,a=null==(r=e[t])?void 0:r.request;if(a){var i=hu(a.currentValues,n);if(i){var o="selected"===i.state;i.state=o?"idle":"selected",a.preventAutoSelect=!0}}}function hr(e,t,n){var r,a=null==(r=e[t])?void 0:r.request;if(a){var i=hu(a.currentValues,n);if(i){var o="excluded"===i.state;i.state=o?"idle":"excluded",a.preventAutoSelect=!0}}}function ha(e,t){var n,r=null==(n=e[t])?void 0:n.request;r&&r.currentValues.forEach(function(e){return e.state="idle"})}function hi(e,t){Object.entries(e).forEach(function(e){var n=eQ(e,2),r=n[0],a=n[1].request,i=t[r]||[];a.currentValues.forEach(function(e){var t=!!hu(i,e);return e.state=t?"selected":"idle",e});var o=i.filter(function(e){return!hu(a.currentValues,e)}),u=a.currentValues;u.push.apply(u,eB(o)),a.numberOfValues=Math.max(a.numberOfValues,u.length)})}function ho(e,t,n){t.forEach(function(t){var r,a=null==(r=e[t.facetId])?void 0:r.request;a&&(a.currentValues=n(t.values),a.preventAutoSelect=!1)})}function hu(e,t){var n=t.start,r=t.end;return e.find(function(e){return e.start===n&&e.end===r})}function hc(e){var t=e.generateAutomaticRanges,n=e.currentValues,r=e.numberOfValues;return t?Math.max(r,n.length):n.length}function hs(e){return e.map(function(e){return e.numberOfResults,eN(e,ek)})}rb({},function(e){e.addCase(pv,function(e,t){var n;he(e,{request:(n=t.payload,e_(e_({},p9),{},{currentValues:[],preventAutoSelect:!1,type:"dateRange"},n))})}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.dateFacetSet)?n:e}).addCase(oN,function(e,t){hi(e,t.payload.df||{})}).addCase(pg,function(e,t){var n=t.payload;hn(e,n.facetId,n.selection)}).addCase(pm,function(e,t){var n=t.payload;hr(e,n.facetId,n.selection)}).addCase(py,function(e,t){var n=t.payload;ht(e,n.facetId,n.values)}).addCase(pn,function(e,t){ha(e,t.payload)}).addCase(o2,function(e){Object.keys(e).forEach(function(t){ha(e,t)})}).addCase(pc,function(e,t){dp(e,t.payload)}).addCase(cq.fulfilled,function(e,t){ho(e,t.payload.response.facets,hs)}).addCase(dc,function(e,t){ha(e,t.payload)})});var hl=["idle","selected","excluded"],hd=["ascending","descending"],hf=["even","equiprobable"],hp={start:new eo.Gm,end:new eo.Gm,endInclusive:new eo.Lb,state:new eo.Gm({constrainTo:hl})};function hh(e){return e.map(function(e){return e.numberOfResults,eN(e,eS)})}new eo.V_({facetId:f$,field:fH,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),generateAutomaticRanges:f0,filterFacetCount:fJ,injectionDepth:fZ,numberOfValues:fX,currentValues:new eo.Ms({each:new eo.ld({values:hp})}),sortCriteria:new eo.Gm({constrainTo:hd}),rangeAlgorithm:new eo.Gm({constrainTo:hf})}),rb({},function(e){e.addCase(pS,function(e,t){var n;he(e,{request:(n=t.payload,e_(e_({},p9),{},{currentValues:[],preventAutoSelect:!1,type:"numericalRange"},n))})}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.numericFacetSet)?n:e}).addCase(oN,function(e,t){hi(e,t.payload.nf||{})}).addCase(px,function(e,t){var n=t.payload;hn(e,n.facetId,n.selection)}).addCase(pC,function(e,t){var n=t.payload;hr(e,n.facetId,n.selection)}).addCase(pR,function(e,t){var n=t.payload;ht(e,n.facetId,n.values)}).addCase(pn,function(e,t){ha(e,t.payload)}).addCase(o2,function(e){Object.keys(e).forEach(function(t){ha(e,t)})}).addCase(pc,function(e,t){dp(e,t.payload)}).addCase(cq.fulfilled,function(e,t){ho(e,t.payload.response.facets,hh)}).addCase(dc,function(e,t){ha(e,t.payload)})});var hv={facetId:ne,selection:new eo.ld({values:ps})};rP("numericFacet/executeToggleSelect",function(e,t){var n=t.dispatch;(0,t.extra.validatePayload)(e,hv),n(px(e)),n(p6(e)),n(di())}),rP("numericFacet/executeToggleExclude",function(e,t){var n=t.dispatch;(0,t.extra.validatePayload)(e,hv),n(pC(e)),n(p8(e)),n(di())});var hg={start:new eo.bt,end:new eo.bt,endInclusive:new eo.Lb,state:new eo.Gm({constrainTo:hl})};new eo.V_({facetId:f$,tabs:new eo.ld({options:{required:!1},values:{included:new eo.Ms({each:new eo.Gm}),excluded:new eo.Ms({each:new eo.Gm})}}),field:fH,generateAutomaticRanges:f0,filterFacetCount:fJ,injectionDepth:fZ,numberOfValues:fX,currentValues:new eo.Ms({each:new eo.ld({values:hg})}),sortCriteria:new eo.Gm({constrainTo:hd}),resultsMustMatch:new eo.Gm({constrainTo:p1}),rangeAlgorithm:new eo.Gm({constrainTo:hf})});var hm={f:new eo.ld,fExcluded:new eo.ld,lf:new eo.ld,cf:new eo.ld,nf:new eo.ld,nfExcluded:new eo.ld,mnf:new eo.ld,mnfExcluded:new eo.ld,df:new eo.ld,dfExcluded:new eo.ld,sortCriteria:new eo.ld,page:new eo.bt({min:0}),perPage:new eo.bt({min:1})},hy=rl("commerce/productListingParameters/restore",function(e){return nc(e,hm)}),hb=e_({q:new eo.Gm},hm),hw=rl("commerce/searchParameters/restore",function(e){return nc(e,hb)});function hk(e,t){return t.payload.response.facets.map(function(e){return e.facetId})}function hS(e,t){var n,r,a,i,o,u;return[].concat(eB(Object.keys(null!=(n=t.payload.f)?n:{})),eB(Object.keys(null!=(r=t.payload.lf)?r:{})),eB(Object.keys(null!=(a=t.payload.nf)?a:{})),eB(Object.keys(null!=(i=t.payload.df)?i:{})),eB(Object.keys(null!=(o=t.payload.cf)?o:{})),eB(Object.keys(null!=(u=t.payload.mnf)?u:{})))}rb([],function(e){e.addCase(cq.fulfilled,hk).addCase(dZ.fulfilled,hk).addCase(fc.fulfilled,hk).addCase(hw,hS).addCase(hy,hS).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.facetOrder)?n:e}).addCase(p_,function(){return[]}).addCase(pj,function(){return[]})});var hx=function(){return ov("history/analytics/forward",function(e){return e.makeSearchEvent("historyForward")})},hC=function(){return ov("history/analytics/backward",function(e){return e.makeSearchEvent("historyBackward")})},hR=function(){return ov("history/analytics/noresultsback",function(e){return e.makeNoResultsBack()})},hI=function(e){return{past:[],present:e,future:[]}},hq=Object.getOwnPropertyNames,hO=Object.getOwnPropertySymbols,hA=Object.prototype.hasOwnProperty;function hE(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function hF(e){return function(t,n,r){if(!t||!n||"object"!=eY(t)||"object"!=eY(n))return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var u=e(t,n,r);return a.delete(t),a.delete(n),u}}function hT(e){return hq(e).concat(hO(e))}var hD=Object.hasOwn||function(e,t){return hA.call(e,t)};function hM(e,t){return e||t?e===t:e===t||e!=e&&t!=t}var hP="_owner",hj=Object.getOwnPropertyDescriptor,h_=Object.keys;function hV(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function hU(e,t){return hM(e.getTime(),t.getTime())}function hL(e,t,n){if(e.size!==t.size)return!1;for(var r,a,i={},o=e.entries(),u=0;(r=o.next())&&!r.done;){for(var c=t.entries(),s=!1,l=0;(a=c.next())&&!a.done;){var d=r.value,f=d[0],p=d[1],h=a.value,v=h[0],g=h[1];!s&&!i[l]&&(s=n.equals(f,v,u,l,e,t,n)&&n.equals(p,g,f,v,e,t,n))&&(i[l]=!0),l++}if(!s)return!1;u++}return!0}function hQ(e,t,n){var r,a=h_(e),i=a.length;if(h_(t).length!==i)return!1;for(;i-- >0;)if((r=a[i])===hP&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!hD(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function hN(e,t,n){var r,a,i,o=hT(e),u=o.length;if(hT(t).length!==u)return!1;for(;u-- >0;)if((r=o[u])===hP&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!hD(t,r)||!n.equals(e[r],t[r],r,r,e,t,n)||(a=hj(e,r),i=hj(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable)))return!1;return!0}function hz(e,t){return hM(e.valueOf(),t.valueOf())}function hB(e,t){return e.source===t.source&&e.flags===t.flags}function hG(e,t,n){if(e.size!==t.size)return!1;for(var r,a,i={},o=e.values();(r=o.next())&&!r.done;){for(var u=t.values(),c=!1,s=0;(a=u.next())&&!a.done;)!c&&!i[s]&&(c=n.equals(r.value,a.value,r.value,a.value,e,t,n))&&(i[s]=!0),s++;if(!c)return!1}return!0}function h$(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var hH=Array.isArray,hY="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,hW=Object.assign,hK=Object.prototype.toString.call.bind(Object.prototype.toString);function hJ(e){void 0===e&&(e={});var t,n,r,a,i,o,u,c,s,l=e.circular,d=e.createInternalComparator,f=e.createState,p=e.strict,h=(n=(t=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?hN:hV,areDatesEqual:hU,areMapsEqual:r?hE(hL,hN):hL,areObjectsEqual:r?hN:hQ,arePrimitiveWrappersEqual:hz,areRegExpsEqual:hB,areSetsEqual:r?hE(hG,hN):hG,areTypedArraysEqual:r?hN:h$};if(n&&(a=hW({},a,n(a))),t){var i=hF(a.areArraysEqual),o=hF(a.areMapsEqual),u=hF(a.areObjectsEqual),c=hF(a.areSetsEqual);a=hW({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:c})}return a}(e)).areArraysEqual,r=t.areDatesEqual,a=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,s=t.areTypedArraysEqual,function(e,t,l){if(e===t)return!0;if(null==e||null==t||"object"!=eY(e)||"object"!=eY(t))return e!=e&&t!=t;var d=e.constructor;if(d!==t.constructor)return!1;if(d===Object)return i(e,t,l);if(hH(e))return n(e,t,l);if(null!=hY&&hY(e))return s(e,t,l);if(d===Date)return r(e,t,l);if(d===RegExp)return u(e,t,l);if(d===Map)return a(e,t,l);if(d===Set)return c(e,t,l);var f=hK(e);return"[object Date]"===f?r(e,t,l):"[object RegExp]"===f?u(e,t,l):"[object Map]"===f?a(e,t,l):"[object Set]"===f?c(e,t,l):"[object Object]"===f?"function"!=typeof e.then&&"function"!=typeof t.then&&i(e,t,l):"[object Arguments]"===f?i(e,t,l):("[object Boolean]"===f||"[object Number]"===f||"[object String]"===f)&&o(e,t,l)}),v=d?d(h):function(e,t,n,r,a,i,o){return h(e,t,o)};return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var u=r(),c=u.cache;return n(e,o,{cache:void 0===c?t?new WeakMap:void 0:c,equals:a,meta:u.meta,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:void 0!==l&&l,comparator:h,createState:f,equals:v,strict:void 0!==p&&p})}function hZ(e,t){return e.length===t.length&&e.every(function(e){return -1!==t.findIndex(function(t){return hX(e,t)})})}hJ(),hJ({strict:!0}),hJ({circular:!0}),hJ({circular:!0,strict:!0}),hJ({createInternalComparator:function(){return hM}}),hJ({strict:!0,createInternalComparator:function(){return hM}}),hJ({circular:!0,createInternalComparator:function(){return hM}}),hJ({circular:!0,createInternalComparator:function(){return hM},strict:!0});var hX=hJ({createCustomConfig:function(e){return e_(e_({},e),{},{areArraysEqual:hZ})}}),h0=rb(uJ({}),function(e){e.addCase(oK,function(e,t){return h1(e,t.payload)?void 0:t.payload})}),h1=function(e,t){return h2(e.context,t.context)&&h4(e.dictionaryFieldContext,t.dictionaryFieldContext)&&vr(e.advancedSearchQueries,t.advancedSearchQueries)&&h3(e.tabSet,t.tabSet)&&h6(e.staticFilterSet,t.staticFilterSet)&&h7(e.facetSet,t.facetSet)&&h7(e.dateFacetSet,t.dateFacetSet)&&h7(e.numericFacetSet,t.numericFacetSet)&&ve(e.automaticFacetSet,t.automaticFacetSet)&&h9(e.categoryFacetSet,t.categoryFacetSet)&&vt(e.pagination,t.pagination)&&vn(e.query,t.query)&&va(e,t)&&vi(e.pipeline,t.pipeline)&&vo(e.searchHub,t.searchHub)&&vu(e.facetOrder,t.facetOrder)&&vc(e.debug,t.debug)},h2=function(e,t){return JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues)},h4=function(e,t){return JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues)},h3=function(e,t){var n=h5(e),r=h5(t);return(null==n?void 0:n.id)===(null==r?void 0:r.id)},h5=function(e){return Object.values(e).find(function(e){return e.isActive})},h6=function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=eQ(r[n],2),i=a[0],o=a[1];if(!e[i])return!1;var u=h8(e[i]),c=h8(o);if(JSON.stringify(u)!==JSON.stringify(c))return!1}return!0},h8=function(e){return e.values.filter(function(e){return"idle"!==e.state})},h7=function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a=eQ(r[n],2),i=a[0],o=a[1];if(!e[i])return!1;var u=e[i].request.currentValues.filter(function(e){return"idle"!==e.state}),c=o.request.currentValues.filter(function(e){return"idle"!==e.state});if(JSON.stringify(u)!==JSON.stringify(c))return!1}return!0},h9=function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var a,i=eQ(r[n],2),o=i[0],u=i[1];if(!e[o])return!1;var c=i$(null==(a=e[o])?void 0:a.request.currentValues).map(function(e){return e.value}),s=i$(null==u?void 0:u.request.currentValues).map(function(e){return e.value});if(JSON.stringify(c)!==JSON.stringify(s))return!1}return!0},ve=function(e,t){for(var n=0,r=Object.entries(t.set);n<r.length;n++){var a=eQ(r[n],2),i=a[0],o=a[1];if(!e.set[i])return!1;var u=e.set[i].response.values.filter(function(e){return"idle"!==e.state}),c=o.response.values.filter(function(e){return"idle"!==e.state});if(JSON.stringify(u)!==JSON.stringify(c))return!1}return!0},vt=function(e,t){return e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults},vn=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},vr=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},va=function(e,t){return e.sortCriteria===t.sortCriteria},vi=function(e,t){return e===t},vo=function(e,t){return e===t},vu=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return e.length===t.length&&-1===e.findIndex(function(e,r){return!n(t[r],e)})}(e,t)},vc=function(e,t){return e===t};(Y={actionTypes:{redo:oW.type,undo:oY.type,snapshot:oK.type},reducer:h0}).actionTypes,Y.reducer,hI();var vs=new eo.bt({min:1,default:8,required:!1}),vl={desiredCount:new eo.bt({min:1,max:20,default:5,required:!1}),numberOfValues:vs},vd=rl("automaticFacet/setOptions",function(e){return nc(e,vl)}),vf=rl("automaticFacet/deselectAll",function(e){return nc(e,ne)}),vp=rl("automaticFacet/toggleSelectValue",function(e){return nc(e,{field:ne,selection:new eo.ld({values:f8})})}),vh=rb(uK(),function(e){e.addCase(un,function(e,t){var n=vg(e),r=t.payload;e.defaultNumberOfResults=e.numberOfResults=r,e.firstResult=(n-1)*r}).addCase(ur,function(e,t){e.numberOfResults=t.payload,e.firstResult=0}).addCase(lg,function(e){e.firstResult=0}).addCase(ua,function(e,t){var n;n=t.payload,e.firstResult=(n-1)*e.numberOfResults}).addCase(ui,function(e,t){var n;n=t.payload,e.firstResult=(n-1)*e.numberOfResults}).addCase(uu,function(e){var t=Math.max(vg(e)-1,1);e.firstResult=(t-1)*e.numberOfResults}).addCase(uo,function(e){var t,n=Math.min(vg(e)+1,vy((t=e).totalCountFiltered,t.numberOfResults));e.firstResult=(n-1)*e.numberOfResults}).addCase(oJ.fulfilled,function(e,t){t.payload&&(e.numberOfResults=t.payload.pagination.numberOfResults,e.firstResult=t.payload.pagination.firstResult)}).addCase(oN,function(e,t){var n,r;e.firstResult=null!=(n=t.payload.firstResult)?n:e.firstResult,e.numberOfResults=null!=(r=t.payload.numberOfResults)?r:e.defaultNumberOfResults}).addCase(cq.fulfilled,function(e,t){e.totalCountFiltered=t.payload.response.totalCountFiltered}).addCase(pn,function(e){vv(e)}).addCase(pm,function(e){vv(e)}).addCase(pt,function(e){vv(e)}).addCase(pC,function(e){vv(e)}).addCase(fT,function(e){vv(e)}).addCase(pe,function(e){vv(e)}).addCase(dx,function(e){vv(e)}).addCase(dS,function(e){vv(e)}).addCase(dd,function(e){vv(e)}).addCase(pg,function(e){vv(e)}).addCase(px,function(e){vv(e)}).addCase(o2,function(e){vv(e)}).addCase(py,function(e){vv(e)}).addCase(pR,function(e){vv(e)}).addCase(fF,function(e){vv(e)}).addCase(vp,function(e){vv(e)})});function vv(e){e.firstResult=uK().firstResult}function vg(e){return vm(e.firstResult,e.numberOfResults)}function vm(e,t){return Math.round(e/t)+1}function vy(e,t){return Math.ceil(Math.min(e,5e3)/t)}function vb(e){return e.pagination.numberOfResults}var vw=function(e){return vm(e.pagination.firstResult,vb(e))},vk=function(e){return vy(e.pagination.totalCountFiltered,vb(e))},vS=function(e,t){for(var n,r,a,i,o,u,c,s,l=vw(e),d=vk(e),f={start:(n=l)-(a=Math.floor((r=t)/2)),end:n+(r%2==0?a-1:a)},p=(u=(o=Math.max(1-(i=f).start,0),f={start:i.start+o,end:i.end+o}),c=d,s=Math.max(u.end-c,0),f={start:Math.max(u.start-s,1),end:u.end-s}),h=[],v=p.start;v<=p.end;++v)h.push(v);return h},vx=function(){return ov("analytics/pager/resize",function(e,t){var n;return e.makePagerResize({currentResultsPerPage:(null==(n=t.pagination)?void 0:n.numberOfResults)||uK().numberOfResults})})},vC=function(){return ov("analytics/pager/number",function(e,t){return e.makePagerNumber({pagerNumber:vw(t)})})},vR=function(){return ov("analytics/pager/next",function(e,t){return e.makePagerNext({pagerNumber:vw(t)})})},vI=function(){return ov("analytics/pager/previous",function(e,t){return e.makePagerPrevious({pagerNumber:vw(t)})})},vq=function(){return{actionCause:"browseResults"}},vO=new eo.V_({numberOfPages:new eo.bt({default:5,min:0})}),vA=new eo.V_({page:new eo.bt({min:1})});function vE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.dispatch,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.addReducers({configuration:lk,pagination:vh}),!1;var n=lQ(e),r=e.dispatch,a=nl(e,vO,t.options,"buildPager"),i=ns(e,vA,t.initialState,"buildPager").page;i&&r(ua(i));var o=function(){var t=a.numberOfPages;return vS(e.state,t)};return e_(e_({},n),{},{get state(){var u=vw(e.state),c=vk(e.state);return{currentPage:u,currentPages:o(),maxPage:c,hasPreviousPage:u>1&&c>0,hasNextPage:u<c}},selectPage:function(e){r(ui(e))},nextPage:function(){r(uo())},previousPage:function(){r(uu())},isCurrentPage:function(e){return e===this.state.currentPage}})}(e,t);return e_(e_({},r),{},{get state(){return r.state},selectPage:function(e){r.selectPage(e),n(cO({legacy:vC(),next:vq()}))},nextPage:function(){r.nextPage(),n(cO({legacy:vR(),next:vq()}))},previousPage:function(){r.previousPage(),n(cO({legacy:vI(),next:vq()}))}})}var vF=new eo.V_({fieldsToInclude:new eo.Ms({required:!1,each:new eo.Gm({required:!0,emptyAllowed:!1})})});function vT(e,t){return function(e,t){e.addReducers({search:cQ,configuration:lk,fields:lJ}),!1;var n,r=lQ(e),a=function(e){e.addReducers({search:cQ}),!1;return e_(e_({},lQ(e)),{},{get state(){var t=e.state;return{hasError:null!==t.search.error,isLoading:t.search.isLoading,hasResults:!!t.search.results.length,firstSearchExecuted:c_(t)}}})}(e),i=e.dispatch,o=nl(e,vF,null==t?void 0:t.options,"buildCoreResultList");o.fieldsToInclude&&i(lN(o.fieldsToInclude));var u=function(){return e.state.search.results.length<e.state.search.response.totalCountFiltered},c=0,s=0,l=!1;return e_(e_({},r),{},{get state(){var d=e.state;return e_(e_({},a.state),{},{results:d.search.results,moreResultsAvailable:u(),searchResponseId:d.search.searchResponseId})},fetchMoreResults:(n=eL(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.state.search.isLoading){n.next=2;break}return n.abrupt("return");case 2:if(u()){n.next=5;break}return e.logger.info("No more results are available for the result list to fetch."),n.abrupt("return");case 5:if(!(Date.now()-c<200)){n.next=11;break}if(!(++s>=5)){n.next=9;break}return c=Date.now(),l||e.logger.error('The result list method "fetchMoreResults" execution prevented because it has been triggered consecutively '.concat(5," times, with little delay. Please verify the conditions under which the function is called.")),l=!0,n.abrupt("return");case 9:n.next=12;break;case 11:s=0;case 12:if(l=!1,n.t0=null==t?void 0:t.fetchMoreResultsActionCreator,!n.t0){n.next=18;break}return n.next=17,i(null==t?void 0:t.fetchMoreResultsActionCreator());case 17:c=Date.now();case 18:case"end":return n.stop()}},n)})),function(){return n.apply(this,arguments)})})}(e,e_(e_({},t),{},{fetchMoreResultsActionCreator:cA}))}var vD={results:new eo.Ms({required:!0,each:new eo.ld({values:ob})}),maxLength:new eo.bt({required:!0,min:1,default:10})},vM=rl("recentResults/registerRecentResults",function(e){return nc(e,vD)}),vP=rl("recentResults/pushRecentResult",function(e){return ow(e),{payload:e}}),vj=rl("recentResults/clearRecentResults");function v_(e,t){var n=!1,r=function(){var r;n||(n=!0,e.dispatch((r=t.options.result,ov({prefix:"analytics/result/open",__legacy__getBuilder:function(e,t){return ow(r),e.makeDocumentOpen(og(r,t),om(r))},analyticsType:"itemClick",analyticsPayloadBuilder:function(e){var t,n=og(r,e),a=om(r);return{responseId:null!=(t=r.searchUid)?t:"",position:n.documentPosition,itemMetadata:{uniqueFieldName:a.contentIDKey,uniqueFieldValue:a.contentIDValue,title:n.documentTitle,author:n.documentAuthor,url:n.documentUrl}}}}))))},a=function(){r(),e.dispatch(vP(t.options.result))};e.addReducers({configuration:lk}),!1;var i,o=e_({selectionDelay:1e3,debounceWait:1e3},t.options);return{select:lR(a,o.debounceWait,{isImmediate:!0}),beginDelayedSelect:function(){i=setTimeout(a,o.selectionDelay)},cancelPendingSelect:function(){i&&clearTimeout(i)}}}new eo.V_({numberOfResults:new eo.bt({min:0})});var vV={id:ne},vU=rl("querySuggest/register",function(e){return nc(e,e_(e_({},vV),{},{count:new eo.bt({min:0})}))}),vL=rl("querySuggest/unregister",function(e){return nc(e,vV)}),vQ=rl("querySuggest/selectSuggestion",function(e){return nc(e,e_(e_({},vV),{},{expression:nn}))}),vN=rl("querySuggest/clear",function(e){return nc(e,vV)}),vz=rP("querySuggest/fetch",(W=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,o=(i=n.extra).apiClient,u=i.validatePayload,c=i.navigatorContext,u(t,vV),s=t.id,e.next=5,vB(s,r(),c);case 5:return l=e.sent,e.next=8,o.querySuggest(l);case 8:return d=e.sent,e.abrupt("return",t8(d)?a(d.error):e_({id:s,q:l.q},d.success));case 10:case"end":return e.stop()}},e)})),function(e,t){return W.apply(this,arguments)})),vB=(K=eL(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=e_,e.t1=e_,e.t2=e_(e_(e_({accessToken:n.configuration.accessToken,organizationId:n.configuration.organizationId,url:null!=(a=n.configuration.search.apiBaseUrl)?a:tN(n.configuration.organizationId,n.configuration.environment),count:n.querySuggest[t].count,q:n.querySet[t],locale:n.configuration.search.locale,timezone:n.configuration.search.timezone,actionsHistory:n.configuration.analytics.enabled?iV.getHistory():[]},n.context&&{context:n.context.contextValues}),n.pipeline&&{pipeline:n.pipeline}),n.searchHub&&{searchHub:n.searchHub}),e.t3={},e.t4={tab:n.configuration.analytics.originLevel2},e.t5=n.configuration.analytics.enabled,!e.t5){e.next=18;break}if(e.t6=e_,e.t7={},!(n.configuration.analytics.enabled&&"legacy"===n.configuration.analytics.analyticsMode)){e.next=15;break}return e.next=12,ud(n.configuration.analytics);case 12:e.t8=e.sent,e.next=16;break;case 15:e.t8=us(n.configuration.analytics,r);case 16:e.t9=e.t8,e.t5=(0,e.t6)(e.t7,e.t9);case 18:return e.t10=e.t5,e.t11=(0,e.t1)(e.t2,e.t3,e.t4,e.t10),e.t12=n.configuration.search.authenticationProviders.length&&{authentication:n.configuration.search.authenticationProviders.join(",")},e.abrupt("return",(0,e.t0)(e.t11,e.t12));case 22:case"end":return e.stop()}},e)})),function(e,t,n){return K.apply(this,arguments)}),vG=function(){return ov("analytics/searchbox/submit",function(e){return e.makeSearchboxSubmit()})},v$={id:ne,query:nn},vH=rl("querySet/register",function(e){return nc(e,v$)}),vY=rl("querySet/update",function(e){return nc(e,v$)}),vW=rl("commerce/querySet/register",function(e){return nc(e,v$)}),vK=rl("commerce/querySet/update",function(e){return nc(e,v$)}),vJ=rb({},function(e){e.addCase(vH,function(e,t){return v1(e,t.payload)}).addCase(vW,function(e,t){return v1(e,t.payload)}).addCase(vY,function(e,t){var n=t.payload;v0(e,n.id,n.query)}).addCase(vK,function(e,t){var n=t.payload;v0(e,n.id,n.query)}).addCase(vQ,function(e,t){var n=t.payload;v0(e,n.id,n.expression)}).addCase(d4,function(e,t){var n=t.payload;v0(e,n.id,n.expression)}).addCase(fc.fulfilled,function(e,t){vX(e,t.payload.queryExecuted)}).addCase(cq.fulfilled,function(e,t){vX(e,t.payload.queryExecuted)}).addCase(oN,vZ).addCase(hw,vZ).addCase(oJ.fulfilled,function(e,t){if(t.payload)for(var n=0,r=Object.entries(t.payload.querySet);n<r.length;n++){var a=eQ(r[n],2);v0(e,a[0],a[1])}})});function vZ(e,t){(0,eo.le)(t.payload.q)||vX(e,t.payload.q)}function vX(e,t){Object.keys(e).forEach(function(n){return e[n]=t})}var v0=function(e,t,n){t in e&&(e[t]=n)},v1=function(e,t){var n=t.id,r=t.query;n in e||(e[n]=r)},v2=function(e){return ov("analytics/querySuggest",function(t,n){var r=function(e,t){var n=t.id,r=t.suggestion,a=e.querySuggest&&e.querySuggest[n];if(!a)throw Error('Unable to determine the query suggest analytics metadata to send because no query suggest with id "'.concat(n,'" was found. Please check the sent #id.'));var i=a.completions.map(function(e){return e.expression}),o=a.partialQueries.length-1,u=a.partialQueries[o]||"",c=a.responseId;return{suggestionRanking:i.indexOf(r),partialQuery:u,partialQueries:a.partialQueries,suggestions:i,querySuggestResponseId:c}}(n,e);return t.makeOmniboxAnalytics(r)})},v4=rb({},function(e){return e.addCase(vU,function(e,t){v3(e,t.payload)}).addCase(d2,function(e,t){v3(e,t.payload)}).addCase(vL,function(e,t){delete e[t.payload.id]}).addCase(vz.pending,v5).addCase(vz.fulfilled,function(e,t){var n=e[t.meta.arg.id];if(n&&t.meta.requestId===n.currentRequestId){var r=t.payload.q;r&&n.partialQueries.push(r.replace(/;/,encodeURIComponent(";"))),n.responseId=t.payload.responseId,n.completions=t.payload.completions,n.isLoading=!1,n.error=null}}).addCase(vz.rejected,v6).addCase(d1.pending,v5).addCase(d1.fulfilled,function(e,t){var n=e[t.meta.arg.id];if(n&&t.meta.requestId===n.currentRequestId){var r=t.payload.query;r&&n.partialQueries.push(r.replace(/;/,encodeURIComponent(";"))),n.responseId=t.payload.responseId,n.completions=t.payload.completions.map(function(e){return{expression:e.expression,highlighted:e.highlighted,score:0,executableConfidence:0}}),n.isLoading=!1,n.error=null}}).addCase(d1.rejected,v6).addCase(vN,function(e,t){v8(e,t.payload)}).addCase(d0,function(e,t){v8(e,t.payload)})});function v3(e,t){var n=t.id;n in e||(e[n]=e_({id:"",completions:[],responseId:"",count:5,currentRequestId:"",error:null,partialQueries:[],isLoading:!1},t))}function v5(e,t){var n=e[t.meta.arg.id];n&&(n.currentRequestId=t.meta.requestId,n.isLoading=!0)}function v6(e,t){var n=e[t.meta.arg.id];n&&(n.error=t.payload||null,n.isLoading=!1)}function v8(e,t){var n=e[t.id];n&&(n.responseId="",n.completions=[],n.partialQueries=[])}var v7=rb(or(),function(e){return e.addCase(uc,function(e,t){return e_(e_({},e),t.payload)}).addCase(uN,function(e,t){e.q=t.payload}).addCase(vQ,function(e,t){e.q=t.payload.expression}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.query)?n:e}).addCase(oN,function(e,t){var n,r;e.q=null!=(n=t.payload.q)?n:e.q,e.enableQuerySyntax=null!=(r=t.payload.enableQuerySyntax)?r:e.enableQuerySyntax})}),v9={enableQuerySyntax:!1,numberOfSuggestions:5,clearFilters:!0},ge={open:new eo.Gm,close:new eo.Gm},gt={id:ne,numberOfSuggestions:new eo.bt({min:0}),enableQuerySyntax:new eo.Lb,highlightOptions:new eo.ld({values:{notMatchDelimiters:new eo.ld({values:ge}),exactMatchDelimiters:new eo.ld({values:ge}),correctionDelimiters:new eo.ld({values:ge})}}),clearFilters:new eo.Lb},gn=new eo.V_(gt);function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e,t){e.addReducers({query:v7,querySuggest:v4,configuration:lk,querySet:vJ,search:cQ}),!1;var n,r,a,i=lQ(e),o=e.dispatch,u=(null==(r=t.options)?void 0:r.id)||tv("search_box"),c=e_(e_({id:u,highlightOptions:e_({},null==(a=t.options)?void 0:a.highlightOptions)},v9),t.options);nl(e,gn,c,"buildSearchBox"),o(vH({id:u,query:e.state.query.q})),c.numberOfSuggestions&&o(vU({id:u,count:c.numberOfSuggestions}));var s=function(){return e.state.querySet[c.id]},l=(n=eL(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=c.enableQuerySyntax,a=c.clearFilters,o(cI({q:s(),enableQuerySyntax:r,clearFilters:a})),t.isNextAnalyticsReady?o(t.executeSearchActionCreator(n)):o(t.executeSearchActionCreator(n.legacy));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});return e_(e_({},i),{},{updateText:function(e){o(vY({id:u,query:e})),this.showSuggestions()},clear:function(){o(vY({id:u,query:""})),o(vN({id:u}))},showSuggestions:function(){c.numberOfSuggestions&&o(t.fetchQuerySuggestionsActionCreator({id:u}))},selectSuggestion:function(e){o(vQ({id:u,expression:e})),l({legacy:v2({id:u,suggestion:e}),next:{actionCause:"omniboxAnalytics"}}).then(function(){o(vN({id:u}))})},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vG(),t=arguments.length>1?arguments[1]:void 0;l({legacy:e,next:t}),o(vN({id:u}))},get state(){var d,f,p=e.state,h=p.querySuggest[c.id],v=(d=h,f=c.highlightOptions,d?d.completions.map(function(e){return{highlightedValue:tw(e.highlighted,f),rawValue:e.expression}}):[]),g=!!h&&h.isLoading;return{searchBoxId:u,value:s(),suggestions:v,isLoading:p.search.isLoading,isLoadingSuggestions:g}}})}(e,e_(e_({},t),{},{executeSearchActionCreator:cq,fetchQuerySuggestionsActionCreator:vz,isNextAnalyticsReady:!0}));return e_(e_({},n),{},{submit:function(){n.submit(vG(),{actionCause:"searchboxSubmit"})},get state(){return n.state}})}var ga=function(e,t){var n=e.id;if(!t[n])return t[n]={q:"",cache:{}},t},gi=function(e,t){var n=e.q,r=e.id;n&&(t[r].q=n)},go=function(e,t){var n=e.id;Object.entries(t[n].cache).forEach(function(e){var r,a=eQ(e,2),i=a[0];(r=a[1])&&r.expiresAt&&Date.now()>=r.expiresAt&&delete t[n].cache[i]})},gu=function(e,t,n){for(var r in t)for(var a in t[r].cache)t[r].cache[a].isActive=!1;if(!gl(e,t))return void gd(e,t,n);var i=gl(e,t);i.isLoading=!0,i.isActive=!0,i.error=null},gc=function(e,t,n){var r=e.id,a=e.q,i=e.searchUid,o=e.cacheTimeout,u=e.totalCountFiltered,c=e.duration;t[r].cache[a]=e_(e_(e_({},gl(e,t)),n),{},{isActive:!0,searchUid:i,isLoading:!1,error:null,expiresAt:o?o+Date.now():0,totalCountFiltered:u,duration:c})},gs=function(e,t){var n=e.id,r=e.q,a=e.error;t[n].cache[r].error=a||null,t[n].cache[r].isLoading=!1,t[n].cache[r].isActive=!1},gl=function(e,t){var n=e.q;return t[e.id].cache[n]||null},gd=function(e,t,n){var r=e.q;t[e.id].cache[r]=e_({isLoading:!0,error:null,expiresAt:0,isActive:!0,searchUid:"",totalCountFiltered:0,duration:0},n)};rb({},function(e){e.addCase(o7,function(e,t){ga(t.payload,e)}),e.addCase(o9,function(e,t){gi(t.payload,e)}),e.addCase(ue,function(e,t){go(t.payload,e)}),e.addCase(cF.pending,function(e,t){gu(t.meta.arg,e,{results:[]})}),e.addCase(cF.fulfilled,function(e,t){var n=t.payload.results.map(function(e){return e_(e_({},e),{},{searchUid:t.payload.searchUid})});gc(e_(e_({},t.payload),t.meta.arg),e,{results:n})}),e.addCase(cF.rejected,function(e,t){gs(t.meta.arg,e)})});var gf={searchBoxId:nt,maxResultsPerQuery:new eo.bt({required:!0,min:1}),cacheTimeout:new eo.bt};new eo.V_(gf);var gp=function(){return ov("analytics/sort/results",function(e,t){return e.makeResultsSort({resultsSortBy:t.sortCriteria||ou()})})},gh={by:new eo.af({enum:oi,required:!0})},gv=rl("sortCriteria/register",function(e){return gm(e)}),gg=rl("sortCriteria/update",function(e){return gm(e)}),gm=function(e){return(0,eo.kJ)(e)?(e.forEach(function(e){return nc(e,gh)}),{payload:e}):nc(e,gh)};rb(ou(),function(e){e.addCase(gv,function(e,t){return oo(t.payload)}).addCase(gg,function(e,t){return oo(t.payload)}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.sortCriteria)?n:e}).addCase(oN,function(e,t){var n;return null!=(n=t.payload.sortCriteria)?n:e})});var gy=new eo.ld({options:{required:!0},values:{caption:nn,expression:nn,state:new eo.Gm({constrainTo:["idle","selected","excluded"]})}}),gb=new eo.Ms({required:!0,each:gy}),gw=rl("staticFilter/register",function(e){return nc(e,{id:ne,values:gb})}),gk=rl("staticFilter/toggleSelect",function(e){return nc(e,{id:ne,value:gy})}),gS=rl("staticFilter/toggleExclude",function(e){return nc(e,{id:ne,value:gy})}),gx=rl("staticFilter/deselectAllFilterValues",function(e){return nc(e,ne)}),gC=function(e){return ov("analytics/staticFilter/select",function(t){return t.makeStaticFilterSelect(e)})},gR=function(e){return ov("analytics/staticFilter/deselect",function(t){return t.makeStaticFilterDeselect(e)})},gI=function(e){return ov("analytics/staticFilter/clearAll",function(t){return t.makeStaticFilterClearAll(e)})};function gq(e,t){t in e&&Object.keys(e).forEach(function(n){e[n].isActive=n===t})}rb({},function(e){return e.addCase(gw,function(e,t){var n=t.payload,r=n.id;r in e||(e[r]=n)}).addCase(gk,function(e,t){var n=t.payload,r=n.id,a=n.value,i=e[r];if(i){var o=i.values.find(function(e){return e.caption===a.caption});if(o){var u="selected"===o.state;o.state=u?"idle":"selected"}}}).addCase(gS,function(e,t){var n=t.payload,r=n.id,a=n.value,i=e[r];if(i){var o=i.values.find(function(e){return e.caption===a.caption});if(o){var u="excluded"===o.state;o.state=u?"idle":"excluded"}}}).addCase(gx,function(e,t){var n=e[t.payload];n&&n.values.forEach(function(e){return e.state="idle"})}).addCase(o2,function(e){Object.values(e).forEach(function(e){e.values.forEach(function(e){return e.state="idle"})})}).addCase(oN,function(e,t){var n=t.payload.sf||{};Object.entries(e).forEach(function(e){var t=eQ(e,2),r=t[0],a=t[1],i=n[r]||[];a.values.forEach(function(e){e.state=i.includes(e.caption)?"selected":"idle"})})})}),new eo.V_({id:ne,values:gb}),rb({},function(e){e.addCase(lv,function(e,t){var n=t.payload,r=n.id;r in e||(e[r]=e_(e_({},n),{},{isActive:!1}))}).addCase(lg,function(e,t){gq(e,t.payload)}).addCase(oz,function(e,t){gq(e,t.payload)}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.tabSet)?n:e})}),new eo.V_({expression:nn,id:ne,clearFiltersOnTabChange:new eo.Lb}),new eo.V_({isActive:new eo.Lb});var gO={categoryFacetId:ne,categoryFacetPath:new eo.Ms({required:!0,each:ne})},gA=function(e,t){var n,r=t.categoryFacetId,a=t.categoryFacetPath,i=null==(n=e.categoryFacetSet[r])?void 0:n.request.field,o="".concat(i,"_").concat(r);return{categoryFacetId:r,categoryFacetPath:a,categoryFacetField:i,categoryFacetTitle:o}},gE=function(e){return ov("analytics/categoryFacet/breadcrumb",function(t,n){return nc(e,gO),t.makeBreadcrumbFacet(gA(n,e))})},gF=function(){return ov("analytics/facet/deselectAllBreadcrumbs",function(e){return e.makeBreadcrumbResetAll()})},gT=function(e,t){var n=t.facetId,r=t.selection,a=(e.dateFacetSet[n]||e.numericFacetSet[n]).request.field,i="".concat(a,"_").concat(n);return{facetId:n,facetField:a,facetTitle:i,facetRangeEndInclusive:r.endInclusive,facetRangeEnd:"".concat(r.end),facetRangeStart:"".concat(r.start)}},gD=function(e){return ov("analytics/dateFacet/breadcrumb",function(t,n){nc(e,pd(e.selection));var r=gT(n,e);return t.makeBreadcrumbFacet(r)})},gM=function(e){return ov("analytics/numericFacet/breadcrumb",function(t,n){nc(e,pd(e.selection));var r=gT(n,e);return t.makeBreadcrumbFacet(r)})};function gP(e){return"redirect"===e.type}var gj=function(){function e(t){eD(this,e),this.response=t}return eP(e,[{key:"basicExpression",get:function(){return this.response.parsedInput.basicExpression}},{key:"largeExpression",get:function(){return this.response.parsedInput.largeExpression}},{key:"redirectionUrl",get:function(){var e=this.response.preprocessingOutput.triggers.filter(gP);return e.length?e[0].content:null}}]),e}(),g_=rl("standaloneSearchBox/register",function(e){return nc(e,{id:ne,redirectionUrl:ne,overwrite:new eo.Lb({required:!1})})}),gV=rl("standaloneSearchBox/updateRedirectionUrl",function(e){return nc(e,{id:ne,redirectionUrl:ne})}),gU=rl("standaloneSearchBox/reset",function(e){return nc(e,{id:ne})}),gL=rl("standaloneSearchBox/updateAnalyticsToSearchFromLink",function(e){return nc(e,{id:ne})}),gQ=rl("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),gN=rP("standaloneSearchBox/fetchRedirect",(J=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.getState,i=n.rejectWithValue,u=(o=n.extra).apiClient,c=o.validatePayload,s=o.navigatorContext,c(t,{id:new eo.Gm({emptyAllowed:!1})}),e.next=4,gB(a(),s);case 4:return l=e.sent,e.next=7,u.plan(l);case 7:if(!t8(d=e.sent)){e.next=10;break}return e.abrupt("return",i(d.error));case 10:return f=new gj(d.success).redirectionUrl,e.abrupt("return",(f&&r(gz(f)),f||""));case 12:case"end":return e.stop()}},e)})),function(e,t){return J.apply(this,arguments)})),gz=function(e){return ov("analytics/standaloneSearchBox/redirect",function(t){return t.makeTriggerRedirect({redirectedTo:e})})},gB=(Z=eL(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=e_,e.t1=e_,e.t2=e_(e_(e_({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:null!=(r=t.configuration.search.apiBaseUrl)?r:tN(t.configuration.organizationId,t.configuration.environment),locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,q:t.query.q},t.context&&{context:t.context.contextValues}),t.pipeline&&{pipeline:t.pipeline}),t.searchHub&&{searchHub:t.searchHub}),!(t.configuration.analytics.enabled&&"legacy"===t.configuration.analytics.analyticsMode)){e.next=9;break}return e.next=6,ud(t.configuration.analytics);case 6:e.t3=e.sent,e.next=10;break;case 9:e.t3=us(t.configuration.analytics,n);case 10:return e.t4=e.t3,e.t5=(0,e.t1)(e.t2,e.t4),e.t6=t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},e.abrupt("return",(0,e.t0)(e.t5,e.t6));case 14:case"end":return e.stop()}},e)})),function(e,t){return Z.apply(this,arguments)});function gG(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}function g$(){return(g$=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(i=t.configuration).search,u=i.accessToken,c=i.organizationId,s=(null==(r=t.query)?void 0:r.q)||"",e.abrupt("return",e_(e_({url:null!=(a=o.apiBaseUrl)?a:tN(t.configuration.organizationId,t.configuration.environment),accessToken:u,organizationId:c,enableNavigation:!1,q:s},n),{},{requestedOutputSize:n.requestedOutputSize||0},o.authenticationProviders.length&&{authentication:o.authenticationProviders.join(",")}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}rb({},function(e){return e.addCase(g_,function(e,t){var n=t.payload,r=n.id,a=n.redirectionUrl;!n.overwrite&&r in e||(e[r]=gG(a))}).addCase(gU,function(e,t){var n=t.payload.id,r=e[n];if(r){e[n]=gG(r.defaultRedirectionUrl);return}}).addCase(gV,function(e,t){var n=t.payload,r=n.id,a=n.redirectionUrl;r in e&&(e[r]=gG(a))}).addCase(gN.pending,function(e,t){var n=e[t.meta.arg.id];n&&(n.isLoading=!0)}).addCase(gN.fulfilled,function(e,t){var n=t.payload,r=e[t.meta.arg.id];r&&(r.redirectTo=n||r.defaultRedirectionUrl,r.isLoading=!1)}).addCase(gN.rejected,function(e,t){var n=e[t.meta.arg.id];n&&(n.isLoading=!1)}).addCase(gL,function(e,t){var n=e[t.payload.id];n&&(n.analytics.cause="searchFromLink")}).addCase(gQ,function(e,t){var n=e[t.payload.id];n&&(n.analytics.cause="omniboxFromLink",n.analytics.metadata=t.payload.metadata)})}),new eo.V_(e_(e_({},gt),{},{redirectionUrl:new eo.Gm({required:!0,emptyAllowed:!1}),overwrite:new eo.Lb({required:!1})})),new eo.V_({parameters:new eo.ld({options:{required:!0},values:oQ})}),new eo.V_({fragment:new eo.Gm});var gH=rP("resultPreview/fetchResultContent",(X=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,a=n.getState,i=n.rejectWithValue,o=a(),e.next=4,function(e,t){return g$.apply(this,arguments)}(o,t);case 4:return u=e.sent,e.next=7,r.apiClient.html(u);case 7:return c=e.sent,e.abrupt("return",t8(c)?i(c.error):{content:c.success,uniqueId:t.uniqueId});case 9:case"end":return e.stop()}},e)})),function(e,t){return X.apply(this,arguments)})),gY=rl("resultPreview/next"),gW=rl("resultPreview/previous"),gK=rl("resultPreview/prepare",function(e){return nc(e,{results:new eo.Ms({required:!0})})}),gJ=rP("resultPreview/updateContentURL",(ee=eL(regeneratorRuntime.mark(function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.extra,i=r(),e.t0=t2,e.next=5,t.buildResultPreviewRequest(i,{uniqueId:t.uniqueId,requestedOutputSize:t.requestedOutputSize});case 5:return e.t1=e.sent,e.t2=t.path,o=(0,e.t0)(e.t1,e.t2),e.abrupt("return",((null==o?void 0:o.length)>2048&&a.logger.error("The content URL was truncated as it exceeds the maximum allowed length of ".concat(2048," characters.")),{contentURL:o}));case 9:case"end":return e.stop()}},e)})),function(e,t){return ee.apply(this,arguments)}));function gZ(){return{uniqueId:"",content:"",isLoading:!1,position:-1,resultsWithPreview:[]}}var gX=function(e){var t=gZ(),n=t.content,r=t.isLoading,a=t.uniqueId,i=t.contentURL;e.content=n,e.isLoading=r,e.uniqueId=a,e.contentURL=i},g0=function(e){return e.filter(function(e){return e.hasHtmlVersion}).map(function(e){return e.uniqueId})};function g1(e,t){return e.raw[t.parent]}function g2(e,t){var n=e.raw[t.child];return Array.isArray(n)?n[0]:n}function g4(e,t,n,r){var a={};return e.forEach(function(e){var i,o,u,c=e.raw[t.collection];c&&(g2(e,t)||e.parentResult)&&(a[c]=(o=ol(e),{result:u=e_(e_({},null!=(i=null!=r?r:o.find(function(e){var n,r,a=void 0===g1(e,t),i=(n=g1(e,t),r=g2(e,t),(n||r)!==void 0&&n===r);return a||i}))?i:function e(t){return t.parentResult?e(t.parentResult):t}(e)),{},{searchUid:n}),children:function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=g2(t,r);return i?-1!==a.indexOf(i)?[]:n.filter(function(e){var n=g2(e,r)===g2(t,r);return g1(e,r)===i&&!n}).map(function(o){var u=e_(e_({},o),{},{searchUid:t.searchUid});return{result:u,children:e(u,n,r,[].concat(eB(a),[i]))}}):[]}(u,o,t),moreResultsAvailable:e.totalNumberOfChildResults>1,isLoadingMoreResults:!1}))}),a}function g3(e,t){if(!e.collections[t])throw Error("Missing collection ".concat(t," from ").concat(Object.keys(e.collections),": Folding most probably in an invalid state..."));return e.collections[t]}function g5(e){return e.query="",e.queryModification={originalQuery:"",newQuery:"",queryToIgnore:e.queryModification.queryToIgnore},e}function g6(e){return nc(e,new eo.ld({values:{questionAnswerId:ne},options:{required:!0}}))}function g8(e,t){var n,r,a,i,o=null!=t?t:null==(a=e.search)||null==(i=a.questionAnswer)?void 0:i.documentId;return o&&e.search&&(n=o.contentIdKey,r=o.contentIdValue,e.search.results.find(function(e){return((0,eo.le)(e[n])?(0,eo.le)(e.raw[n])?null:e.raw[n]:e[n])===r}))}function g7(e,t){var n,r,a,i,o,u,c=null!=(n=null==(r=e.questionAnswering)?void 0:r.relatedQuestions.findIndex(function(e){return e.questionAnswerId===t}))?n:-1;return -1===c?null:null!=(a=null==(i=e.search)||null==(o=i.questionAnswer)||null==(u=o.relatedQuestions)?void 0:u[c])?a:null}rb(gZ(),function(e){e.addCase(gH.pending,function(e){e.isLoading=!0}).addCase(gH.fulfilled,function(e,t){var n=t.payload,r=n.content,a=n.uniqueId;e.position=e.resultsWithPreview.indexOf(a),e.content=r,e.uniqueId=a,e.isLoading=!1}).addCase(cq.fulfilled,function(e,t){gX(e),e.resultsWithPreview=g0(t.payload.response.results)}).addCase(cA.fulfilled,function(e,t){gX(e),e.resultsWithPreview=e.resultsWithPreview.concat(g0(t.payload.response.results))}).addCase(cO.fulfilled,gX).addCase(gK,function(e,t){e.resultsWithPreview=g0(t.payload.results)}).addCase(gY,function(e){if(!e.isLoading){var t=e.position+1;t>e.resultsWithPreview.length-1&&(t=0),e.position=t}}).addCase(gW,function(e){if(!e.isLoading){var t=e.position-1;t<0&&(t=e.resultsWithPreview.length-1),e.position=t}}).addCase(gJ.fulfilled,function(e,t){e.contentURL=t.payload.contentURL})}),rb(lW(),function(e){return e.addCase(cq.fulfilled,function(e,t){var n=t.payload;e.collections=e.enabled?g4(n.response.results,e.fields,n.response.searchUid):{}}).addCase(cO.fulfilled,function(e,t){var n=t.payload;e.collections=e.enabled?g4(n.response.results,e.fields,n.response.searchUid):{}}).addCase(cA.fulfilled,function(e,t){var n=t.payload;e.collections=e.enabled?e_(e_({},e.collections),g4(n.response.results,e.fields,n.response.searchUid)):{}}).addCase(lH,function(e,t){var n,r,a,i,o=t.payload;return e.enabled?e:{enabled:!0,collections:{},fields:{collection:null!=(n=o.collectionField)?n:e.fields.collection,parent:null!=(r=o.parentField)?r:e.fields.parent,child:null!=(a=o.childField)?a:e.fields.child},filterFieldRange:null!=(i=o.numberOfFoldedResults)?i:e.filterFieldRange}}).addCase(lY.pending,function(e,t){g3(e,t.meta.arg).isLoadingMoreResults=!0}).addCase(lY.rejected,function(e,t){g3(e,t.meta.arg).isLoadingMoreResults=!1}).addCase(lY.fulfilled,function(e,t){var n=t.payload,r=n.collectionId,a=n.results,i=n.rootResult,o=n.searchUid,u=g4(a,e.fields,o,i);if(!u||!u[r])throw Error("Unable to create collection ".concat(r," from received results: ").concat(JSON.stringify(a),". Folding most probably in an invalid state... "));e.collections[r]=u[r],e.collections[r].moreResultsAvailable=!1})}),new eo.V_(l$),rb({redirectTo:"",query:"",executions:[],notifications:[],queryModification:{originalQuery:"",newQuery:"",queryToIgnore:""}},function(e){return e.addCase(cq.pending,g5).addCase(cq.fulfilled,function(e,t){var n,r,a,i,o,u;return n=t.payload.response.triggers,a=[],i=[],o=[],u=[],n.forEach(function(e){switch(e.type){case"redirect":a.push(e.content);break;case"query":i.push(e.content);break;case"execute":o.push({functionName:e.content.name,params:e.content.params});break;case"notify":u.push(e.content)}}),e.redirectTo=null!=(r=a[0])?r:"",e.query=e.queryModification.newQuery,e.executions=o,e.notifications=u,e}).addCase(u5,function(e,t){return e.queryModification=e_(e_({},t.payload),{},{queryToIgnore:""}),e}).addCase(u3,function(e,t){var n;return n=t.payload,e.queryModification.queryToIgnore=n,e})});var g9=function(){return ov({prefix:"analytics/smartSnippet/expand",__legacy__getBuilder:function(e){return e.makeExpandSmartSnippet()},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(e){var t,n=g8(e),r=om(n),a=null==(t=e.search)?void 0:t.response.searchUid;if(a)return{action:"expand",snippetType:"SmartSnippet",responseId:a,itemMetadata:{uniqueFieldName:r.contentIDKey,uniqueFieldValue:r.contentIDValue,title:n.title,url:n.clickUri}}}})},me=function(){return ov({prefix:"analytics/smartSnippet/collapse",__legacy__getBuilder:function(e){return e.makeCollapseSmartSnippet()},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(e){var t,n=g8(e),r=om(n),a=null==(t=e.search)?void 0:t.response.searchUid;if(a)return{action:"collapse",snippetType:"SmartSnippet",responseId:a,itemMetadata:{uniqueFieldName:r.contentIDKey,uniqueFieldValue:r.contentIDValue,title:n.title,url:n.clickUri}}}})},mt=function(){return ov({prefix:"analytics/smartSnippet/like",__legacy__getBuilder:function(e){return e.makeLikeSmartSnippet()},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(e){var t,n=g8(e),r=om(n),a=null==(t=e.search)?void 0:t.response.searchUid;if(a)return{action:"like",snippetType:"SmartSnippet",responseId:a,itemMetadata:{uniqueFieldName:r.contentIDKey,uniqueFieldValue:r.contentIDValue,title:n.title,url:n.clickUri}}}})},mn=function(){return ov({prefix:"analytics/smartSnippet/dislike",__legacy__getBuilder:function(e){return e.makeDislikeSmartSnippet()},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(e){var t,n=g8(e),r=om(n),a=null==(t=e.search)?void 0:t.response.searchUid;if(a)return{action:"dislike",snippetType:"SmartSnippet",responseId:a,itemMetadata:{uniqueFieldName:r.contentIDKey,uniqueFieldValue:r.contentIDValue,title:n.title,url:n.clickUri}}}})},mr=function(){return ov("analytics/smartSnippet/feedbackModal/open",function(e){return e.makeOpenSmartSnippetFeedbackModal()})},ma=function(){return ov("analytics/smartSnippet/feedbackModal/close",function(e){return e.makeCloseSmartSnippetFeedbackModal()})},mi={does_not_answer:"doesNotAnswer",partially_answers:"partiallyAnswers",was_not_a_question:"wasNotAQuestion"},mo=function(e){return ov({prefix:"analytics/smartSnippet/sendFeedback",__legacy__getBuilder:function(t){return t.makeSmartSnippetFeedbackReason(e)},analyticsType:"SmartSnippets.SubmitFeedback",analyticsPayloadBuilder:function(t){var n,r=g8(t),a=om(r),i=null==(n=t.search)?void 0:n.response.searchUid;if(i)return{responseId:i,snippetType:"SmartSnippet",itemMetadata:{uniqueFieldName:a.contentIDKey,uniqueFieldValue:a.contentIDValue,title:r.title,url:r.clickUri},reason:mi[e]}}})},mu=function(e){return ov({prefix:"analytics/smartSnippet/sendFeedback",__legacy__getBuilder:function(t){return t.makeSmartSnippetFeedbackReason("other",e)},analyticsType:"SmartSnippets.SubmitFeedback",analyticsPayloadBuilder:function(t){var n,r=g8(t),a=om(r),i=null==(n=t.search)?void 0:n.response.searchUid;if(i)return{responseId:i,snippetType:"SmartSnippet",itemMetadata:{uniqueFieldName:a.contentIDKey,uniqueFieldValue:a.contentIDValue,title:r.title,url:r.clickUri},reason:"other",additionalNotes:e}}})},mc=function(e){return ov({prefix:"analytics/smartSnippetSuggestion/expand",__legacy__getBuilder:function(t,n){g6(e);var r=g7(n,e.questionAnswerId);return r?t.makeExpandSmartSnippetSuggestion({question:r.question,answerSnippet:r.answerSnippet,documentId:r.documentId}):null},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(t){var n,r=g7(t,e.questionAnswerId),a=null==(n=t.search)?void 0:n.response.searchUid;if(a&&r){var i=g8(t,r.documentId);return{action:"expand",responseId:a,snippetType:"SmartSnippetSuggestion",itemMetadata:{uniqueFieldName:r.documentId.contentIdKey,uniqueFieldValue:r.documentId.contentIdValue,title:null==i?void 0:i.title,url:null==i?void 0:i.clickUri}}}}})},ms=function(e){return ov({prefix:"analytics/smartSnippetSuggestion/collapse",__legacy__getBuilder:function(t,n){g6(e);var r=g7(n,e.questionAnswerId);return r?t.makeCollapseSmartSnippetSuggestion({question:r.question,answerSnippet:r.answerSnippet,documentId:r.documentId}):null},analyticsType:"SmartSnippets.AnswerAction",analyticsPayloadBuilder:function(t){var n,r=g7(t,e.questionAnswerId),a=null==(n=t.search)?void 0:n.response.searchUid;if(a&&r){var i=g8(t,r.documentId);return{action:"collapse",responseId:a,snippetType:"SmartSnippetSuggestion",itemMetadata:{uniqueFieldName:r.documentId.contentIdKey,uniqueFieldValue:r.documentId.contentIdValue,title:null==i?void 0:i.title,url:null==i?void 0:i.clickUri}}}}})},ml=rl("smartSnippet/expand"),md=rl("smartSnippet/collapse"),mf=rl("smartSnippet/like"),mp=rl("smartSnippet/dislike"),mh=rl("smartSnippet/feedbackModal/open"),mv=rl("smartSnippet/feedbackModal/close"),mg=rl("smartSnippet/related/expand",function(e){return g6(e)}),mm=rl("smartSnippet/related/collapse",function(e){return g6(e)}),my=function(){return{liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]}},mb=function(e,t){return e.findIndex(function(e){return e.questionAnswerId===t.questionAnswerId})};function mw(e){var t=e.question,n=e.answerSnippet,r=e.documentId;return btoa(encodeURI(JSON.stringify({question:t,answerSnippet:n,contentIdKey:r.contentIdKey,contentIdValue:r.contentIdValue})))}rb(my(),function(e){return e.addCase(ml,function(e){e.expanded=!0}).addCase(md,function(e){e.expanded=!1}).addCase(mf,function(e){e.liked=!0,e.disliked=!1,e.feedbackModalOpen=!1}).addCase(mp,function(e){e.liked=!1,e.disliked=!0}).addCase(mh,function(e){e.feedbackModalOpen=!0}).addCase(mv,function(e){e.feedbackModalOpen=!1}).addCase(cq.fulfilled,function(e,t){var n=t.payload.response.questionAnswer.relatedQuestions.map(function(t,n){var r,a;return r=e.relatedQuestions[n],a=mw(t),r&&a===r.questionAnswerId?r:{contentIdKey:t.documentId.contentIdKey,contentIdValue:t.documentId.contentIdValue,expanded:!1,questionAnswerId:a}}),r=mw(t.payload.response.questionAnswer);return e.questionAnswerId===r?e_(e_({},e),{},{relatedQuestions:n}):e_(e_({},my()),{},{relatedQuestions:n,questionAnswerId:r})}).addCase(mg,function(e,t){var n=mb(e.relatedQuestions,t.payload);-1!==n&&(e.relatedQuestions[n].expanded=!0)}).addCase(mm,function(e,t){var n=mb(e.relatedQuestions,t.payload);-1!==n&&(e.relatedQuestions[n].expanded=!1)})});var mk={queries:new eo.Ms({required:!0,each:new eo.Gm({emptyAllowed:!1})}),maxLength:new eo.bt({required:!0,min:1,default:10})},mS=rl("recentQueries/registerRecentQueries",function(e){return nc(e,mk)}),mx=rl("recentQueries/clearRecentQueries");function mC(e,t){e.queries=Array.from(new Set(t.payload.queries.map(function(e){return e.trim().toLowerCase()}))).slice(0,t.payload.maxLength),e.maxLength=t.payload.maxLength}function mR(e){e.queries=[]}function mI(e){return{value:e,state:"selected",numberOfResults:0}}function mq(){return{id:"",isVisible:!0,isEnabled:!0,isLoading:!1,isStreaming:!1,citations:[],liked:!1,disliked:!1,responseFormat:{contentFormat:["text/plain"]},feedbackModalOpen:!1,feedbackSubmitted:!1,fieldsToIncludeInCitations:[],isAnswerGenerated:!1,expanded:!1,cannotAnswer:!1}}rb({queries:[],maxLength:10},function(e){e.addCase(mS,mC).addCase(mx,mR).addCase(cq.fulfilled,function(e,t){var n=t.payload.queryExecuted,r=t.payload.response.results;n.length&&r.length&&function(e,t){var n=e.trim().toLowerCase();if(""!==n){var r=Array.from(new Set(t.queries.filter(function(e){return e.trim().toLowerCase()!==n}))).slice(0,t.maxLength-1);t.queries=[n].concat(eB(r))}}(n,e)})}),new eo.V_({queries:new eo.Ms({required:!0})}),new eo.V_({maxLength:new eo.bt({required:!0,min:1}),clearFilters:new eo.Lb}),rb({results:[],maxLength:10},function(e){e.addCase(vM,function(e,t){e.results=t.payload.results.slice(0,t.payload.maxLength),e.maxLength=t.payload.maxLength}).addCase(vj,function(e){e.results=[]}).addCase(vP,function(e,t){var n=t.payload;e.results=e.results.filter(function(e){return e.uniqueId!==n.uniqueId});var r=e.results.slice(0,e.maxLength-1);e.results=[n].concat(eB(r))})}),new eo.V_({results:new eo.Ms({required:!0})}),new eo.V_({maxLength:new eo.bt({required:!0,min:1})}),rb(iN(),function(e){e.addCase(cq.fulfilled,function(e,t){var n,r;e.set={},null==(n=t.payload.response.generateAutomaticFacets)||null==(r=n.facets)||r.forEach(function(t){e.set[t.field]={response:t}})}).addCase(vd,function(e,t){t.payload.desiredCount&&(e.desiredCount=t.payload.desiredCount),t.payload.numberOfValues&&(e.numberOfValues=t.payload.numberOfValues)}).addCase(vp,function(e,t){var n,r=t.payload,a=r.field,i=r.selection,o=null==(n=e.set[a])?void 0:n.response;if(o){var u=o.values.find(function(e){return e.value===i.value});if(u){var c="selected"===u.state;u.state=c?"idle":"selected"}}}).addCase(vf,function(e,t){var n=t.payload,r=null==(a=e.set[n])?void 0:a.response;if(r){var a,i,o=eG(r.values);try{for(o.s();!(i=o.n()).done;)i.value.state="idle"}catch(e){o.e(e)}finally{o.f()}}}).addCase(oN,function(e,t){var n=null!=(i=t.payload.af)?i:{},r=Object.keys(e.set);for(var a in n)if(!e.set[a]){var i,o,u={field:a,values:[],moreValuesAvailable:!1,label:"",indexScore:0},c=n[a].map(function(e){return mI(e)});(o=u.values).push.apply(o,eB(c)),e.set[a]={response:u}}for(var s=0;s<r.length;s++){var l=r[s];if(!(l in n)){var d,f,p=eG((null==(d=e.set[l])?void 0:d.response).values);try{for(p.s();!(f=p.n()).done;)f.value.state="idle"}catch(e){p.e(e)}finally{p.f()}}}for(var h in n){var v=null==(g=e.set[h])?void 0:g.response;if(v){var g,m,y=v.values,b=new Set(n[h]),w=eG(y);try{for(w.s();!(m=w.n()).done;){var k=m.value;b.has(k.value)?(k.state="selected",b.delete(k.value)):k.state="idle"}}catch(e){w.e(e)}finally{w.f()}var S,x=eG(b);try{for(x.s();!(S=x.n()).done;){var C=S.value;v.values.push(mI(C))}}catch(e){x.e(e)}finally{x.f()}}}}).addCase(oJ.fulfilled,function(e,t){if(t.payload&&0!==Object.keys(t.payload.automaticFacetSet.set).length)return t.payload.automaticFacetSet}).addCase(o2,function(e){Object.values(e.set).forEach(function(e){e.response.values.forEach(function(e){return e.state="idle"})})})}),rb(mq(),function(e){return e.addCase(c0,function(e,t){e.isVisible=t.payload}).addCase(c1,function(e,t){e.isEnabled=t.payload}).addCase(st,function(e,t){e.id=t.payload.id}).addCase(c2,function(e,t){var n=t.payload;e.isLoading=!1,e.isStreaming=!0,e.answer||(e.answer=""),e.answer+=n.textDelta,delete e.error}).addCase(c4,function(e,t){var n,r,a=t.payload;e.isLoading=!1,e.isStreaming=!0,n=[].concat(eB(e.citations),eB(a.citations)),r=new Set,e.citations=n.filter(function(e){var t=!r.has(e.uri);return t&&r.add(e.uri),t}),delete e.error}).addCase(c3,function(e,t){var n=t.payload;e.isLoading=!1,e.isStreaming=!1,e.error=e_(e_({},n),{},{isRetryable:1===n.code}),e.citations=[],delete e.answer}).addCase(c6,function(e){e.liked=!0,e.disliked=!1}).addCase(c8,function(e){e.liked=!1,e.disliked=!0}).addCase(c7,function(e){e.feedbackModalOpen=!0}).addCase(sn,function(e){e.feedbackModalOpen=!1}).addCase(sr,function(e){e.feedbackSubmitted=!0}).addCase(c5,function(e){return e_(e_(e_({},mq()),e.answerConfigurationId?{answerConfigurationId:e.answerConfigurationId}:{}),{},{responseFormat:e.responseFormat,fieldsToIncludeInCitations:e.fieldsToIncludeInCitations,isVisible:e.isVisible,id:e.id})}).addCase(sa,function(e,t){e.isLoading=t.payload}).addCase(si,function(e,t){e.isStreaming=t.payload}).addCase(so,function(e,t){e.answerContentFormat=t.payload}).addCase(su,function(e,t){e.responseFormat=t.payload}).addCase(ss,function(e,t){e.fieldsToIncludeInCitations=eB(new Set(e.fieldsToIncludeInCitations.concat(t.payload)))}).addCase(sl,function(e,t){e.isAnswerGenerated=t.payload}).addCase(c9,function(e){e.expanded=!0}).addCase(se,function(e){e.expanded=!1}).addCase(sc,function(e,t){e.answerConfigurationId=t.payload}).addCase(sd,function(e,t){e.cannotAnswer=t.payload})}),s9.injectEndpoints({endpoints:function(e){return{post:e.mutation({query:function(e){return{url:"/evaluations",method:"POST",body:e}}})}}});var mO=function(){return new eo.Gm({required:!1,emptyAllowed:!0})},mA=rl("advancedSearchQueries/update",function(e){return nc(e,{aq:mO(),cq:mO(),lq:mO(),dq:mO()})}),mE=rl("advancedSearchQueries/register",function(e){return nc(e,{aq:mO(),cq:mO(),lq:mO(),dq:mO()})});function mF(e){return e.addReducers({fields:lJ}),{registerFieldsToInclude:lN,enableFetchAllFields:lz,disableFetchAllFields:lB,fetchFieldsDescription:lG}}function mT(e){return e.addReducers({search:cQ}),{executeSearch:ca,fetchMoreResults:co,fetchFacetValues:cu,fetchPage:ci,fetchInstantResults:cc}}rb(up(),function(e){e.addCase(mA,function(e,t){var n=t.payload,r=n.aq,a=n.cq,i=n.lq,o=n.dq;(0,eo.o8)(r)||(e.aq=r,e.aqWasSet=!0),(0,eo.o8)(a)||(e.cq=a,e.cqWasSet=!0),(0,eo.o8)(i)||(e.lq=i,e.lqWasSet=!0),(0,eo.o8)(o)||(e.dq=o,e.dqWasSet=!0)}).addCase(mE,function(e,t){var n=t.payload,r=n.aq,a=n.cq,i=n.lq,o=n.dq;(0,eo.o8)(r)||(e.defaultFilters.aq=r,e.aqWasSet||(e.aq=r)),(0,eo.o8)(a)||(e.defaultFilters.cq=a,e.cqWasSet||(e.cq=a)),(0,eo.o8)(i)||(e.defaultFilters.lq=i,e.lqWasSet||(e.lq=i)),(0,eo.o8)(o)||(e.defaultFilters.dq=o,e.dqWasSet||(e.dq=o))}).addCase(oJ.fulfilled,function(e,t){var n,r;return null!=(n=null==(r=t.payload)?void 0:r.advancedSearchQueries)?n:e}).addCase(oN,function(e,t){var n=t.payload,r=n.aq,a=n.cq;(0,eo.o8)(r)||(e.aq=r,e.aqWasSet=!0),(0,eo.o8)(a)||(e.cq=a,e.cqWasSet=!0)})});var mD=rl("excerptLength/set",function(e){return nc(e,new eo.bt({min:0,required:!0}))});function mM(e){return e.addReducers({}),{logClearBreadcrumbs:gF,logInterfaceLoad:oq,logSearchFromLink:oA,logOmniboxFromLink:oE,logInterfaceChange:oO,logDidYouMeanClick:uB,logCategoryFacetBreadcrumb:gE,logFacetBreadcrumb:fN,logFacetClearAll:f_,logFacetUnexclude:fQ,logFacetExclude:fU,logFacetDeselect:fL,logFacetSelect:fV,logFacetShowLess:fP,logFacetShowMore:fM,logFacetUpdateSort:fj,logDateFacetBreadcrumb:gD,logNumericFacetBreadcrumb:gM,logNavigateBackward:hC,logNavigateForward:hx,logPageNext:vR,logPageNumber:vC,logPagePrevious:vI,logPagerResize:vx,logSearchboxSubmit:vG,logQuerySuggestionClick:v2,logResultsSort:gp,logDislikeSmartSnippet:mn,logLikeSmartSnippet:mt,logOpenSmartSnippetFeedbackModal:mr,logCloseSmartSnippetFeedbackModal:ma,logSmartSnippetFeedback:mo,logSmartSnippetDetailedFeedback:mu,logExpandSmartSnippet:g9,logCollapseSmartSnippet:me,logExpandSmartSnippetSuggestion:mc,logCollapseSmartSnippetSuggestion:ms,logNoResultsBack:hR,logStaticFilterSelect:gC,logStaticFilterDeselect:gR,logStaticFilterClearAll:gI,logTriggerQuery:uX,logUndoTriggerQuery:u0,logNotifyTrigger:u1,logTriggerRedirect:u2,logTriggerExecute:u4}}function mP(e){return e.addReducers({}),{logSearchEvent:oC,logClickEvent:oR,logCustomEvent:oI}}rb({length:void 0},function(e){e.addCase(mD,function(e,t){e.length=t.payload})}),new eo.V_({content:new eo.B4({required:!0}),conditions:new eo.B4({required:!0}),priority:new eo.bt({required:!1,default:0,min:0}),fields:new eo.Ms({required:!1,each:ne})}),rP("analytics/addPageViewEntry",(et=eL(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.getState)().configuration.analytics.enabled&&iV.addElement({name:"PageView",value:t,time:JSON.stringify(new Date)});case 2:case"end":return e.stop()}},e)})),function(e,t){return et.apply(this,arguments)}))}}]);